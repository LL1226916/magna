<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, target-densitydpi=device-dpi">
    <title>BPMS - 启动流程</title>
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile.css"/>
    <link rel="stylesheet" type="text/css" href="css/color.css"/>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-datetimepicker.css">
    <link rel="stylesheet" href="libs/formiojs/formio.full.css" />
    <link rel="stylesheet" type="text/css" href="css/jqm-demos.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile.icons.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile.structure.css">
    <link rel="stylesheet" type="text/css" href="css/kc.fab.css">
    <link rel="stylesheet" type="text/css" href="css/all.min.css">
    <link rel="stylesheet" type="text/css" href="css/google-icon.css">
    <link rel="stylesheet" type="text/css" href="css/site.css?v=20201014"/>
    <script src="libs/jquery.js?v=20210120"></script>
    <script src="libs/jquery.form.js?v=20201014"></script>
    <script src="libs/jquery.mobile.js?v=20201014"></script>
    <script src="libs/bootstrap.js?v=20201014"></script>
    <script src="libs/bootstrap-treeview.js?v=20201014"></script>
    <script src="libs/formiojs/formio.full.js?v=20201009"></script>
    <script src="libs/moment/moment.js?v=20201014"></script>
    <script src="libs/moment/locale/zh-cn.js?v=20201014"></script>
    <script src="libs/bootstrap-datetimepicker.js?v=20201014"></script>
    <script src="libs/knockout.js?v=20201014"></script>
    <script src="libs/knockout.mapping.js?v=20201014"></script>
    <script src="libs/koExternalTemplateEngine_all.js?v=20201014"></script>
    <script src="libs/ko.extension.js?v=20201014"></script>
    <script src="libs/shim.min.js?v=20201014"></script>
    <script src="libs/xlsx.full.min.js?v=20201014"></script>
    <script src="libs/oex/utils.js?v=20201014"></script>
    <script src="libs/oex/jqm-checked.js?v=20201014"></script>
    <script src="libs/oex/jqm-datetime.js?v=20201014"></script>
    <script src="libs/oex/jqm-selected.js?v=20201014"></script>
    <script src="libs/oex/jqm-number.js?v=20201014"></script>
    <script src="libs/oex/jqm-money.js?v=20201014"></script>
    <script src="libs/oex/jqm-tel.js?v=20201014"></script>
    <script src="libs/oex/jqm-email.js?v=20201014"></script>
    <script src="libs/oex/jqm-psb.js?v=20201014"></script>
    <script src="libs/oex/jqm-cny.js?v=20201014"></script>
    <script src="libs/oex/jqm-auto.js?v=20201014"></script>
    <script src="libs/oex/jqm-relation.js?v=20201014"></script>
    <script src="libs/oex/jqm-id.js?v=20201014"></script>
    <script src="libs/oex/jqm-upload.js?v=20201014"></script>
    <script src="libs/oex/jqm-switch.js?v=20201014"></script>
    <script src="libs/oex/jqm-tree.js?v=20201014"></script>
    <script src="libs/oex/jqm-value.js?v=20201014"></script>
    <script src="libs/oex/jqm-join.js?v=20201014"></script>
    <script src="libs/oex/jqm-auto-multi.js?v=20201014"></script>
    <script src="libs/oex/jqm-ctr.js?v=20201014"></script>
    <script src="libs/CLDRPluralRuleParser.js?v=20201014"></script>
    <script src="libs/jquery.i18n/jquery.i18n.js?v=20201014"></script>
    <script src="libs/jquery.i18n/jquery.i18n.messagestore.js?v=20201014"></script>
    <script src="libs/jquery.i18n/jquery.i18n.fallbacks.js?v=20201014"></script>
    <script src="libs/jquery.i18n/jquery.i18n.language.js?v=20201014"></script>
    <script src="libs/jquery.i18n/jquery.i18n.parser.js?v=20201014"></script>
    <script src="libs/jquery.i18n/jquery.i18n.emitter.js?v=20201014"></script>
    <script src="libs/jquery.i18n/jquery.i18n.emitter.bidi.js?v=20201014"></script>
    <script src="libs/kc.fab.js?v=20201014"></script>
    <script src="libs/jweixin-1.2.0.js?v=20201014"></script>
    <script src="common/config.js?v=20201014"></script>
    <script src="common/util.js?v=20201014"></script>
    <script src="common/service.js?v=20201014"></script>
    <script src="common/baseViewModel.js?v=20201014"></script>
    <script src="common/formAdditional.js?v=1623897961"></script>
    <script src="processCreate.js?v=20201014"></script>
    <script src="processCreateViewModel.js?v=20201014"></script>


    <link rel="shortcut icon" href="favicon.ico">
<style>
div.table-responsive {
  overflow-y: scroll;
}
.movie-list tbody th {
    font-size: 1.2em;
    color: #77bbff;
    margin-top: 0em;
    text-align: center;
}
/*  Add a bit of extra left padding for the title */
.movie-list tbody td.title {
    padding-left: .8em;
}
/* Add strokes */
.movie-list thead th {
    border-bottom: 1px solid #d6d6d6; /* non-RGBA fallback */
    border-bottom: 1px solid rgba(0, 0, 0, .1);
}
.movie-list tbody th, .movie-list tbody td {
    border-bottom: 1px solid #e6e6e6; /* non-RGBA fallback  */
    border-bottom: 1px solid rgba(0, 0, 0, .05);
}

/*  Custom stacked styles for mobile sizes */
        /*  Use a max-width media query so we don't have to undo these styles */
@media (max-width: 40em) {
/*  Negate the margin between sections */
.movie-list tbody th {
    margin-top: 0;
    text-align: left;
}
/*  White bg, large blue text for rank and title */
.movie-list tbody th, .movie-list tbody td.title {
    display: block;
    font-size: 1.2em;
    line-height: 110%;
    margin-top: 0em;
    padding: .5em .5em;
    background-color: #fff;
    color: #77bbff;/*-moz-box-shadow: 0 1px 6px rgba(0, 0, 0, .1);
                -webkit-box-shadow: 0 1px 6px rgba(0, 0, 0, .1);
                box-shadow: 0 1px 6px rgba(0, 0, 0, .1);*/
}
/*  Hide labels for rank and title */
.movie-list tbody th .ui-table-cell-label, .movie-list tbody td.title .ui-table-cell-label {
    display: none;
}
/*  Position the title next to the rank, pad to the left */
.movie-list tbody td.title {
    margin-top: -2.1em;
    padding-left: 2.2em;
    color: #607d8b;
    border-bottom: 1px solid rgba(0, 0, 0, .15);
}
/*  Make the data bold */
.movie-list th, .movie-list td {
    font-weight: 300;
}
/* Make the label elements a percentage width */
.movie-list td .ui-table-cell-label, .movie-list th .ui-table-cell-label {
/* min-width: 20%;*/
}
}

/* Media query to show as a standard table at wider widths */
@media ( min-width: 40em ) {
.basicTabWrap {
    overflow-y: scroll;
    max-height: 250px;
}
/* Show the table header rows */
.movie-list td, .movie-list th, .movie-list tbody th, .movie-list tbody td, .movie-list thead td, .movie-list thead th {
    display: table-cell;
    margin: 0;
}
/* Hide the labels in each cell */
.movie-list td .ui-table-cell-label, .movie-list th .ui-table-cell-label {
    display: none;
}
}

/* Hack to make IE9 and WP7.5 treat cells like block level elements */
        /* Applied in a max-width media query up to the table layout breakpoint so we don't need to negate this */
@media ( max-width: 40em ) {
.movie-list td, .movie-list th {
    width: 100%;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    float: left;
    clear: left;
}
}

@media screen and (min-width: 0px) {
.row {
    margin-left: 0px;
    margin-right: 0px;
    margin-top: 16px;
    margin-bottom: 16px;
}
}

@media screen and (min-width: 667px) {
.row {
    margin-left: 0px;
    margin-right: 0px;
    margin-top: 16px;
    margin-bottom: 16px;
}
}

@media screen and (min-width: 992px) {
.row {
    margin-left: 80px;
    margin-right: 80px;
    margin-top: 16px;
}
}

@media screen and (min-width: 1200px) {
.row {
    margin-left: 100px;
    margin-right: 100px;
    margin-top: 32px;
}
}

@media screen and (min-width: 1600px) {
.row {
    margin-left: 200px;
    margin-right: 200px;
    margin-top: 32px;
}
}
</style>
</head>
<body>
<div data-role="page" id="main" data-theme="a" style="background-color:#f7f7f7">
<div  data-role="header" data-position="fixed" data-visible-on-page-show="true" data-tap-toggle="false" 
     style="margin: 0px 0px; padding: 0px 9px; padding-bottom: 0px; text-shadow: none;  background-color:#ffffff; border-width: 0px; border-bottom-width: 0px; border-color:#cfd8dc; border-radius: 0px; min-height: 0px;">
    <div class="jqm-block-content"
     style="margin: 0px 0px; padding: 12px 12px;background-color:#ffffff; border-width: 0px; text-shadow: none; border-bottom-width: 0px; border-color:#cfd8dc; border-radius: 0px; min-height: 0px;">
      <div class="ui-grid-a">
        <div class="ui-block-a">
          <p align="left" style="margin-top: 0px; font-size: 1.2em"><a rel="external" href="process_list.html" style="color: #455a64; text-decoration: none"> <font color="#455a64"  style="font-weight:400"><i class="fad fa-fw fa-backspace" style="margin-right: 9px"></i><span data-i18n="my-process">我的流程</span></font></a> </p>
        </div>
        <div class="ui-block-b">
          <p align="right" style="padding-right: 4px; margin-top: 0px; font-size:1.2em"><a href="javascript:void(0);" data-bind="click:function(){delayPop('More',{positionTo:'#saveBtn'});}" id="saveBtn" style="color: #455a64; text-decoration: none; "><i class="fas fa-fw fa-save"></i></a></p>
        </div>
      </div>
    </div>
    <ul class="nav nav-tabs" id="myTabs" role="tablist"
    style="margin-left: 2px; margin-right: 2px; margin-top: 4px; border-bottom-width: 0px;">
      <li  role="presentation" class="active"><a href="#home" data-bind="click:switchTab"
                                                                       id="home-tab" role="tab"
                                                                       data-toggle="tab" aria-controls="home"
                                                                       aria-expanded="true">
        <p align="center" style="margin: 0px 0px;"><i class="fad fa-fw fa-info" style="margin-right: 3px;" ></i><span style="display:inline; font-weight: 300"><span data-i18n="info">基本信息</span></span> </p>
        </a></li>
      <li  data-bind="visible:tables().length" role="presentation"><a href="#profile"
                                                                                            data-bind="click:switchTab"
                                                                                            role="tab"
                                                                                            id="profile-tab"
                                                                                            data-toggle="tab"
                                                                                            aria-controls="profile">
        <p align="center" style="margin: 0px 0px;"><i class="fad fa-fw fa-table" style="margin-right: 3px;"></i> <span style="display:inline; font-weight: 300"><span data-i18n="details">明细</span></span> </p>
        </a></li>
      <li data-bind="visible:!!attachmentItem(),attr:{'action':uploadUrl}" role="presentation"><a
            href="#attachment" data-bind="click:switchTab" role="tab"
            id="attachment-tab"
            data-toggle="tab" aria-controls="attachment">
        <p align="center" style="margin: 0px 0px;"><i class="fad fa-fw fa-paperclip" style="margin-right: 3px;"></i> <span style="display:inline; font-weight: 300"><span data-i18n="attachment">附件</span></span> </p>
        </a></li>
    </ul>
  </div>
	
  <div data-role="content" style="padding: 0px 0px; background-color: #ffffff">
    <div class="kc_fab_wrapper"></div>
     
    
   
    <div id="myTabContent" class="tab-content">
      <div role="tabpanel" class="tab-pane fade in active" id="home" aria-labelledBy="home-tab">
        <div class="ui-body ui-body-b ui-content"
             style="background-color: #f7f7f7; border-width:0px; border-bottom-right-radius: 0em; border-bottom-left-radius:0em; min-height: 700px; margin: 0 0px; padding: 6px 6px">
          <div class="row" style="margin-top: 8px">
            <div class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown"
                                         href="#" role="button"
                                         aria-haspopup="true" aria-expanded="false">
              <p align="left" style="padding: 3px 3px; font-size: larger; margin-bottom: 0px; font-weight:600; color:#000000"> <span data-bind="text:getName(id(), name())"></span> <span class="caret" style="color:#e91e63"></span> </p>
              </a>
              <ul class="dropdown-menu" style="padding:0px 0px">
                <li><a data-bind="click:function(){pop('info', {'title': '',  'description': description()});}"
                               href="javascript:void(0);"
                               data-rel="popup" data-position-to="window"
                               data-transition="pop"
                               title="详情" style="padding: 8px 8px;"> <i class="fad fa-fw fa-book-open" style="color: #03a9f4"></i> <span data-i18n="instruction">说明</span></a></li>
                <li role="separator" class="divider" style="margin: 0px 0px"></li>
                <li><a href="javascript:void(0);" data-rel="popup"
                               data-position-to="window" data-transition="pop"
                               data-bind="click:function(){secureExecute('viewImage','flow');}"
                               title="流程图" style="padding: 8px 8px;"> <i
																					   class="fas fa-fw fa-draw-polygon" style="color: #03a9f4"></i> <span data-i18n="flowchart">流程图</span></a></li>
              </ul>
            </div>
          </div>
          <div class="row">
            <legend style="padding-left: 3px;"> <font size="-1" color="#607d8b"><span data-i18n="basic-info">基本信息</span></font> </legend>
            <div data-bind="visible: shouldShowBI">
              <iframe data-bind="attr: {src: vm.processCreateBIUrl}" style="margin-top:5px;" frameborder="0"
width="100%"
height="300"
allowtransparency></iframe>
            </div>
            <div class="col-lg-3 col-sm-6 col-xs-12 col-md-4" style="padding:3px 3px; ">
              <label for="businessKey"><font color="#0288d1" style="font-weight:600" size="-1"><span data-i18n="subject">主题</span></font>&nbsp;<font color="#f44336" size="-1"><i class="fad fa-asterisk"></i></font></label>
              <input type="text" data-clear-btn="true" name="businessKey" id="businessKey" 
                    data-bind="value:businessKey,disable:businessKeyDisabled" data-inline="false" data-theme="b" style="font-weight:600; height:39px;">
            </div>
            <div class="col-lg-3 col-sm-6 col-xs-12 col-md-4" style="padding:3px 3px;" 
                  data-bind="basicField:involvedUser">
              <label for="involvedUser"><font color="#0288d1" style="font-weight:600" size="-1" data-i18n="involveduser">受邀人</font>&nbsp;<font color="#0288d1" size="-1"><i class="fad fa-user-friends"></i></font></label>
            </div>
          </div>
          <div class="row" id="formData">
          </div>
          <!-- <div class="row">
              <iframe src="embed_form.html?formKey=1597031027590" style="margin-top:5px;" frameborder="0" width="100%"  allowtransparency></iframe>
            </div> -->
          <!-- ko foreach: fields -->
          <div class="row">
            <legend style="padding-left: 3px;"> <font size="-1" color="#0097a7" data-bind="visible:$index()<0"><i class="fal fa-fw fa-info-circle"></i><b> 基本信息</b></font> <font size="-1" color="#0097a7"></font> </legend>
            <!-- ko basicForm: $data --> 
            <!-- /ko --> 
          </div>
          <!-- /ko --> 
        </div>
      </div>
      <div role="tabpanel" class="tab-pane fade" id="profile" aria-labelledBy="profile-tab">
        <div class="ui-body ui-body-b ui-content"
             style="background-color: #f7f7f7; border-width:0px; border-bottom-right-radius: 0.31em; border-bottom-left-radius:0.31em; min-height: 700px; margin: 0 2px; padding: 6px 6px"> 
          

            <!-- ko jqmTemplate: { name: 'tableWithMenu', foreach:tables  } -->
            <!-- /ko -->
        </div>
      </div>
      <div role="tabpanel" class="tab-pane fade in" id="attachment" aria-labelledBy="attachment-tab">
        <form method="post" id="upload" name="upload" data-bind="attr:{action: uploadUrl}"
              enctype="multipart/form-data"
              class="ui-body ui-body-b ui-content"
              style="background-color: #f7f7f7; border-width:0px; border-bottom-right-radius: 0.31em; border-bottom-left-radius:0.31em; min-height: 700px; margin: 0 2px; padding: 6px 6px">
          
          <!--action="http://211.144.85.190:8001/upload"--> 
          <!--action="http://localhost:8001/upload"-->
          <div class="row">
            <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12" style="padding:3px 3px;">
              <input type="file" data-bind="event: { change: selectFile }" data-clear-btn="true"
                           name="fileUploaded" id="fileUploaded" data-inline="true" data-theme="b"
                           style="font-weight:600; height: 39px;  font-size:medium;">
            </div>
            <input type="hidden" name="user" data-bind="value:userId">
            <input type="hidden" name="id" data-bind="value:id">
          </div>
          
          <!-- Classes added to the wrapper -->
          <p align="center">
            <a href="javascript:void(0);"
                                     data-bind="click:function(){secureExecute('addAttachment')},css: { 'ui-disabled': !canAddAttachment()}"
                                     
                                     style="margin-right: 0px; color: #37474f; font-weight: 300"><i class="far fa-fw fa-cloud-upload" style="margin-right: 9px;"></i><span style="font-weight: 300" data-i18n="add">Add</span></a></p>
          <div class="row">
            <ul data-role="listview" data-inset="true"
                    data-bind="jqmTemplate: { name: 'attachmentTemplate', foreach: attachments }, jqmRefreshList: attachments"
                    style="margin-top:0px; padding: 3px 3px" class="ui-nodisc-icon ui-alt-icon">
            </ul>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div data-role="panel" id="panelgrid" data-position-fixed="true" data-position="right" data-display="overlay" data-theme="a">
    <div class="jqm-block-content" style="margin: -14px -14px; margin-bottom: 14px; padding: 9px 9px; padding-top: 30px; background-color: #455a64; border:none; min-height: 0px; border-radius: 0em;">
      <p align="center" style="margin-bottom:10px;"> <i class="material-icons md-56 md-light">face</i> </p>
      <div class="ui-grid-a" style="text-shadow: 0 0 0; color:#FFFFFF">
        <div class="ui-block-a">
          <p align="left" style="padding-left:8px;"> <font size="+1" data-bind="text:user.name"></font> <br>
            <font color="#BDBDBD"> <span data-bind="text:user.Roles"></span> <br>
            <span data-bind="text:user.sub"></span> </font> </p>
        </div>
        <div class="ui-block-b">
          <p align="right" style="margin-top: 8px; padding-right:3px;"> <a href="javascript:void(0);" data-bind="click:logout"> <i class="fal fa-2x fa-sign-out"></i> </a> </p>
        </div>
      </div>
    </div>
    <ul data-role="listview" data-theme="b" class="ui-nodisc-icon ui-alt-icon">
      <li data-role="collapsible" data-iconpos="right" data-inset="false"
                  style="padding:0px 0px; border-width:0px; background-color:rgba(0,0,0,1.00) " data-collapsed-icon="bars"
                  data-expanded-icon="carat-u">
        <h2 style="padding:0px 0px; margin:0px 0px;"><span data-i18n="my-bpms">我的BPMS</span></h2>
        <ul data-role="listview" data-theme="a"
                      style="padding:0px 0px; margin:0px 0px; border-bottom-width:0px;">
          <li><a rel="external" href="index.html"
                             style="font-weight:300; color: #607d8b; background-color:transparent; padding-left: 8px"><i class="fas fa-fw fa-home" style="margin-right: 8px; color: #03a9f4"></i><span data-i18n="my-home">工作台</span></a></li>
          <!--<li><a rel="external"   href="assign.html"
                             style="font-weight:300; color: #607d8b; background-color:transparent; padding-left: 8px"><i class="fas fa-fw fa-users-cog" style="margin-right: 8px; color: #03a9f4"></i><span data-i18n="my-authorize">授权管理</span></a></li>-->
          <li><a rel="external" href="#"
                             style="font-weight:300; color: #607d8b; background-color:transparent; padding-left: 8px"><i class="fas fa-fw fa-chart-area" style="margin-right: 8px; color: #03a9f4"></i><span data-i18n="my-report">报表</span></a></li>
        </ul>
      </li>
      <li data-role="collapsible" data-iconpos="right" data-inset="false"
                  style="padding:0px 0px; border-width:0px; background-color:rgba(0,0,0,1.00) " data-collapsed-icon="bars"
                  data-expanded-icon="carat-u">
        <h2 style="padding:0px 0px; margin:0px 0px;"><span data-i18n="my-tasks">我的任务</span></h2>
        <ul data-role="listview" data-theme="a"
                      style="padding:0px 0px; margin:0px 0px; border-bottom-width:0px;">
          <li><a rel="external" href="task_list.html"
                             style="font-weight:300; color: #607d8b; background-color:transparent; padding-left: 8px"><i class="fas fa-fw fa-tasks" style="margin-right: 8px; color: #03a9f4"></i><span data-i18n="my-todo">待处理任务</span></a></li>
          <li><a rel="external" href="history_list.html"
                             style="font-weight:300; color: #607d8b; background-color:transparent; padding-left: 8px"><i class="fas fa-fw fa-history" style="margin-right: 8px; color: #03a9f4"></i><span data-i18n="my-taskhistory">任务历史</span></a></li>
        </ul>
      </li>
      <li data-role="collapsible" data-iconpos="right" data-inset="false"
                  style="padding:0px 0px; border-width:0px; background-color:rgba(0,0,0,1.00) " data-collapsed-icon="bars"
                  data-expanded-icon="carat-u">
        <h2 style="padding:0px 0px; margin:0px 0px;"><span data-i18n="my-processes">我的流程</span></h2>
        <ul data-role="listview" data-theme="a"
                      style="padding:0px 0px; margin:0px 0px; border-bottom-width:0px;">
          <li><a rel="external" href="process_list.html"
                             style="font-weight:300; color: #607d8b; background-color:transparent; padding-left: 8px"><i class="fas fa-fw fa-layer-plus" style="margin-right: 8px; color: #03a9f4"></i><span data-i18n="create-process">启动流程</span></a></li>
          <li><a rel="external"   href="instance_list.html"
                             style="font-weight:300; color: #607d8b; background-color:transparent; padding-left: 8px"><i class="fas fa-fw fa-history" style="margin-right: 8px; color: #03a9f4"></i><span data-i18n="my-processhistory">流程历史</span></a></li>
        </ul>
      </li>
      
      <!--
              <li data-role="collapsible" data-iconpos="right" data-inset="false"
                  style="padding:0px 0px; border-width:0px; background-color:rgba(0,0,0,1.00) " data-collapsed-icon="bars"
                  data-expanded-icon="carat-u">
                  <h2 style="padding:0px 0px; margin:0px 0px;">设置</h2>
                  <ul data-role="listview" data-theme="a"
                      style="padding:0px 0px; margin:0px 0px; border-bottom-width:0px;">
                      <li><a rel="external" href="../settings/indexDesign.html"
                             style="font-weight:200; background-color:transparent"><img
                              src="images/Glyphish/icons/19-gear@2x.png" alt="" class="ui-li-icon ui-corner-none"
                              style="top: 11px;">首页设置</a></li>
  
                  </ul>
              </li>
              -->
    </ul>
    <p align="center" style="margin-top: 30px;"> <img src="images/bpmslogoxs.png" height="18px"> </p>
  </div>
  <br>
  <br>
  <br>
  <div data-role="footer" data-fullscreen="true" data-position="fixed" style=" border-bottom-width: 0px;" data-tap-toggle="false">
    <div data-role="navbar">
      <ul>
        <li  data-bind="css: { 'ui-disabled':saving }"><a href="javascript:void(0);" data-bind="click:function(){secureExecute('submit')}" data-position-to="window" class="ui-btn-b"
                   style="font-weight:300"><i class="fad fa-2x fa-check-double" style="margin-bottom: 8px; color:#0086ff"></i><br>
          <span data-i18n="tsk-submit">提交</span></a></li>
        <li><a href="javascript:void(0);" data-bind="click:reset" class="ui-btn-b" style="font-weight:300"><i
                    class="far fa-2x fa-redo" style="margin-bottom: 8px"></i><br>
          <span data-i18n="redo">重置</span></a></li>
        <li><a href="javascript:void(0);" id="btnMore" data-bind="click:function(){delayPop('More',{positionTo:'#btnMore'});}" class="ui-btn-b" style="font-weight:300"><i
                    class="far fa-2x fa-save" style="margin-bottom: 8px"></i><br>
          <span data-i18n="save">save</span></a></li>
      </ul>
    </div>
    <!-- /navbar -->
    <div data-role="popup" id="popMore" data-theme="b" data-overlay-theme="a" style="border-width: 0px">
      <ul data-role="listview" class="ui-nodisc-icon ui-alt-icon" data-inset="true" style="min-width:230px; border-radius: 0em;">
        <li data-bind="visible:!type() || false"><a href="javascript:void(0);"  data-bind="click:function(){save('InstanceDraft');}"><i class="fad fa-fw fa-cloud-upload" style="margin-right: 12px"></i><span data-i18n="save-draft">创建草稿</span></a></li>
        <li data-bind="visible:!type() || false" ><a href="javascript:void(0);"  data-bind="click:function(){save('InstanceTemplate');}"><i class="fad fa-fw fa-heart" style="margin-right: 12px"></i><span data-i18n="save-template">创建模板</span></a></li>
        <li data-bind="visible:type()==='InstanceDraft'" ><a href="javascript:void(0);"  data-bind="click:function(){save();}"><i class="fad fa-fw fa-cloud-upload" style="margin-right: 9px"></i><span data-i18n="save-thisdraft">保存该草稿</span></a></li>
        <li data-bind="visible:type()==='InstanceDraft'" ><a href="javascript:void(0);"  data-bind="click:function(){save('InstanceTemplate');}"><i class="fad fa-fw fa-heart" style="margin-right: 12px"></i>另存为模板</a></li>
        <li data-bind="visible:type()==='InstanceTemplate'" ><a href="javascript:void(0);"  data-bind="click:function(){save('InstanceDraft');}"><i class="fad fa-fw fa-cloud-upload" style="margin-right: 12px"></i>另存为草稿</a></li>
        <li data-bind="visible:type()==='InstanceTemplate'" ><a href="javascript:void(0);"  data-bind="click:function(){save();}"><i class="fad fa-fw fa-heart" style="margin-right: 12px"></i><span data-i18n="save-thistemplate">保存该模板</span></a></li>
      </ul>
    </div>
    <div data-role="popup" id="popSubTable" data-overlay-theme="b" data-theme="b" style="max-height: 600px; min-width: 480px; padding: 16px 16px; padding-bottom: 8px;"> 
      <!-- ko if:  exampleTable() --> 
      <!-- ko  basicTable: exampleTable() --> 
      <!-- /ko --> 
      <!-- /ko -->
      <p align="center" style="margin-top: 16px"><a href="#" data-rel="back" class="ui-btn ui-btn-inline ui-corner-all" style="margin: 0px 0px"><i class="fas fa-fw fa-times" style="margin-right: 8px"></i>返回</a></p>
    </div>
    <div data-role="popup" id="popSuccess" class=" ui-corner-all"  data-dismissible="false" data-theme="b" data-overlay-theme="a"  style="min-width:320px; max-width: 480px; background-color: #ffffff">
      <div data-role="content" style="padding: 4px 4px;">
        <p align="center" style="margin:8px 8px;"><font color="#03a9f4"><i class="fas fa-2x fa-check-circle"></i></font></p>
        <hr style="border-color: #eeeeee; margin-bottom: 0px; margin-top:11px;">
        <p align="left" style="padding: 0px 5px; margin-bottom: 0px;"> <b data-bind="text:popTitle"></b></p>
        <p align="left" style="padding: 0px 5px; margin-bottom: 32px;"> <font color="#757575" size="-1" data-bind="text:popDescription"></font></p>
        <div class="ui-grid-a">
          <div class="ui-block-a">
            <p style="padding: 0px 0px; margin: 3px 3px"> <a rel="external" data-bind="attr:{href:'task_list.html?processInstanceId='+ popCode()}"  class="ui-btn ui-btn-b  ui-corner-all" style="background-color: #eceff1; font-weight: 300; color:#0288d1;"> <i class="far fa-fw fa-external-link-alt" style="margin-right: 4px;"></i><span data-i18n="related-tasks">关联任务</span></a> </p>
          </div>
          <div class="ui-block-b">
            <p style="padding: 0px 0px; margin: 3px 3px;"><a rel="external" href="process_list.html"  class="ui-btn ui-corner-all ui-btn-b" style="background-color:#0288d1; font-weight: 300; color:#ffffff;"> <i class="far fa-fw fa-check" style="margin-right: 4px;"></i><span data-i18n="confirm">确定</span></a> </p>
          </div>
        </div>
        <p align="left" style="padding: 0px 5px; margin-top: 0px;"> <font color="#90a4ae" size="-2"> <i class="fal fa-fw fa-info-circle"></i>&nbsp;<span data-i18n="msg-go-to-related-tasks">此流程可能包含关联任务需要您关注并执行，点击关联任务按钮前往。</span> </font> </p>
      </div>
    </div>



  <div data-role="popup" id="popupMulti2" data-dismissible="false" data-theme="a" data-overlay-theme="a" style="min-width:320px; max-width:320px; border:none;">
    <ul data-role="listview" data-inset="true" style="border:none">
      <li data-role="list-divider" style="border:none; text-align: center; border-bottom-left-radius:0; border-bottom-right-radius:0; padding:14px 14px; background-color:#f7f7f7; text-shadow: none; font-weight:300; color:#000000; "> <i class="far fa-fw fa-list-ul"></i> <span>form name</span></li>
      <ul data-role="listview" data-theme="b" class="ui-mini ui-alt-icon ui-nodisc-icon" data-inset="true" style="padding: 6px 6px">
        <li data-icon="delete"><a href="#">Acura</a></li>
        <li data-icon="delete"><a href="#">Audi</a></li>
      </ul>
      <form class="ui-filterable" data-theme="b" style="padding: 12px 12px">
        <input id="inset-autocomplete-input2" data-type="search" placeholder="Search cars...">
      </form>
      <ul data-role="listview" data-inset="true" data-theme="b" class="ui-alt-icon ui-nodisc-icon" data-filter="true" data-filter-reveal="true" data-input="#inset-autocomplete-input2" style="padding: 12px 12px; padding-top: 0px; margin-bottom: 0px;">
        <li data-icon="check"><a href="#">Acura</a></li>
        <li data-icon="check"><a href="#">Audi</a></li>
        <li data-icon="check"><a href="#">BMW</a></li>
      </ul>
      <div class="ui-grid-a" style="margin:12px 12px; padding-bottom:12px;">
        <div class="ui-block-a">
          <p align="center" style="color:#4caf50; margin:0px 0px"><a href="javascript:void(0)" class="ui-btn ui-btn-a ui-corner-all" style="color:#000000; background-color: #ffffff; margin: 4px 4px; font-weight:300;"><i class="fad fa-fw fa-check" style="color: #03a9f4;  margin-right: 12px"></i><span data-i18n="ok">OK</span></a></p>
        </div>
        <div class="ui-block-b">
          <p align="center" style="color:#78909c; margin:0px 0px"><a href="#" class="ui-btn ui-btn-a ui-corner-all" data-rel="back" style="color:#000000; margin: 4px 4px; font-weight:300;"><i class="fal fa-fw fa-times" style="margin-right: 12px"></i><span data-i18n="cancel">cancel</span></a></p>
        </div>
      </div>
    </ul>
  </div>

  </div>
  <!-- /footer --> 
</div>
<div data-role="page" id="extraEdit" data-theme="a" style="background-color: #ffffff; bottom: 0px;"> 
  <!-- ko if:  tables().length &&  tables()[tableIndex()]-->
  <div data-role="content" style="padding:2px 2px; padding-bottom: 80px; background-color: #ffffff"> 
    <!-- ko with: exampleTable --> 
    <!-- ko if: $data -->
    <div class="row" data-bind="visible: $data.rows().length, basicTable:  $data"> </div>
    <!-- /ko --> 
    <!-- /ko -->
    <p align="center" style="margin-top: 12px; font-size: large; color: #607d8b"><i class="far fa-fw fa-edit"></i>&nbsp;<span data-bind="text:tables()[tableIndex()]&&tables()[tableIndex()].item.name"></span></p>

    <!-- ko foreach:  tables -->
    <div data-bind="visible: $index()===$root.tableIndex()"> 
    <!-- ko stepGroup:  $data.steps --> 
    <!-- /ko --> 
    </div>
    <!-- /ko --> 
  </div>
  <!-- /ko --> 
  <!-- ko if:  tables().length -->
  <div data-role="footer"  data-fullscreen="true" data-position="fixed" style=" border-bottom-width: 0px;" data-tap-toggle="false">
    <div data-role="navbar" >
      <ul>
        <li><a href="javascript:void(0);"  data-bind="click:function(){tables()[tableIndex()].saveExtraRow();},css: { 'ui-disabled':!(tables()[tableIndex()] &&tables()[tableIndex()].canSaveExtra && tables()[tableIndex()].canSaveExtra())}" class="ui-btn-b" style="font-weight:600; color: #000000"><i class="fad fa-2x fa-plus-square" style="color: #03a9f4"></i> <br>
          <p style="margin-top: 6px; margin-bottom: 3px; font-weight: 300"><span data-i18n="add">Add</span></p>
          </a>
        </li>
        <li><a href="javascript:void(0);" data-bind="click:function(){tables()[tableIndex()].resetExtraForm();}" class="ui-btn-b" style="font-weight:600; color: #000000"><i class="far fa-2x fa-redo-alt"></i> <br>
          <p style="margin-top: 6px; margin-bottom: 3px; font-weight: 300"><span data-i18n="redo">Redo</span></p>
          </a> </li>
        <li><a href="javascript:void(0);" data-bind="click:function(){ $.mobile.changePage('#');}" class="ui-btn-b" style="font-weight:600; color: #000000"><i class="far fa-2x fa-backspace"></i> <br>
          <p style="margin-top: 6px; margin-bottom: 3px; font-weight: 300"><span data-i18n="back">Back</span></p>
          </a> </li>
      </ul>
    </div>
    <!-- /navbar --> 
  </div>
  <!-- /ko --> 
</div>
<div data-role="page" id="subTableEdit" data-theme="a" style="background-color: #ffffff; bottom: 0px;"> 
  <!-- ko if:  subTable.headers().length>0 -->
  <div data-role="content" style="padding:2px 2px; padding-bottom: 80px; background-color: #ffffff">
    <p align="center" style="margin-top: 12px; font-size: large; color:#607d8b"><i class="fad fa-fw fa-edit"></i>&nbsp;<span data-bind="text:'编辑'+subTable.name()+'明细'"></span></p>
    <div class="ui-body ui-body-b ui-content"
        style="background-color: #ffffff; border-width:0px; border-bottom-right-radius: 0.31em; border-bottom-left-radius:0.31em; min-height: 400px; margin: 0 2px; padding: 6px 6px">
      <div class="row"> 
        
        <!-- ko basicForm: subTable.headers --> 
        <!-- /ko --> 
      </div>
      <div class="ui-nodisc-icon ui-alt-icon">
        <p align="center" data-bind="if:subTable.steps().length === 0"> <a href="javascript:void(0);" style="color:#000000" data-bind="visible: !(subTable.editIndex()>=0),click:subTable.saveRow.bind(subTable)"><i class="far fa-fw fa-plus-square" ></i></a> <a href="javascript:void(0);" style="margin-left: 24px; color: #000000" data-bind="visible: subTable.editIndex()>=0,click:subTable.saveRow.bind(subTable)"><i class="far fa-fw fa-save"></i></a> <a href="javascript:void(0);" style="margin-left: 24px; color: #000000" data-bind="click:subTable.resetRow.bind(subTable)"><i class="far  fa-fw fa-redo"></i></a> <a href="javascript:void(0);" data-bind="click:function(){subTable.toggleUploadTableFlag();}"  style="margin-left: 24px; color: #000000"><i class="far fa-fw fa-file-upload"></i></a> </p>
        <p align="center" data-bind="if:subTable.steps().length > 0"> <a href="javascript:void(0);" data-bind="visible:subTable.editIndex()<0, click:function(){subTable.addExtraRow($root.exampleTable());}" style="color:#000000"><i class="far fa-fw fa-magic"></i></a> <a href="javascript:void(0);" style="margin-left: 24px; color: #000000" data-bind="visible: subTable.editIndex()>=0,click:subTable.saveRow.bind(subTable)"><i class="far fa-fw fa-save"></i></a> <a href="javascript:void(0);" style="margin-left: 24px; color: #000000" data-bind="visible: subTable.editIndex()>=0,click:subTable.resetExtraForm.bind(subTable)"><i class="far fa-fw fa-redo"></i></a> <a href="javascript:void(0);" data-bind="click:function(){subTable.toggleUploadTableFlag();}" style="margin-left: 24px; color: #000000"><i class="far fa-fw fa-file-upload"></i></a> </p>
      </div>
      <div class="row" data-bind="visible:subTable.uploadTableFlag">
        <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12" style="padding:3px 3px;">
          <input type="file" data-bind="event: { change: subTable.uploadTable.bind(subTable) }" data-clear-btn="false"
                           name="tableUpload" id="tableUpload" data-inline="true" data-theme="b"
                           style="font-weight:600; height: 39px;  font-size:medium;">
        </div>
      </div>
      <div class="row" data-bind="basicTable: subTable"> </div>
    </div>
  </div>
  <!-- /ko --> 
  <!-- ko if:   subTable.headers().length>0 -->
  <div data-role="footer"  data-fullscreen="true" data-position="fixed" style=" border-bottom-width: 0px;" data-tap-toggle="false">
    <div data-role="navbar" >
      <ul>
        <li><a href="javascript:void(0);" data-bind="click:subTable.saveSubTable.bind(subTable)" class="ui-btn-b" style="font-weight:600; color: #000000"><i class="far fa-2x fa-save"></i> <br>
          <p style="margin-top: 6px; margin-bottom: 3px; font-weight: 300"><span data-i18n="save">保存</span></p>
          </a> </li>
        <li><a href="javascript:void(0);" data-bind="click:function(){subTable.resetRow();}"   class="ui-btn-b" style="font-weight:600; color: #000000"><i class="far fa-2x fa-redo-alt"></i> <br>
          <p style="margin-top: 6px; margin-bottom: 3px; font-weight: 300"><span data-i18n="redo">重置</span></p>
          </a> </li>
        <li><a href="javascript:void(0);"  data-bind="click:function(){ $.mobile.changePage('#tableEdit');}"  class="ui-btn-b" style="font-weight:600; color: #000000"><i class="far fa-2x fa-backspace"></i> <br>
          <p style="margin-top: 6px; margin-bottom: 3px; font-weight: 300"><span data-i18n="back">返回</span></p>
          </a> </li>
      </ul>
    </div>
  </div>
  <!-- /ko --> 
</div>
<div data-role="page" id="tableEdit" data-theme="a" style="background-color: #ffffff; bottom: 0px;"> 
  <!-- ko if:  typeof(tableIndex())==='number' && tables()[tableIndex()].headers().length>0 -->
  <div data-role="content" style="padding:2px 2px; padding-bottom: 80px; background-color: #ffffff">
    <p align="center" style="margin-top: 12px; font-size: large"><i class="fad fa-fw fa-edit"></i>&nbsp;<span data-bind="text:'编辑'+(tables()[tableIndex()]&&tables()[tableIndex()].item && tables()[tableIndex()].item.name||'')+'明细'"></span></p>
    <div class="ui-body ui-body-b ui-content"
        style="background-color: #ffffff; border-width:0px; border-radius:0.31em; min-height: 400px; margin: 0 2px; padding: 6px 6px">
      <div class="row"> 

        <!-- ko foreach:  tables -->
        <div data-bind="visible: $index()===$root.tableIndex()">
        <!-- ko basicForm: $data.headers --> 
        <!-- /ko --> 
        </div>
  
        <!-- /ko -->

      </div>
    </div>
  </div>
  <!-- /ko --> 
  <div data-role="footer"  data-fullscreen="true" data-position="fixed" style=" border-bottom-width: 0px;" data-tap-toggle="false">
    <div data-role="navbar" >
      <ul>
          <li><a href="javascript:void(0);" data-bind="click:function(){tables()[tableIndex()].saveRow();}" class="ui-btn-b" style="font-weight:600; color: #03a9f4"><i class="fad fa-2x fa-check"></i> <br>
          <p style="margin-top: 6px; color: #000000; margin-bottom: 3px; font-weight: 300"><span data-i18n="save">save</span></p>
          </a> </li>
        <li><a href="javascript:void(0);" data-bind="click:function(){tables()[tableIndex()].resetRow();}"   class="ui-btn-b" style="font-weight:600; color: #000000"><i class="far fa-2x fa-redo-alt"></i> <br>
          <p style="margin-top: 6px; margin-bottom: 3px; font-weight:300"><span data-i18n="redo">Redo</span></p>
          </a> </li>
        <li><a href="javascript:void(0);"  data-bind="click:function(){ tables()[tableIndex()].resetRow();$.mobile.changePage('#');}"  class="ui-btn-b" style="font-weight:600; color: #000000"><i class="far fa-2x fa-backspace"></i> <br>
          <p style="margin-top: 6px; margin-bottom: 3px; font-weight: 300"><span data-i18n="back">Back</span></p>
          </a> </li>
      </ul>
    </div>
  </div>
</div>
<script type="text/html" id="attachmentTemplate">
    <li data-icon="delete">
        <a href="javascript:void(0);" data-bind="event:{taphold:$root.removeAttachment}">
            <i class="fal fa-file-import" style="color:#03a9f4"></i><span data-bind="text:('&nbsp;'+name)"></span>
            <p style="margin-bottom:0px;"><font color="gray" data-bind="text:size"></font></p>
        </a>
    </li>
</script>

<script type="text/html" id="tableWithMenu">
  <div class="row"> 
   
    <!-- !ko if: $data.steps().length === 0  || $data.editIndex()>=0 --> 
    <legend style="padding-left:3px;">
      <font size="-1" color="#607d8b"><i class="fad fa-fw fa-table"></i>
        <b>
        <span data-bind="text:$data.name"></span>
        </b>
      </font>
</legend>
    <!-- !ko basicForm: $data.headers --> 
    <!-- !/ko --> 
    <!-- !/ko --> 
  </div>
  <div class="ui-nodisc-icon ui-alt-icon">
    <p align="center"  data-bind=" if:$data.steps().length === 0,css: { 'ui-disabled': $data.item.block && $data.item.block!=='1'}"> <a href="javascript:void(0);" style="margin-left: 0px; text-align: center; display: inline-block; color:#37474f" data-bind="visible: !($data.editIndex()>=0),click:function(){BPMS.Services.Utils.resetFields($data.headers()); $root.tableIndex($index());$.mobile.changePage('#tableEdit');}"><i class="far fa-fw fa-plus-square"  style="margin-right: 9px;"></i><span style="font-weight: 300" data-i18n="add">Add</span></a> 
      <!-- <a href="javascript:void(0);" style="margin-left: 24px;" data-bind="visible: $data.editIndex()>=0,click:$data.saveRow.bind($data)"><i class="far fa-fw fa-save" style="margin-right:6px"></i><span style="font-size: small" data-i18n="save">Save</span></a> --> 
      <!-- <a href="javascript:void(0);" style="margin-left: 24px;" data-bind="click:$data.resetRow.bind($data)"><i class="far  fa-fw fa-redo"style="margin-right:6px"></i><span style="font-size: small" data-i18n="redo">Redo</span></a> --> 
      <a href="javascript:void(0);" data-bind="click:function(){$data.toggleUploadTableFlag();}"  style="margin-left: 36px; text-align: center; display: inline-block; color:#37474f"><i class="far fa-fw fa-file-upload" style=" margin-right: 9px"></i><span style="font-size: small; font-weight: 300" data-i18n="bulk-add">Bulk add</span></a>
    </p>
    <p align="center" data-bind="if:$data.steps().length > 0"> <a href="javascript:void(0);" data-bind="visible:$data.editIndex()<0, click:function(){$root.tableIndex($index());$data.addExtraRow($root.exampleTable());}" style="margin-left: 0px; font-weight: 300; color:#37474f "><i class="far fa-fw fa-magic" style="margin-right:9px"></i><span data-i18n="add">Add</span></a> <a href="javascript:void(0);" style="margin-left: 24px; color: #37474f; font-weight: 300" data-bind="visible: $data.editIndex()>=0,click:$data.saveRow.bind($data)"><i class="far fa-fw fa-save" style="margin-right:9px"></i><span style="font-size: small" data-i18n="save">Save</span></a> <a href="javascript:void(0);" style="margin-left: 24px; font-weight: 300; color: #37474f" data-bind="visible: $data.editIndex()>=0,click:$data.resetExtraForm.bind($data)"><i class="far fa-fw fa-redo" style="margin-right:9px"></i><span style="font-size: small" data-i18n="redo">Redo</span></a> <a href="javascript:void(0);" data-bind="click:function(){$data.toggleUploadTableFlag();}" style="margin-left: 24px; color: #37474f; font-weight: 300"><i class="far fa-fw fa-file-upload" style="margin-right:9px"></i><span style="font-size: small" data-i18n="bulk-add">Bulk add</span></a> </p>
  </div>
  <div class="row" data-bind="visible:$data.uploadTableFlag">
    <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12" style="padding:3px 3px;">
      <input type="file" data-bind="event: { change: $data.uploadTable.bind($data) }" data-clear-btn="false"
                   name="tableUpload" id="tableUpload" data-inline="true" data-theme="b"
                   style="font-weight:600; height: 39px;  font-size:medium;">
    </div>
  </div>
  <div class="row" data-bind="attr:{'tableName':$data.tableName},basicTable: $data"> </div>
</script>
</body>
</html>
