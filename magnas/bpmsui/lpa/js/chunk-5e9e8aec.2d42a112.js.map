{"version":3,"sources":["webpack:///./src/components/task/Task.vue?bd60","webpack:///src/components/task/Task.vue","webpack:///./src/components/task/Task.vue?f3cd","webpack:///./src/components/task/Task.vue","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./src/components/fields/Field.vue?a594","webpack:///./src/components/fields/File.vue?a302","webpack:///src/components/fields/File.vue","webpack:///./src/components/fields/File.vue?bae8","webpack:///./src/components/fields/File.vue","webpack:///src/components/fields/Field.vue","webpack:///./src/components/fields/Field.vue?f042","webpack:///./src/components/fields/Field.vue","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/common/service.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","task","name","style","dueDate","moment","format","_l","legend","index","key","id","class","complete","staticStyle","field","directives","rawName","value","hidden","expression","on","updateVisibility","$event","_m","goStep","formData","length","staticRenderFns","data","utils","created","draftList","user","filter","service","$on","valid","fieldsets","$","firstIndex","eq","collapse","document","getElementById","scrollTop","allFields","concat","apply","variables","map","fieldValue","forEach","wholeVariable","fields","JSON","parse","stringify","push","draft","_id","taskId","mounted","methods","validate","result","currentResult","fieldset","components","type","invalid","required","$parent","$emit","title","message","find","slice","target","current","Field","component","charAt","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","set","getInternalState","getterFor","String","iterated","string","point","state","undefined","done","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","call","regexp","indexOf","res","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","matchStr","accumulatedResult","nextSourcePosition","i","matched","position","captures","j","namedCaptures","groups","replacerArgs","replacement","getSubstitution","str","tailPos","m","symbols","match","ch","capture","n","f","label","domProps","composing","$set","_e","option","_q","changeSelection","$$selectedVal","Array","prototype","options","o","selected","val","_value","multiple","changeFile","handleNameLen","upload","file","path","removeFile","files","isAndroid","props","navigator","userAgent","event","closest","FormData","append","$delete","new_name","len","substring","File","fails","isArray","isObject","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","spreadable","FORCED","proto","forced","arg","k","E","A","arguments","TypeError","axios","interceptors","request","use","config","NProgress","start","response","error","Promise","reject","getUsers","ids","requests","requestBpmn","all","getItem","url","get","then","item","createdBy","updatedBy","toLowerCase","createdName","firstName","lastName","trim","updatedName","resolve","getItems","sort","settings","dataType","method","params","items","_embedded","saveItem","headers","deleteItem","bpmnUrl","sessionStorage","uploadUrl","getProcessTemplate","saveLpaDraft","getLpaDraft","async"],"mappings":"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","file":"js/chunk-5e9e8aec.2d42a112.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-grow-1 p-0\"},[_c('div',{staticClass:\"d-flex flex-column flex-grow-1 bg-white\"},[_c('div',{staticClass:\"flex-wrap align-items-center flex-grow-1 position-relative bg-gray-50\"},[_c('div',{staticClass:\"position-absolute pos-top pos-bottom w-100 custom-scroll\"},[_c('div',{staticClass:\"d-flex h-100 flex-column\",attrs:{\"id\":\"scrollTopDiv\"}},[_c('div',{staticClass:\"d-flex align-items-center pl-2 pr-3 py-3 pl-sm-3 pr-sm-4 py-sm-4 px-lg-3 py-lg-3 flex-shrink-0 bg-white\"},[_c('h1',{staticClass:\"subheader-title fs-md mb-0 mt-1 ml-3 text-black-50 fw-900\"},[_vm._v(_vm._s(_vm.task.name))]),_c('small',{style:({'visibility':_vm.task.dueDate?'visible':'hidden'})},[_c('i',{staticClass:\"far fa-fw fa-alarm-exclamation mr-2\"}),_vm._v(\" \"+_vm._s(_vm.moment(_vm.task.dueDate).format(\"YYYY-MM-DD HH:mm\"))+\" \")])]),_vm._l((_vm.formData),function(legend,index){return _c('div',{key:legend.id,staticClass:\"d-flex flex-column border-faded border-top-0 border-left-0 border-right-0 py-3 px-3 px-sm-4 px-lg-0 mr-0 mr-lg-5 flex-shrink-0\",attrs:{\"id\":'legend'+legend.id}},[_c('div',{staticClass:\"d-flex align-items-center flex-row\"},[_c('div',{staticClass:\"ml-0 mr-3 mx-lg-4\"},[_c('i',{staticClass:\"fad fa-2x fa-fw\",class:{\n                    'fa-question-square': !legend.complete,\n                    'text-default':  !legend.complete,\n                    'fa-check':  !!legend.complete,\n                    'text-success':  !!legend.complete\n                  }})]),_c('div',{staticClass:\"fw-500 flex-1 d-flex flex-column cursor-pointer\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#legend'+ legend.id+' > .js-collapse'}},[_c('div',{staticClass:\"fs-sm\"},[_c('span',{staticClass:\"fw-900 color-black\"},[_vm._v(_vm._s(legend.legend))])])]),_c('div',{staticClass:\"color-fusion-200 fs-sm\",staticStyle:{\"text-align\":\"right\"}},[_c('span',{staticClass:\"text-primary\"},[_c('strong',[_vm._v(_vm._s(index+1))])])])]),_c('div',{staticClass:\"collapse js-collapse\"},[_c('div',{staticClass:\"pl-lg-5 ml-lg-5 pt-3 pb-4 mt-0\"},[_c('div',{staticClass:\"row color-black panel-tag ml-0 mt-0 mb-0 fs-sm\"},[_c('div',{staticClass:\"col-12 mb-2\"},_vm._l((legend.components),function(field){return _c('field',{directives:[{name:\"show\",rawName:\"v-show\",value:(!field.hidden),expression:\"!field.hidden\"}],key:field.id,attrs:{\"data\":field},on:{\"change\":_vm.updateVisibility,\"update:data\":function($event){field=$event}}})}),1),_vm._m(0,true),_c('div',{staticClass:\"col-6 mt-2\"},[_c('a',{staticClass:\"btn btn-default btn-sm btn-block fw-400\",class:{'disabled':index===0},attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.goStep(index,index-1)}}},[_c('i',{staticClass:\"fad fa-fw fa-angle-double-left mr-2\"}),_vm._v(\"上一条 \")])]),_c('div',{staticClass:\"col-6 mt-2\"},[_c('a',{staticClass:\"btn btn-default btn-sm btn-block fw-400\",class:{'disabled':index===_vm.formData.length-1},attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.goStep(index,index+1)}}},[_c('i',{staticClass:\"fad fa-fw fa-angle-double-right mr-2\"}),_vm._v(\"下一条 \")])])])])])])})],2)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 mb-2\"},[_c('div',{staticClass:\"dropdown-divider\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-flex flex-grow-1 p-0\">\n    <!-- left slider -->\n\n    <!-- end left slider -->\n    <!-- inbox container -->\n    <div class=\"d-flex flex-column flex-grow-1 bg-white\">\n      <!-- inbox header -->\n\n      <!-- end inbox header -->\n      <!-- inbox message -->\n      <div class=\"flex-wrap align-items-center flex-grow-1 position-relative bg-gray-50\">\n        <div class=\"position-absolute pos-top pos-bottom w-100 custom-scroll\">\n          <div class=\"d-flex h-100 flex-column\"  id=\"scrollTopDiv\">\n            <!-- inbox title -->\n\n            <div\n              class=\"d-flex align-items-center pl-2 pr-3 py-3 pl-sm-3 pr-sm-4 py-sm-4 px-lg-3 py-lg-3 flex-shrink-0 bg-white\"\n            >\n              <!-- button for mobile -->\n              <!-- end button for mobile -->\n              <h1 class=\"subheader-title fs-md mb-0 mt-1 ml-3 text-black-50 fw-900\">{{task.name}}</h1>\n              <small :style=\"{'visibility':task.dueDate?'visible':'hidden'}\">\n                <i class=\"far fa-fw fa-alarm-exclamation mr-2\"></i>\n                {{moment(task.dueDate).format(\"YYYY-MM-DD HH:mm\")}}\n              </small>\n            </div>\n\n            <div\n              :id=\"'legend'+legend.id\"\n              v-for=\"(legend,index) in formData\"\n              :key=\"legend.id\"\n              class=\"d-flex flex-column border-faded border-top-0 border-left-0 border-right-0 py-3 px-3 px-sm-4 px-lg-0 mr-0 mr-lg-5 flex-shrink-0\"\n            >\n              <div class=\"d-flex align-items-center flex-row\">\n                <div class=\"ml-0 mr-3 mx-lg-4\">\n                  <i\n                    class=\"fad fa-2x fa-fw\"\n                    :class=\"{\n                      'fa-question-square': !legend.complete,\n                      'text-default':  !legend.complete,\n                      'fa-check':  !!legend.complete,\n                      'text-success':  !!legend.complete\n                    }\"\n                  ></i>\n                </div>\n                <div\n                  class=\"fw-500 flex-1 d-flex flex-column cursor-pointer\"\n                  data-toggle=\"collapse\"\n                  :data-target=\"'#legend'+ legend.id+' > .js-collapse'\"\n                >\n                  <div class=\"fs-sm\">\n                    <span class=\"fw-900 color-black\">{{legend.legend}}</span>\n                  </div>\n                  <!--<div class=\"fs-xs fw-300 text-dark mt-1\"> GM超预算审批</div>-->\n                </div>\n                <div class=\"color-fusion-200 fs-sm\" style=\"text-align: right\">\n                  <span class=\"text-primary\">\n                    <strong>{{index+1}}</strong>\n                  </span>\n                </div>\n              </div>\n              <div class=\"collapse js-collapse\">\n                <div class=\"pl-lg-5 ml-lg-5 pt-3 pb-4 mt-0\">\n                  <div class=\"row color-black panel-tag ml-0 mt-0 mb-0 fs-sm\">\n                    <div class=\"col-12 mb-2\">\n                      <field\n                        v-for=\"field in legend.components\"\n                        v-on:change=\"updateVisibility\"\n                        :data.sync=\"field\"\n                        :key=\"field.id\"\n                        v-show=\"!field.hidden\"\n                      ></field>\n                    </div>\n                    <div class=\"col-12 mb-2\">\n                      <div class=\"dropdown-divider\"></div>\n                    </div>\n                    <div class=\"col-6 mt-2\">\n                      <a\n                        href=\"javascript:void(0);\"\n                        class=\"btn btn-default btn-sm btn-block fw-400\"\n                        :class=\"{'disabled':index===0}\"\n                        v-on:click=\"goStep(index,index-1)\"\n                      >\n                        <i class=\"fad fa-fw fa-angle-double-left mr-2\"></i>上一条\n                      </a>\n                    </div>\n                    <div class=\"col-6 mt-2\">\n                      <a\n                        href=\"javascript:void(0);\"\n                        class=\"btn btn-default btn-sm btn-block fw-400\"\n                        :class=\"{'disabled':index===formData.length-1}\"\n                        v-on:click=\"goStep(index,index+1)\"\n                      >\n                        <i class=\"fad fa-fw fa-angle-double-right mr-2\"></i>下一条\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport config from \"@/common/config\";\nimport utils from \"@/common/utils.js\";\nimport service from \"@/common/service\";\nimport moment from \"moment\";\nimport Field from \"../fields/Field\";\nexport default {\n  data() {\n    return utils.createModel({\n      moment: moment,\n      task: {},\n      formData: [],\n    });\n  },\n  created() {\n    var userId = this.user.id;\n    var draftList = [];\n    var filter = {filter:{taskId: this.$route.query.id}}\n    service.getLpaDraft(\"lpaDraft\",filter).then(\n      (draft)=>{\n        try {\n          draftList = draft.data._embedded[0].draft;\n        } catch (error) {\n          \n        }\n      },\n      (error)=>{\n      });\n    service\n      .requestBpmn(\"runtime/tasks/\" + this.$route.query.id)\n      .then((response) => {\n        this.task = response.data;\n        //this.task.formKey = \"1590410407656\";\n        if (!this.task.formKey) {\n          return Promise.reject();\n        }\n        return service.getItem(\"form\", this.task.formKey);\n      })\n      .then(\n        (form) => {\n          form.data.formData.forEach((fieldset) => {\n            fieldset.complete = false;\n            var firstValue = \"\";\n            fieldset.components.forEach((field, index) => {\n              field.hidden = index > 0;\n              field.invalid = false;\n              //如果有草稿，渲染草稿\n              if(draftList.length > 0){\n                var draftElemList = draftList.filter(elem => elem.name == field.key);\n                if(draftElemList.length>0){\n                  field.value = draftElemList[0].value;\n                  if(index == 0){\n                    firstValue = draftElemList[0].value;\n                  }else{\n                    field.hidden = firstValue !== \"存在问题\";\n                    if(firstValue === \"na\"){\n                      if(field.label !== \"问题描述\" &&  field.label !== \"问题附件\" && field.label !== \"问题指派给\"){\n                        field.hidden = false;\n                      }\n                    }\n\n                  }\n                }\n              }  \n              // if(field.type===\"file\"&&!field.value){\n              //     field.value=[];\n              // }\n            });\n          });\n          this.formData = form.data.formData;\n\n          if (myapp_config.thisDevice === \"desktop\") {\n            $(\n              \".custom-scroll:not(.disable-slimscroll) >:first-child\"\n            ).slimscroll({\n              height: $(this).data(\"scrollHeight\") || \"100%\",\n              size: $(this).data(\"scrollSize\") || \"4px\",\n              position: $(this).data(\"scrollPosition\") || \"right\",\n              color: $(this).data(\"scrollColor\") || \"rgba(0,0,0,0.6)\",\n              alwaysVisible: $(this).data(\"scrollAlwaysVisible\") || false,\n              distance: $(this).data(\"scrollDistance\") || \"4px\",\n              railVisible: $(this).data(\"scrollRailVisible\") || false,\n              railColor: $(this).data(\"scrollRailColor\") || \"#fafafa\",\n              allowPageScroll: false,\n              disableFadeOut: false,\n            });\n          }\n        },\n        (error) => {}\n      );\n\n    this.$on(\"submit\", () => {\n      var valid = this.validate(this.formData);\n      var fieldsets = $(\".position-absolute .js-collapse\");\n      var firstIndex = 0\n      this.formData.forEach((item,index) => {\n        if (this.validate([item])){\n          fieldsets.eq(index).collapse('hide');\n        }else {\n          if (firstIndex === 0){\n            firstIndex = index\n          }\n          document.getElementById('scrollTopDiv').scrollTop = 62*firstIndex;\n          fieldsets.eq(index).collapse('show');\n        }\n      })\n      if (!valid) {\n        return;\n      }\n\n      var allFields = [].concat.apply(\n        [],\n        this.formData.map((fieldset) => fieldset.components)\n      );\n\n      // name: \"involved_user\",\n      //                   type: \"string\",\n      //                   value: involvedUserId\n\n      var variables = allFields.map((field) => {\n        return {\n          name: field.key,\n          value: field.value,\n        };\n      });\n      var fieldValue = {};\n      allFields.forEach((field) => {\n        fieldValue[field.key] = field.value;\n      });\n      var wholeVariable = {\n        data: fieldValue,\n        fields: JSON.parse(JSON.stringify(this.formData)),\n      };\n      variables.push({\n        name: this.task.formKey,\n        value: JSON.stringify(wholeVariable),\n      });\n\n      service\n        .requestBpmn(\"runtime/tasks/\" + this.task.id, \"POST\", {\n          action: \"complete\",\n          variables: variables,\n        })\n        .then(\n          (response) => {\n            this.$parent.$emit(\"message\", {\n              type: \"success\",\n              title: \"提交成功\",\n              message: \"任务提交成功。\",\n            });\n            this.$router.push({ name: \"tasks\" });\n          },\n          (error) => {\n            var exception = error.data.exception\n            exception = exception.replace('problem evaluating script:', '')\n            exception = exception.replace('javax.script.ScriptException:', '')\n            exception = exception.replace('org.activiti.engine.ActivitiIllegalArgumentException:', '')\n            this.$parent.$emit(\"message\", {\n              type: \"error\",\n              title: \"提交失败\",\n              message: exception.trim(),\n            });\n          }\n        );\n    });\n \n    this.$on(\"save\", () => {\n      var allFields = [].concat.apply(\n        [],\n        this.formData.map((fieldset) => fieldset.components)\n      );\n\n      var variables = allFields.map((field) => {\n        return {\n          name: field.key,\n          value: field.value,\n        };\n      });\n      var fieldValue = {};\n      allFields.forEach((field) => {\n        fieldValue[field.key] = field.value;\n      });\n      var wholeVariable = {\n        data: fieldValue,\n        fields: JSON.parse(JSON.stringify(this.formData)),\n      };\n      variables.push({\n        name: this.task.formKey,\n        value: JSON.stringify(wholeVariable),\n      });\n      var draft = {\n        _id: this.task.id,\n        taskId: this.task.id,\n        draft: variables\n      };\n      service.saveLpaDraft(\"lpaDraft\", draft);     \n\n    });\n  },\n  mounted() {\n\n  },\n  methods: {\n    validate(fieldsets) {\n      var result = true;\n\n      fieldsets.forEach((fieldset) => {\n        var currentResult = true;\n        var fields = fieldset.components;\n        var valid;\n        fields.forEach((field) => {\n          if (field.type === \"file\") {\n            valid =\n              typeof field.value === \"string\" &&\n              field.value &&\n              JSON.parse(field.value).length > 0;\n          } else {\n            valid = !!field.value;\n          }\n          field.invalid = !field.hidden && field.validate.required && !valid;\n          if (field.invalid) {\n            result = false;\n            currentResult = false;\n          }\n        });\n        fieldset.complete = currentResult;\n      });\n\n      if (!result) {\n        this.$parent.$emit(\"message\", {\n          type: \"error\",\n          title: \"填写表单\",\n          message: \"表单信息填写不完整。\",\n        });\n      }\n\n      return result;\n    },\n    updateVisibility(field) {\n      var components = this.formData.find(\n        (fieldset) => fieldset.components.indexOf(field) >= 0\n      ).components;\n      if (field === components[0]) {\n        var hidden = field.value !== \"存在问题\";\n        components.slice(1).forEach((component) => (component.hidden = hidden));\n        if(field.value === \"na\"){\n          components.slice(1).forEach(\n                  (component) => {\n          if(component.label !== \"问题描述\" &&  component.label !== \"问题附件\" && component.label !== \"问题指派给\"){\n            component.hidden = false;\n          }\n                  }\n\n        );\n        }\n      }\n\n    },\n    goStep(current, target) {\n      if (target < 0 || target > this.formData.length - 1) {\n        return;\n      }\n      var fields = this.formData[current].components;\n      var valid = this.validate([this.formData[current]]);\n      if (valid) {\n        var fieldsets = $(\".position-absolute .js-collapse\");\n        fieldsets.eq(current).collapse('hide');\n        fieldsets.eq(target).collapse('show');\n      }\n    },\n  },\n  components: {\n    Field,\n  },\n};\n</script>\n\n<style scoped>\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Task.vue?vue&type=template&id=6093c37c&scoped=true&\"\nimport script from \"./Task.vue?vue&type=script&lang=js&\"\nexport * from \"./Task.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6093c37c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[(_vm.data.type==='textfield')?_c('div',[_c('label',{staticClass:\"form-label fw-400 text-black-50\",attrs:{\"for\":_vm.data.id}},[_vm._v(_vm._s(_vm.data.label)+\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.validate.required),expression:\"data.validate.required\"}],staticClass:\"fal fa-fw fa-asterisk text-danger \"})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.value),expression:\"data.value\"}],staticClass:\"form-control form-control-sm\",class:{'is-invalid': _vm.data.invalid},attrs:{\"type\":\"text\",\"id\":_vm.data.id},domProps:{\"value\":(_vm.data.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"value\", $event.target.value)}}})]):_vm._e(),(_vm.data.type==='textarea')?_c('div',[_c('label',{staticClass:\"form-label fw-400 text-black-50\",attrs:{\"for\":_vm.data.id}},[_vm._v(_vm._s(_vm.data.label)+\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.validate.required),expression:\"data.validate.required\"}],staticClass:\"fal fa-fw fa-asterisk text-danger\"})]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.value),expression:\"data.value\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.data.invalid},attrs:{\"id\":_vm.data.id,\"rows\":\"3\"},domProps:{\"value\":(_vm.data.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"value\", $event.target.value)}}})]):_vm._e(),(_vm.data.type==='number')?_c('div',[_c('label',{staticClass:\"form-label fw-400 text-black-50\",attrs:{\"for\":_vm.data.id}},[_vm._v(_vm._s(_vm.data.label)+\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.validate.required),expression:\"data.validate.required\"}],staticClass:\"fal fa-fw fa-asterisk text-danger\"})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.value),expression:\"data.value\"}],staticClass:\"form-control form-control-sm\",class:{'is-invalid': _vm.data.invalid},attrs:{\"type\":\"number\",\"id\":_vm.data.id},domProps:{\"value\":(_vm.data.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"value\", $event.target.value)}}})]):_vm._e(),(_vm.data.type==='date')?_c('div',[_c('label',{staticClass:\"form-label fw-400 text-black-50\",attrs:{\"for\":_vm.data.id}},[_vm._v(_vm._s(_vm.data.label)+\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.validate.required),expression:\"data.validate.required\"}],staticClass:\"fal fa-fw fa-asterisk text-danger\"})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.value),expression:\"data.value\"}],staticClass:\"form-control form-control-sm\",class:{'is-invalid': _vm.data.invalid},attrs:{\"type\":\"date\",\"id\":_vm.data.id},domProps:{\"value\":(_vm.data.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"value\", $event.target.value)}}})]):_vm._e(),(_vm.data.type==='radio')?_c('div',[_c('label',{staticClass:\"form-label fw-400 text-black-50\",attrs:{\"for\":_vm.data.id}},[_vm._v(_vm._s(_vm.data.label)+\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.validate.required),expression:\"data.validate.required\"}],staticClass:\"fal fa-fw fa-asterisk text-danger ml-2\"})]),_c('div',_vm._l((_vm.data.values),function(option,index){return _c('div',{key:index,staticClass:\"custom-control custom-radio custom-control-inline\",class:{'is-invalid': _vm.data.invalid}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.value),expression:\"data.value\"}],staticClass:\"custom-control-input\",class:{'is-invalid': _vm.data.invalid},attrs:{\"type\":\"radio\",\"id\":_vm.data.id+index,\"name\":_vm.data.id},domProps:{\"value\":option.value,\"checked\":_vm._q(_vm.data.value,option.value)},on:{\"change\":[function($event){return _vm.$set(_vm.data, \"value\", option.value)},function($event){return _vm.changeSelection($event,_vm.data)}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":_vm.data.id+index}},[_vm._v(_vm._s(option.label))])])}),0)]):_vm._e(),(_vm.data.type==='file')?_c('File',{attrs:{\"data\":_vm.data},on:{\"update:data\":function($event){_vm.data=$event}}}):_vm._e(),(_vm.data.type==='select')?_c('div',[_c('label',{staticClass:\"form-label fw-400 text-black-50\",attrs:{\"for\":_vm.data.id}},[_vm._v(_vm._s(_vm.data.label)+\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.validate.required),expression:\"data.validate.required\"}],staticClass:\"fal fa-fw fa-asterisk text-danger\"})]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.value),expression:\"data.value\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.data.invalid},attrs:{\"id\":_vm.data.id,\"name\":_vm.data.id},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.data, \"value\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.changeSelection($event, _vm.data)}]}},_vm._l((_vm.data.data.values),function(option,index){return _c('option',{key:index,domProps:{\"value\":option.value}},[_vm._v(_vm._s(option.label))])}),0)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"form-label fw-400 text-black-50\",attrs:{\"for\":_vm.data.id}},[_vm._v(_vm._s(_vm.data.label)+\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.validate.required),expression:\"data.validate.required\"}],staticClass:\"fal fa-fw fa-asterisk text-danger\"})]),_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"custom-file\"},[(_vm.data.isAndroid)?_c('input',{staticClass:\"custom-file-input\",class:{'is-invalid': _vm.data.invalid},attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"mutiple\":\"mutiple\",\"capture\":\"camera\",\"id\":_vm.data.id,\"aria-describedby\":'btn'+_vm.data.id},on:{\"change\":function($event){return _vm.changeFile($event)}}}):_c('input',{staticClass:\"custom-file-input\",class:{'is-invalid': _vm.data.invalid},attrs:{\"type\":\"file\",\"id\":_vm.data.id,\"aria-describedby\":'btn'+_vm.data.id},on:{\"change\":function($event){return _vm.changeFile($event)}}}),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":_vm.data.id}},[_vm._v(_vm._s(_vm.handleNameLen(_vm.name,20)||\"选择文件\"))])]),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-default waves-effect waves-themed\",class:{'disabled':!_vm.name},attrs:{\"type\":\"button\",\"id\":'btn'+_vm.data.id},on:{\"click\":function($event){return _vm.upload($event)}}},[_vm._v(\"上传\")])])]),_vm._l((_vm.files),function(file,index){return _c('ul',{key:file.path,staticClass:\"list-group shadow-sm\"},[_c('li',{staticClass:\"list-group-item d-flex justify-content-between align-items-center\"},[_vm._v(\" \"+_vm._s(_vm.handleNameLen(file.name,20))+\" \"),_c('a',{staticClass:\"badge badge-danger badge-pill\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.removeFile(index)}}},[_c('i',{staticClass:\"far fa-fw fa-times mr-2\"}),_vm._v(\"删除 \")])])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <label class=\"form-label fw-400 text-black-50\" :for=\"data.id\">{{data.label}} <i class=\"fal fa-fw fa-asterisk text-danger\" v-show=\"data.validate.required\"></i></label>\n    <div class=\"input-group\">\n      <div class=\"custom-file\">\n        <input\n          v-if=\"data.isAndroid\"\n          type=\"file\"\n          accept=\"image/*\"\n          mutiple=\"mutiple\"\n          capture=\"camera\"\n          class=\"custom-file-input\"\n          :id=\"data.id\"\n          :class=\"{'is-invalid': data.invalid}\"\n          :aria-describedby=\"'btn'+data.id\"\n          @change=\"changeFile($event)\"\n        />\n        <input\n                v-else\n                type=\"file\"\n                class=\"custom-file-input\"\n                :id=\"data.id\"\n                :class=\"{'is-invalid': data.invalid}\"\n                :aria-describedby=\"'btn'+data.id\"\n                @change=\"changeFile($event)\"\n        />\n        <label class=\"custom-file-label\" :for=\"data.id\">{{handleNameLen(name,20)||\"选择文件\"}}</label>\n      </div>\n      <div class=\"input-group-append\">\n        <button\n          class=\"btn btn-outline-default waves-effect waves-themed\"\n          type=\"button\"\n          :class=\"{'disabled':!name}\"\n          @click=\"upload($event)\"\n          :id=\"'btn'+data.id\"\n        >上传</button>\n      </div>\n    </div>\n\n    <ul class=\"list-group shadow-sm\" v-for=\"(file,index) in files\" :key=\"file.path\">\n      <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n        {{handleNameLen(file.name,20)}}\n        <a\n          href=\"javascript:void(0);\"\n          @click=\"removeFile(index)\"\n          class=\"badge badge-danger badge-pill\"\n        >\n          <i class=\"far fa-fw fa-times mr-2\"></i>删除\n        </a>\n      </li>\n    </ul>\n    <!-- <ul class=\"list-group shadow-sm\">\n      <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n        Cras justo odio\n        <a href=\"#\" class=\"badge badge-danger badge-pill\">\n          <i class=\"far fa-fw fa-times mr-2\"></i>删除\n        </a>\n      </li>\n    </ul>-->\n  </div>\n</template>\n\n\n<script>\nimport config from \"@/common/config\";\nimport utils from \"@/common/utils.js\";\nimport service from \"@/common/service\";\nimport moment from \"moment\";\nexport default {\n  data() {\n    return utils.createModel({\n      name: \"\",\n      files: [],\n      isAndroid: false\n    });\n  },\n  props: [\"data\"],\n  created() {\n    if (!this.data.value) {\n      this.data.value = \"[]\";\n    }\n    var files = JSON.parse(this.data.value);\n    files.forEach((file) => {\n      this.files.push(file);\n    });\n  },\n  mounted() {\n    if (navigator.userAgent.indexOf('Android') > -1){\n      this.isAndroid = true\n    }\n  },\n  methods: {\n    changeFile(event) {\n      var file = event.target.files[0];\n      var name = (file && file.name) || \"\";\n      this.name = name;\n      this.upload(event)\n    },\n    upload(event) {\n      var field = $(event.target).closest(\".input-group\").find(\"input\");\n      var files = field[0].files;\n      if (!files || files.length === 0) {\n        return;\n      }\n      var formData = new FormData();\n      formData.append(\"fileUploaded\", files[0]);\n      formData.append(\"user\", this.user.id);\n      formData.append(\"id\", \"lpa\");\n      service.upload(formData).then((response) => {\n        this.files.push(response.data);\n        field.val(\"\");\n        this.name = \"\";\n        this.data.value = JSON.stringify(this.files);\n      });\n    },\n    removeFile(index) {\n      //   var items = this.data.value;\n      //  items.splice(index, 1);\n\n      this.$delete(this.files, index);\n      this.data.value = JSON.stringify(this.files);\n    },\n\n    // fileUploaded\n    // user\n    //  id\n    handleNameLen(name, len){\n      var new_name = \"\";\n      if (name.length > len) {\n        new_name = name.substring(0, len);\n        new_name += \"...\"\n      }\n      else {\n        new_name = name;\n      }\n      return new_name;\n    }\n  },\n};\n</script>\n\n<style scoped>\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./File.vue?vue&type=template&id=3653d7f9&scoped=true&\"\nimport script from \"./File.vue?vue&type=script&lang=js&\"\nexport * from \"./File.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3653d7f9\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"form-group\">\n    <div v-if=\"data.type==='textfield'\">\n      <label class=\"form-label fw-400 text-black-50\" :for=\"data.id\">{{data.label}} <i class=\"fal fa-fw fa-asterisk text-danger \" v-show=\"data.validate.required\"></i></label>\n      <input type=\"text\" :id=\"data.id\" class=\"form-control form-control-sm\" :class=\"{'is-invalid': data.invalid}\" v-model=\"data.value\" />\n    </div>\n\n    <div v-if=\"data.type==='textarea'\">\n      <label class=\"form-label fw-400 text-black-50\" :for=\"data.id\">{{data.label}} <i class=\"fal fa-fw fa-asterisk text-danger\" v-show=\"data.validate.required\"></i></label>\n      <textarea class=\"form-control\" :id=\"data.id\" rows=\"3\" v-model=\"data.value\"  :class=\"{'is-invalid': data.invalid}\"></textarea>\n    </div>\n\n    <div v-if=\"data.type==='number'\">\n      <label class=\"form-label fw-400 text-black-50\" :for=\"data.id\">{{data.label}} <i class=\"fal fa-fw fa-asterisk text-danger\" v-show=\"data.validate.required\"></i></label>\n      <input type=\"number\" :id=\"data.id\" class=\"form-control form-control-sm\"  :class=\"{'is-invalid': data.invalid}\" v-model=\"data.value\" />\n    </div>\n\n    <div v-if=\"data.type==='date'\">\n      <label class=\"form-label fw-400 text-black-50\" :for=\"data.id\">{{data.label}} <i class=\"fal fa-fw fa-asterisk text-danger\" v-show=\"data.validate.required\"></i></label>\n      <input type=\"date\" :id=\"data.id\" class=\"form-control form-control-sm\"  :class=\"{'is-invalid': data.invalid}\" v-model=\"data.value\" />\n    </div>\n\n    <div v-if=\"data.type==='radio'\">\n      <label class=\"form-label fw-400 text-black-50\" :for=\"data.id\">{{data.label}} <i class=\"fal fa-fw fa-asterisk text-danger ml-2\" v-show=\"data.validate.required\"></i></label>\n      <div>\n        <div\n          class=\"custom-control custom-radio custom-control-inline\"\n          v-for=\"(option,index) in data.values\"\n           :class=\"{'is-invalid': data.invalid}\"\n          :key=\"index\"\n        >\n          <input\n            type=\"radio\"\n             @change=\"changeSelection($event,data)\"\n            class=\"custom-control-input\"\n            :class=\"{'is-invalid': data.invalid}\"\n            :id=\"data.id+index\"\n            :name=\"data.id\"\n            :value=\"option.value\"\n            v-model=\"data.value\"\n          />\n          <label class=\"custom-control-label\" :for=\"data.id+index\">{{option.label}}</label>\n        </div>\n      </div>\n    </div>\n\n    <File v-if=\"data.type==='file'\" :data.sync=\"data\"></File>\n\n    <div v-if=\"data.type==='select'\">\n      <label class=\"form-label fw-400 text-black-50\" :for=\"data.id\">{{data.label}} <i class=\"fal fa-fw fa-asterisk text-danger\" v-show=\"data.validate.required\"></i></label>\n      <select :id=\"data.id\" :name=\"data.id\" v-model=\"data.value\" @change=\"changeSelection($event, data)\" class=\"form-control\"  :class=\"{'is-invalid': data.invalid}\">\n        <option\n          v-for=\"(option,index) in data.data.values\"\n          :key=\"index\"\n          :value=\"option.value\"\n        >{{option.label}}</option>\n      </select>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport config from \"@/common/config\";\nimport utils from \"@/common/utils.js\";\nimport service from \"@/common/service\";\nimport moment from \"moment\";\nimport File from \"./File\";\nexport default {\n  name: \"Field\",\n  data() {\n    return {\n\n    };\n  },\n  props: [\"data\"],\n  created() {\n    //  if (!this.data.value && this.data.type!==\"file\") {\n    //   this.data.value = \"\";\n    // }\n  },\n  mounted() {},\n  methods: {\n    changeSelection($event,field){\n        this.$emit('change', field)\n    }\n  },\n  components: {\n    File\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Field.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Field.vue?vue&type=template&id=1815b5ce&scoped=true&\"\nimport script from \"./Field.vue?vue&type=script&lang=js&\"\nexport * from \"./Field.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1815b5ce\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","import config from \"./config\";\nimport axios from 'axios';\nimport NProgress from 'nprogress' // progress bar\n\naxios.interceptors.request.use(config => {\n    NProgress.start();\n    return config;\n});\naxios.interceptors.response.use(config => {\n    NProgress.done();\n    return config;\n}, error => {\n    NProgress.done();\n    return Promise.reject(error.response);\n});\n\nexport default {\n    getUsers(ids) {\n        var requests = ids.map(id => this.requestBpmn(\n            \"identity/users/\" + id\n        ));\n        return Promise.all(requests);\n    },\n    getItem(type, id) {\n        var result;\n        var url = config[type + \"Url\"];\n        return axios.get(url + id).then(response => {\n            result = response;\n            var item = result.data;\n            var ids = [];\n            if (item.createdBy && ids.indexOf(item.createdBy) < 0) {\n                ids.push(item.createdBy);\n            }\n            if (item.updatedBy && ids.indexOf(item.updatedBy) < 0) {\n                ids.push(item.updatedBy);\n            }\n            return this.getUsers(ids);\n        }).then(response => {\n            var item = result.data;\n            var data = response.map(item => item.data);\n            if (item.createdBy) {\n                var user = data.find(user => user.id.toLowerCase() === item.createdBy.toLowerCase());\n                item.createdName = (user.firstName + \" \" + user.lastName).trim();\n            }\n            if (item.updatedBy) {\n                user = data.find(user => user.id.toLowerCase() === item.updatedBy.toLowerCase());\n                item.updatedName = (user.firstName + \" \" + user.lastName).trim();\n            }\n\n            return Promise.resolve(result);\n        });\n    },\n    getItems(type, data) {\n        var url = config[type + \"Url\"];\n        return new Promise((resolve, reject) => {\n            data = data || {};\n            data.filter = data.filter || {};\n            data.filter.type = type;\n            data.filter = JSON.stringify(data.filter);\n\n            if (data.sort) {\n                data.sort = JSON.stringify(data.sort);\n            }\n\n            var settings = {\n                dataType: \"json\",\n                url: url,\n                method: \"get\",\n                params: data\n            };\n            var items = [];\n            return axios(settings).then(response => {\n                items = response.data._embedded;\n                var ids = [];\n                items.forEach(item => {\n                    if (item.createdBy && ids.indexOf(item.createdBy) < 0) {\n                        ids.push(item.createdBy);\n                    }\n                    if (item.updatedBy && ids.indexOf(item.updatedBy) < 0) {\n                        ids.push(item.updatedBy);\n                    }\n                });\n                return this.getUsers(ids);\n                //   resolve(items);\n            }).then(response => {\n                items.forEach(item => {\n                    var data = response.map(item => item.data);\n                    if (item.createdBy) {\n                        var user = data.find(user => user.id.toLowerCase() === item.createdBy.toLowerCase());\n                        item.createdName = (user.firstName + \" \" + user.lastName).trim();\n                    }\n                    if (item.updatedBy) {\n                        user = data.find(user => user.id.toLowerCase() === item.updatedBy.toLowerCase());\n                        item.updatedName = (user.firstName + \" \" + user.lastName).trim();\n                    }\n\n                });\n                resolve(items);\n            });\n        });\n    },\n\n    saveItem(type, item) {\n      return  this.getItems(type, {\n            filter: {\n                name: item.name,\n                _id: {\n                    \"$ne\": item._id\n                }\n            }\n        }).then(response => {\n            if (response && response.length) {\n                return Promise.reject({\n                    message: \"名称\\\"\" + item.name + \"\\\"已存在。\"\n                });\n            } else {\n                return axios({\n                    dataType: \"json\",\n                    url: config[type + \"Url\"],\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    method: \"post\",\n                    data: item\n                });\n            }\n\n        });\n    },\n    deleteItem(type, id) {\n        var url = config[type + \"Url\"];\n        url += id;\n        var settings = {\n            dataType: \"text\",\n            url: url,\n            method: \"delete\",\n            data: {}\n        };\n\n        return axios(settings);\n    },\n    requestBpmn(path, type, data) {\n        var type = type || \"GET\";\n        var url = config.bpmnUrl + (path || \"\");\n        var settings = {\n            dataType: \"json\",\n            url: url,\n            headers: {\n                \"Authorization\": sessionStorage.getItem(\"token\"),\n                \"Content-Type\": \"application/json\"\n            },\n            method: type\n\n        };\n        if (type === \"GET\") {\n            settings.params = data;\n        } else {\n            settings.data = data;\n        }\n\n        return axios(settings);\n    },\n    upload(formData) {\n        return axios({\n            method: \"post\",\n            url: config.uploadUrl + \"upload\",\n            data: formData,\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n    },\n    getProcessTemplate(type) {\n        return axios({\n            method: \"get\",\n            url: \"template/\" + type + \".bpmn\",\n            headers: {\n                'Content-Type': 'text'\n            }\n        });\n    },\n    saveLpaDraft(type, item) {\n        return axios({\n            dataType: \"json\",\n            url: config[type + \"Url\"],\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            method: \"post\",\n            data: item\n        });\n    },\n    getLpaDraft(type, data){\n        return axios({\n            dataType: \"json\",\n            url: config[type + \"Url\"],\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            method: \"get\",\n            params: data,\n            async: false\n        });\n    }\n\n}"],"sourceRoot":""}