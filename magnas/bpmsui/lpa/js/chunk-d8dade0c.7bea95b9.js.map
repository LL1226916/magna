{"version":3,"sources":["webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ServiceTaskDelegateProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ListenerDetailProps.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/CallActivityProps.js","webpack:///./node_modules/lodash/_baseKeys.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/index.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ConnectorInputOutputProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ConnectorDetailProps.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Properties.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_isStrictComparable.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Delegate.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/CreateHelper.js","webpack:///./node_modules/lodash/_getNative.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ListenerDetailProps.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ConnectorInputOutputProps.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/EventProps.js","webpack:///./node_modules/lodash/_getFuncName.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/ElementHelper.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/HistoryTimeToLiveProps.js","webpack:///./node_modules/lodash/_isKeyable.js","webpack:///./node_modules/lodash/_castFunction.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/isEmpty.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/CandidateStarter.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/InputOutputParameterProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ErrorEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ImplementationType.js","webpack:///./node_modules/lodash/_baseMatchesProperty.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/LinkEntryFactory.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Callable.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/_equalByTag.js","webpack:///./node_modules/bpmn-js-properties-panel/index.js","webpack:///./node_modules/lodash/_Promise.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/CreateBusinessObjectListHandler.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/TimerEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/index.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/AsyncContinuation.js","webpack:///./node_modules/lodash/_hashDelete.js","webpack:///./node_modules/lodash/_mapCacheSet.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/External.js","webpack:///./node_modules/lodash/_matchesStrictComparable.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_memoizeCapped.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Script.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/CustomElementsPropertiesActivator.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/ElementTemplatesLoader.js","webpack:///./node_modules/lodash/_baseAggregator.js","webpack:///./node_modules/lodash/_Uint8Array.js","webpack:///./node_modules/lodash/_mapCacheGet.js","webpack:///./node_modules/lodash/_hashSet.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ListenerFieldInjectionProps.js","webpack:///./node_modules/lodash/_realNames.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/NameProps.js","webpack:///./node_modules/lodash/_baseValues.js","webpack:///./node_modules/lodash/bind.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/_getData.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/Name.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/wrapperLodash.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/ElementTemplates.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/CmdHelper.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/ExtensionElementsHelper.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ErrorEventProps.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/MultiInstanceLoopCharacteristics.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/parts/CustomProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/UserTaskProps.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ListenerProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ResultVariable.js","webpack:///./node_modules/lodash/_stackDelete.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/IdProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/Utils.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Callable.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/index.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/_getSymbols.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/External.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ScriptTaskProps.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/Validator.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/InputOutput.js","webpack:///./node_modules/lodash/_isLaziable.js","webpack:///./node_modules/lodash/_WeakMap.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ExternalTaskConfigurationProps.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ListenerFieldInjectionProps.js","webpack:///./node_modules/lodash/_getMatchData.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/HistoryTimeToLive.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ExtensionElements.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/StartEventInitiator.js","webpack:///./node_modules/lodash/values.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/ActivitiPropertiesProvider.js","webpack:///./node_modules/lodash/keyBy.js","webpack:///./node_modules/lodash/xor.js","webpack:///./node_modules/lodash/_getMapData.js","webpack:///./node_modules/lodash/_arraySome.js","webpack:///./node_modules/lodash/_getTag.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/ElementTemplates.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ServiceTaskDelegateProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/TasklistProps.js","webpack:///./node_modules/lodash/_baseLodash.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/parts/ChooserProps.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_baseIndexOf.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/InputOutputParameter.js","webpack:///./node_modules/lodash/_hashClear.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/cmd/ChangeElementTemplateHandler.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/MultiInstanceLoopProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/TextBoxEntryFactory.js","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/CreateHelper.js","webpack:///./node_modules/lodash/_setWrapToString.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/AsyncCapableHelper.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/transform.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/SignalEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ConnectorInputOutputParameterProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/UpdateBusinessObjectListHandler.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/InputOutputHelper.js","webpack:///./node_modules/lodash/_stackHas.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ErrorEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/TableEntryFactory.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_getHolder.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/FormProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/FieldInjectionProps.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ScriptTaskProps.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/LabelFactory.js","webpack:///./node_modules/lodash/_nativeCreate.js","webpack:///./node_modules/lodash/_LazyWrapper.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/_baseMatches.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ConditionalProps.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/JobPriority.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/index.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/cmd/ChangeElementTemplateHandler.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_metaMap.js","webpack:///./node_modules/lodash/forEach.js","webpack:///./node_modules/lodash/_arrayLikeKeys.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/TasklistProps.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/LinkProps.js","webpack:///./node_modules/lodash/constant.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/ElementTemplatesLoader.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/ComboEntryFactory.js","webpack:///./node_modules/lodash/_baseIsTypedArray.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ExternalTaskConfigurationProps.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ExtensionElements.js","webpack:///./node_modules/lodash/_Map.js","webpack:///./node_modules/lodash/_hashHas.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Listener.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/cmd/index.js","webpack:///./node_modules/lodash/_MapCache.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/CustomElementsPropertiesActivator.js","webpack:///./node_modules/lodash/_baseIsEqualDeep.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/InputOutputProps.js","webpack:///./node_modules/lodash/_mapCacheClear.js","webpack:///./node_modules/selection-update/index.js","webpack:///./node_modules/lodash/_baseGetAllKeys.js","webpack:///./src/components/process/processEdit.vue?5a7c","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/JobRetryTimeCycle.js","webpack:///./node_modules/lodash/_Stack.js","webpack:///./node_modules/lodash/_setCacheAdd.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/index.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/CamundaPropertiesProvider.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/VariableMappingProps.js","webpack:///./node_modules/lodash/_stackGet.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/index.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/InputOutputProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/EntryFieldDescription.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Listener.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ListenerProps.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/MultiInstanceLoopCharacteristics.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ErrorEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/CheckboxEntryFactory.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Tasklist.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/CandidateStarterProps.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/filter.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/AsynchronousContinuationProps.js","webpack:///./node_modules/lodash/_mapCacheDelete.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/CategoryHelper.js","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ImplementationType.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/ProcessProps.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/_baseIsMatch.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/JobConfigurationProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/FormHelper.js","webpack:///./node_modules/lodash/_baseMap.js","webpack:///./node_modules/lodash/flattenDeep.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/_nodeUtil.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/parts/CustomProps.js","webpack:///./node_modules/lodash/_isIterateeCall.js","webpack:///./node_modules/lodash/get.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/VersionTagProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/JobRetryTimeCycle.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/cmd/index.js","webpack:///./node_modules/lodash/_baseFilter.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Script.js","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/CandidateStarter.js","webpack:///./node_modules/lodash/_equalArrays.js","webpack:///./node_modules/lodash/_baseSetToString.js","webpack:///./node_modules/lodash/_mapCacheHas.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/CompensateEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Delegate.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/CallActivityProps.js","webpack:///./src/components/process/processEdit.vue?a1a4","webpack:///src/components/process/processEdit.vue","webpack:///./src/components/process/processEdit.vue?ff29","webpack:///./src/components/process/processEdit.vue","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ElementReferenceProperty.js","webpack:///./node_modules/lodash/_getAllKeys.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/InputOutputParameter.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/FieldInjection.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/InputOutputParameterProps.js","webpack:///./node_modules/lodash/_mergeData.js","webpack:///./node_modules/lodash/_setToArray.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ResultVariable.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/StartEventInitiator.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/HistoryTimeToLiveProps.js","webpack:///./node_modules/lodash/_equalObjects.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ErrorEventProps.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/_baseSetData.js","webpack:///./node_modules/lodash/toNumber.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_DataView.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/VersionTagProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/PropertiesActivator.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Properties.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/PropertiesProps.js","webpack:///./node_modules/lodash/_getWrapDetails.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/PropertiesProps.js","webpack:///./node_modules/lodash/_baseIteratee.js","webpack:///./node_modules/lodash/_hashGet.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/ExternalTaskPriority.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/TextInputEntryFactory.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/DocumentationProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/FieldInjectionProps.js","webpack:///./node_modules/lodash/_baseIsEqual.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ConditionalEventDefinition.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/CreateAndReferenceHandler.js","webpack:///./node_modules/lodash/_setToString.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ConditionalProps.js","webpack:///./node_modules/lodash/_wrapperClone.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/VariableMappingProps.js","webpack:///./node_modules/lodash/_cacheHas.js","webpack:///./node_modules/lodash/_Set.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/bpmn-js/dist/assets/diagram-js.css?3cb9","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/MultiInstanceLoopProps.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/_baseToString.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/UserTaskProps.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_stackSet.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/AsynchronousContinuationProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/PropertiesPanel.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/Validator.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/MultiCommandHandler.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/EventDefinitionHelper.js","webpack:///./node_modules/lodash/_SetCache.js","webpack:///./node_modules/lodash/_baseIsNaN.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./node_modules/lodash/_insertWrapDetails.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/Helper.js","webpack:///./node_modules/lodash/_setCacheHas.js","webpack:///./node_modules/lodash/_toSource.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/HistoryTimeToLive.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/assign.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/ParticipantHelper.js","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/SelectEntryFactory.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/UpdateBusinessObjectHandler.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/ImplementationTypeHelper.js","webpack:///./node_modules/lodash/_Hash.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/AsyncContinuation.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/element-templates/Helper.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/_basePropertyDeep.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ConnectorDetailProps.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/EntryFactory.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/parts/ChooserProps.js","webpack:///./node_modules/lodash/_replaceHolders.js","webpack:///./node_modules/bpmn-js/dist/assets/bpmn-font/css/bpmn-embedded.css?3bac","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/ConnectorInputOutputParameterProps.js","webpack:///./node_modules/lodash/_LodashWrapper.js","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/keys.js","webpack:///./node_modules/lodash/_baseXor.js","webpack:///./node_modules/lodash/_mapToArray.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/CandidateStarterProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/InputOutput.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/JobPriority.js","webpack:///./node_modules/lodash/_stackClear.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/FormProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/Tasklist.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/ExecutableProps.js","webpack:///./node_modules/lodash/_shortOut.js","webpack:///./node_modules/lodash/_toKey.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/EscalationEventDefinition.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_setData.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/EventDefinitionReference.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/MessageEventDefinition.js","webpack:///./node_modules/lodash/property.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/JobConfigurationProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ExternalTaskPriority.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/camunda/parts/implementation/FieldInjection.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/ValidationAwareTextInput.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/bpmn-js-properties-panel/dist/assets/bpmn-js-properties-panel.css?5c39","webpack:///./node_modules/lodash/_updateWrapDetails.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./node_modules/scroll-tabs/index.js","webpack:///./node_modules/lodash/isSymbol.js"],"names":["ImplementationTypeHelper","InputOutputHelper","utils","escapeHTML","triggerClickEvent","implementationType","delegate","external","callable","resultVariable","entryFactory","domQuery","query","domClosest","closest","domClasses","classes","getImplementationType","element","getBusinessObject","getServiceTaskLikeBusinessObject","isDmnCapable","isExternalCapable","isServiceTaskLike","getTabNode","el","id","containerEl","module","exports","group","bpmnFactory","translate","hasDmnSupport","hasExternalSupport","entries","concat","hasServiceTaskLikeSupport","hideResultVariable","node","getCallableType","isConnector","push","link","label","handleClick","event","connectorTabEl","showLink","textContent","remove","connectorId","getConnector","get","innerHTML","add","is","find","cmdHelper","scriptImplementation","timerImplementation","isTimeoutTaskListener","listener","eventType","getTimerEventDefinition","bo","eventDefinitions","options","LISTENER_TYPE_LABEL","class","expression","delegateExpression","script","getSelectedListener","classProp","expressionProp","delegateExpressionProp","scriptProp","executionListenerEventTypeOptions","isSequenceFlow","name","value","taskListenerEventTypeOptions","isSelected","selectBox","modelProperty","emptyParameter","set","values","updateBusinessObject","selectOptions","eventTypeOptions","selectedListener","isTaskListener","isExecutionListener","hidden","textField","listenerId","undefined","update","validate","listenerType","create","dataValueLabel","listenerValueLabel","listenerValue","html","template","isScript","timerEventDefinitionHandler","timerEventDefinition","createTimerEventDefinition","timerOptions","idPrefix","Symbol","objectProto","Object","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","getRawTag","isOwn","call","tag","unmasked","e","result","flattenDeep","assign","boCalledElement","boCaseRef","callActivityType","DEFAULT_PROPS","calledElement","type","props","updateProperties","isPrototype","nativeKeys","baseKeys","object","key","__depends__","default","__init__","propertiesProvider","inputOutput","inputOutputEntry","insideConnector","getSelectedParameter","connector","isArguments","isArray","spreadableSymbol","isConcatSpreadable","isFlattenable","stubFalse","factory","elementHelper","extensionElementsHelper","forEach","generatePropertyId","nextId","getPropertyValues","parent","properties","getPropertiesElement","isExtensionElements","getPropertiesElementInsideExtensionElements","extensionElements","elem","getParent","modelProperties","createParent","addLabel","getElements","addElement","commands","cmd","createElement","addAndRemoveElementsFromList","propertyProps","prop","indexOf","property","addElementsTolist","updateElement","idx","validationError","isIdValid","removeElement","propertyValues","currentProperty","removeElementsFromList","length","removeEntry","table","arrayPush","array","index","offset","isObject","isStrictComparable","DELEGATE_TYPES","PROPERTIES","isDelegate","getAttribute","getDelegationLabel","delegateEntry","attr","delegationLabel","strictIndexOf","fromIndex","createInputParameter","binding","parameterValue","parameterDefinition","scriptFormat","definition","createOutputParameter","source","createCamundaProperty","createCamundaIn","createCamundaInOutAttrs","createCamundaInWithBusinessKey","businessKey","createCamundaOut","createCamundaExecutionListenerScript","createCamundaFieldInjection","string","target","sourceExpression","variables","local","k","baseIsNative","getValue","getNative","freeExports","nodeType","freeModule","moduleExports","Buffer","root","nativeIsBuffer","isBuffer","identity","overRest","setToString","baseRest","func","start","isAny","eventDefinitionHelper","message","signal","error","escalation","timer","compensation","condition","elementRegistry","events","messageEventDefinition","getMessageEventDefinition","signalEventDefinition","getSignalEventDefinition","errorEvents","errorEventDefinition","getErrorEventDefinition","escalationEvents","showEscalationCodeVariable","escalationEventDefinition","getEscalationEventDefinition","timerEvents","compensationEvents","compensateEventDefinition","getCompensateEventDefinition","conditionalEvents","conditionalEventDefinition","getConditionalEventDefinition","realNames","getFuncName","data","otherFunc","ElementHelper","elementType","$parent","baseCreate","createCtor","Ctor","args","arguments","thisBinding","apply","historyTimeToLive","businessObject","isKeyable","castFunction","isObjectLike","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","getTag","isArrayLike","isTypedArray","mapTag","setTag","isEmpty","splice","size","candidateStarterGroupsEntry","description","candidateStarterGroups","candidateStarterUsersEntry","candidateStarterUsers","inputOutputParameter","elementReferenceProperty","showErrorCodeVariable","showErrorMessageVariable","modelPropertyValue","setValue","referenceProperty","map","DEFAULT_DELEGATE_PROPS","DELEGATE_PROPS","DMN_CAPABLE_PROPS","EXTERNAL_CAPABLE_PROPS","DEFAULT_OPTIONS","DMN_OPTION","EXTERNAL_OPTION","CONNECTOR_OPTION","SCRIPT_OPTION","getType","hasScriptSupport","implType","oldType","newType","newValue","connectors","getExtensionElements","baseIsEqual","hasIn","isKey","matchesStrictComparable","toKey","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","baseMatchesProperty","path","srcValue","objValue","entryFieldDescription","bind","Error","resource","cssClasses","attributeInfo","bpmn","version","versionTag","tenantId","cmmn","dmn","mapDecisionResultOptions","delegateVariableMappingOptions","getCamundaInWithBusinessKey","camundaIn","camundaInParams","param","setBusinessKey","text","camundaInWithBusinessKey","deleteBusinessKey","camundaInExtensions","isSupportedCallableType","bindingOptions","getCallActivityBindingValue","getDelegateVariableMappingType","boVariableMappingClass","boVariableMappingDelegateExpression","delegateVariableMappingType","callableElementRef","callableElementLabel","newCallableElementRef","elementRef","filter","bindingOption","callableBinding","attrVer","attrVerTag","callableVersion","checkbox","callableBusinessKey","mapDecisionResult","delegateVariableMapping","delegateVariableMappingLabel","memoizeCapped","rePropName","reEscapeChar","stringToPath","charCodeAt","replace","match","number","quote","subString","Uint8Array","eq","equalArrays","mapToArray","setToArray","boolTag","dateTag","errorTag","numberTag","regexpTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","valueOf","equalByTag","other","bitmask","customizer","equalFunc","stack","byteLength","byteOffset","buffer","convert","isPartial","stacked","Promise","CreateBusinessObjectListHandler","this","_elementRegistry","_bpmnFactory","ensureNotNull","ensureList","$inject","execute","context","currentObject","propertyName","newObjects","changed","childObjects","self","obj","childObject","previousChilds","revert","getTimerDefinitionType","timeDate","timeCycle","timeDuration","getTimerDefinition","timerOrFunction","createFormalExpression","body","TimerEventDefinition","prefix","timerDefinition","timerDefinitionType","customElementsPropertiesActivator","elementTemplates","elementTemplatesLoader","asyncCapableHelper","isAsyncBefore","isAsyncAfter","isExclusive","removeFailedJobRetryTimeCycle","canRemoveFailedJobRetryTimeCycle","labelPrefix","asyncBeforeEntry","asyncBefore","asyncAfterEntry","asyncAfter","exclusiveEntry","exclusive","hashDelete","has","__data__","getMapData","mapCacheSet","isExternal","topicEntry","externalTopic","nativeMax","Math","max","transform","Array","otherArgs","memoize","MAX_MEMOIZE_SIZE","cache","clear","getScriptType","selectedType","parentElement","scriptLanguagePropName","scriptValuePropName","isFormatRequired","boScriptResource","boScript","boScriptFormat","scriptResourceValue","scriptType","scriptValue","containerElement","validationResult","clearScriptFormat","inputNode","btnNode","scopeNode","canClearScriptFormat","input","clearScriptResource","canClearScriptResource","clearScript","canClearScript","isScriptResource","inherits","getTemplate","PropertiesActivator","HIGHER_PRIORITY","CustomElementsPropertiesActivator","eventBus","isEntryVisible","entry","isPropertyEditable","isEntryEditable","CUSTOM_PROPERTIES_PATTERN","DEFAULT_ENTRIES_VISIBLE","_all","isCustomEntry","test","entryId","entriesVisible","defaultVisible","entryVisible","getProperty","editable","indexes","split","scopeName","parseInt","isNaN","scopes","baseFor","baseForOwn","iteratee","Validator","ElementTemplatesLoader","loadTemplates","_loadTemplates","_eventBus","_elementTemplates","on","reload","err","templates","templateErrors","setTemplates","validator","addAll","errors","getErrors","validTemplates","getValidTemplates","templatesChanged","fire","baseEach","baseAggregator","collection","setter","accumulator","mapCacheGet","nativeCreate","HASH_UNDEFINED","hashSet","baseGetTag","argsTag","baseIsArguments","fieldInjection","insideListener","fieldInjectionEntry","nameEntryFactory","createCategoryValue","canvas","initializeCategory","semantic","rootElement","getRootElement","definitions","categoryValue","categoryValueRef","setGroupName","newLabel","getGroupName","arrayMap","baseValues","createWrap","getHolder","replaceHolders","WRAP_BIND_FLAG","WRAP_PARTIAL_FLAG","thisArg","partials","holders","placeholder","baseHasIn","createFind","findIndex","metaMap","noop","getData","listCacheClear","nameEntry","textBox","objectToString","LazyWrapper","LodashWrapper","baseLodash","wrapperClone","lodash","constructor","ElementTemplates","_templates","descriptors","descriptor","getAll","CmdHelper","newProperties","listPropertyName","objectsToAdd","referencePropertyName","objectsToRemove","setList","updatedObjectList","ExtensionElementsHelper","extensionValues","elements","addEntry","baseFindIndex","predicate","fromRight","freeGlobal","freeSelf","Function","isCatchingErrorEvent","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","LARGE_ARRAY_SIZE","baseUniq","comparator","includes","isCommon","seen","outer","computed","seenIndex","loopCharacteristics","getLoopCharacteristics","getBody","getLoopCardinality","getLoopCardinalityValue","loopCardinality","getCompletionCondition","getCompletionConditionValue","completionCondition","getCollection","getElementVariable","updateFormalExpression","expressionProps","existingExpression","isValid","notification","scope","toggle","elementVariable","arrayFilter","resIndex","overArg","getPrototype","getPrototypeOf","findExtension","findExtensions","findInputParameter","findOutputParameter","findActivitiProperty","findActivitiInOut","createActivitiProperty","createActivitiIn","createActivitiOut","createActivitiInWithBusinessKey","createActivitiFieldInjection","ACTIVITI_PROPERTY_TYPE","ACTIVITI_INPUT_PARAMETER_TYPE","ACTIVITI_OUTPUT_PARAMETER_TYPE","ACTIVITI_IN_TYPE","ACTIVITI_OUT_TYPE","ACTIVITI_IN_BUSINESS_KEY_TYPE","ACTIVITI_EXECUTION_LISTENER_TYPE","ACTIVITI_FIELD","BASIC_MODDLE_TYPES","EXTENSION_BINDING_TYPES","IO_BINDING_TYPES","IN_OUT_BINDING_TYPES","propertyGetter","getPropertyValue","objectWithKey","propertySetter","setPropertyValue","propertyValidator","validateValue","activitiProperties","activitiProperty","ioParameter","ioElement","executionListener","bindingType","bindingName","propertyValue","fieldInjections","item","unknownPropertyBinding","existingActivitiProperty","newActivitiProperty","existingIoParameter","newIoParameter","existingInOut","newInOut","updates","language","moddlePropertyDescriptor","$descriptor","propertiesByName","moddleType","existingFieldInjections","newFieldInjections","console","warn","constraints","notEmpty","maxLength","minLength","pattern","matchesPattern","propertyWithScope","str","regexp","RegExp","renderCustomField","p","propertyType","entryOptions","choices","groups","customFieldsGroup","idScopeName","customScopeFieldsGroup","propertyId","scopedProperty","baseUnary","baseDifference","valuesLength","valuesIndex","isIterateeCall","createAssigner","assigner","sources","guard","listenerEntry","resultVariableEntry","stackDelete","validationAwareTextField","setProperty","labelTarget","idValue","idError","domClear","domify","Ids","SPACE_REGEX","QNAME_REGEX","ID_REGEX","HTML_ESCAPE_MAP","'","selectedOption","selectedIndex","elementSyntax","typeSelect","getRoot","filterElementsByType","objectList","list","findRootElementsByType","referencedType","rootElements","removeAllChildren","domElement","firstChild","removeChild","addEmptyParameter","refreshOptionsModel","model","referableObjects","updateOptionsDropDown","domSelector","entryNode","option","optionEntry","appendChild","assigned","$model","ids","idExists","validateId","containsSpace","nextPrefixed","evt","document","createEvent","MouseEvent","view","window","bubbles","cancelable","initEvent","dispatchEvent","createEventObject","fireEvent","composeArgsRight","isCurried","argsIndex","argsLength","holdersIndex","holdersLength","rightIndex","rightLength","rangeLength","isUncurried","isFunction","isLength","getActivitiInWithBusinessKey","activitiIn","activitiInParams","activitiInWithBusinessKey","activitiInExtensions","baseAssignValue","assignValue","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","boResultVariable","scriptResultVariable","toSource","reRegExpChar","reIsHostCtor","funcProto","funcToString","reIsNative","DROPDOWN_TYPE","VALID_TYPES","PROPERTY_TYPE","CAMUNDA_PROPERTY_TYPE","CAMUNDA_INPUT_PARAMETER_TYPE","CAMUNDA_OUTPUT_PARAMETER_TYPE","CAMUNDA_IN_TYPE","CAMUNDA_OUT_TYPE","CAMUNDA_IN_BUSINESS_KEY_TYPE","CAMUNDA_EXECUTION_LISTENER","CAMUNDA_FIELD","VALID_BINDING_TYPES","_templatesById","_validTemplates","_errors","_logError","_validateTemplate","appliesTo","_validateProperties","_validateScopes","validProperties","_validateProperty","join","every","isDropdownChoiceValid","c","nullTag","undefinedTag","inputOutputHelper","extensionElementsEntry","getInputOutput","getInputParameters","getOutputParameters","getInputParameter","getOutputParameter","createInputOutput","createParameter","ensureInputOutputSupported","isInputOutputSupported","ensureOutparameterSupported","areOutputParametersSupported","TYPE_LABEL","getSelected","selection","inputEntry","parameter","outputEntry","newElement","inputParameters","outputParameters","newElem","getter","otherProp","firstLength","secondLength","setOptionLabelValue","suffix","$type","resizable","createExtensionElement","removeExtensionElement","onSelectionChange","deselect","isLaziable","funcName","WeakMap","externalTaskPriority","defineProperty","getMatchData","historyTimeToLiveEntry","getSelectBox","currentTab","generateElementId","CREATE_EXTENSION_ELEMENT_ACTION","REMOVE_EXTENSION_ELEMENT_ACTION","idGeneration","canCreate","canRemove","hideElements","hideExtensionElements","canBeHidden","defaultSize","reference","selectionChanged","createOption","initSelectionSize","optionsLength","extensionElementValue","parentNode","action","__action","createListEntryTemplate","setControlValue","generatedId","lastChild","selected","disableRemove","selectElement","now","Date","processProps","eventProps","linkProps","documentationProps","idProps","nameProps","executableProps","serviceTaskDelegateProps","userTaskProps","asynchronousContinuationProps","callActivityProps","multiInstanceProps","conditionalProps","scriptProps","errorProps","formProps","startEventInitiator","variableMapping","listenerProps","listenerDetails","listenerFields","elementTemplateChooserProps","elementTemplateCustomProps","connectorDetails","connectorInputOutput","connectorInputOutputParameter","jobConfiguration","candidateStarter","tasklist","externalTaskConfiguration","implementationTypeHelper","isExternalTaskPriorityEnabled","externalBo","isExternalTask","isJobConfigEnabled","getInputOutputParameterLabel","getListenerLabel","PROCESS_KEY_HINT","TASK_KEY_HINT","createGeneralTabGroups","idOptions","processOptions","generalGroup","processIdDescription","customFieldsGroups","detailsGroup","multiInstanceGroup","asyncGroup","jobConfigurationGroup","enabled","externalTaskGroup","candidateStarterGroup","historyTimeToLiveGroup","tasklistGroup","documentationGroup","createVariablesTabGroups","variablesGroup","createFormsTabGroups","formGroup","createListenersTabGroups","listenersGroup","listenerDetailsGroup","listenerFieldsGroup","createInputOutputTabGroups","inputOutputGroup","inputOutputParameterGroup","createConnectorTabGroups","connectorDetailsGroup","connectorInputOutputGroup","connectorInputOutputParameterGroup","createFieldInjectionsTabGroups","fieldGroup","createExtensionElementsGroups","propertiesGroup","ActivitiPropertiesProvider","getTabs","generalTab","variablesTab","formsTab","listenersTab","getLinkEventDefinition","inputOutputTab","connectorTab","fieldInjectionsTab","extensionsTab","createAggregator","keyBy","baseXor","isArrayLikeObject","xor","arrays","arraySome","DataView","Map","Set","objectTag","promiseTag","weakMapTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","resolve","ctorString","copyArray","getTemplateId","TEMPLATE_ATTR","types","reduce","applyTemplate","newTemplateId","oldTemplate","newTemplate","getTemplateOptions","currentTemplateId","emptyOption","allOptions","t","isDefault","defaultOption","isDefaultTemplate","currentOption","unknownTemplate","templateId","elementTemplate","disabled","createHybrid","createRecurry","createCurry","arity","wrapper","fn","baseIsNaN","baseIndexOf","createBaseEach","isList","isMap","typeInfo","validation","nameValue","parameterType","createParameterTypeElem","show","labels","items","newEntry","hashClear","CAMUNDA_SERVICE_TASK_LIKE","ChangeElementTemplateHandler","modeling","commandStack","getOrCreateExtensionElements","updateModelerTemplate","updateIoMappings","oldMappings","newMappings","createInputOutputMappings","updateCamundaField","createCamundaFieldInjections","field","updateCamundaProperties","oldProperties","createCamundaProperties","createBpmnPropertyUpdates","newPropertiesCount","updateInOut","oldInOut","createCamundaInOut","inout","updateExecutionListener","oldExecutionsListeners","newExecutionListeners","createCamundaExecutionListeners","updateScopeElements","scopeDefinition","scopeElement","oldScope","preExecute","propertyUpdates","bindingTarget","injections","inOuts","toFinite","toInteger","remainder","multiInstanceLoopCharacteristics","jobRetryTimeCycle","asyncContinuation","ensureMultiInstanceSupported","defaultParameters","canBeShown","isShown","DESCRIPTORS","global","isForced","inheritIfRequired","f","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","setInternalState","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","RegExpPrototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","flags","sticky","thisIsRegExp","patternIsRegExp","flagsAreUndefined","proxy","configurable","it","createActivitiInOutAttrs","createActivitiExecutionListenerScript","getWrapDetails","insertWrapDetails","updateWrapDetails","setWrapToString","getFailedJobRetryTimeCycle","retryTimeCycles","cycle","arrayAggregator","baseIteratee","initializer","arrayEach","isArr","isArrLike","baseTimes","n","eventDefinitionReference","elementName","newElementIdPrefix","shouldValidate","UpdateBusinessObjectListHandler","previousList","listCopy","parentObject","ModelUtil","elems","getParameters","stackHas","domAttr","updateSelection","TABLE_ROW_DIV_SNIPPET","DELETE_ROW_BUTTON_SNIPPET","createInputRowTemplate","createInputTemplate","columns","createLabelRowTemplate","createLabelTemplate","pick","diff","oldValues","valueEqual","oldValue","allKeys","o","getEntryNode","getContainer","getSelection","selectionStart","end","selectionEnd","setSelection","labelRow","canAdd","canUpdate","boElements","__invalidValues","invalidValues","valuesToValidate","container","deleteElement","rowToDelete","delegateTarget","rowNode","showTable","validateListItem","isReadOnly","activeElement","formHelper","each","generateValueId","formFieldTextField","getSelectedFormField","selectedFormField","formField","ensureFormKeyAndDataSupported","formKey","formFieldsEntry","formData","getFormData","fields","getFormFields","formBusinessKeyFormFieldEntry","formFields","formDataExtension","storedValue","isStartEvent","labelText","showLabel","trim","existingFormField","comboBox","divider","getEnumValues","enumValue","getConstraints","newConstraint","config","constraint","currentConstraint","getFormField","baseFlatten","depth","isStrict","findIndexFunc","iterable","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","MAX_ARRAY_LENGTH","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","webpackPolyfill","deprecate","paths","children","enumerable","l","i","toNumber","INFINITY","MAX_INTEGER","sign","baseIsMatch","baseMatches","matchData","isConditionalSource","conditionExpression","conditionType","conditionLanguage","conditionOrConditionExpression","conditionProps","isExpression","canClear","CONDITIONAL_SOURCES","castPath","baseGet","jobPriorityEntry","jobPriority","assocIndexOf","arrayProto","lastIndex","pop","ACTIVITI_SERVICE_TASK_LIKE","updateActivitiField","createActivitiFieldInjections","updateActivitiProperties","createActivitiProperties","createActivitiInOut","createActivitiExecutionListeners","composeArgs","countHolders","reorder","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_FLIP_FLAG","partialsRight","holdersRight","argPos","ary","isAry","isBind","isBindKey","isFlip","holdersCount","newHolders","reverse","isIndex","arrayLikeKeys","inherited","isArg","isBuff","isType","skipIndexes","String","createBaseFor","linkEventDefinition","eventDefinition","linkEvents","constant","baseIsTypedArray","nodeUtil","nodeIsTypedArray","selectEntryFactory","customValue","customName","isCustomValue","isCustom","comboOptions","showCustomInput","modifiedValues","comboBoxEntry","arrayTag","funcTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","objectCreate","proto","baseToString","hashHas","getListeners","CAMUNDA_EXECUTION_LISTENER_ELEMENT","CAMUNDA_TASK_LISTENER_ELEMENT","executionListenerEntry","taskListenerEntry","listeners","initialEvent","processRef","getDefaultTemplate","registerHandlers","registerHandler","applyDefaultTemplate","shape","connection","command","commandContext","mapCacheClear","mapCacheDelete","mapCacheHas","MapCache","Stack","equalObjects","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","Hash","calculateUpdate","currentSelection","currentValue","currentCursor","newCursor","currentTail","substring","lastIndexOf","createDiff","newStart","newEnd","range","insert","l_str","l_char","s_str","s_char","l_idx","s_idx","charAt","l_start","s_start","complete","l_end","s_end","baseGetAllKeys","keysFunc","symbolsFunc","createExtensionElements","createFailedJobRetryTimeCycle","retryTimeCycleEntry","retryTimeCycle","newCycle","stackClear","stackGet","stackSet","setCacheAdd","propertiesPanel","CamundaPropertiesProvider","getActivitiInOutMappings","getVariableMappings","activitiMappings","mapping","getInOutType","inOutType","ACTIVITI_IN_EXTENSION_ELEMENT","ACTIVITI_OUT_EXTENSION_ELEMENT","WHITESPACE_REGEX","inOutTypeOptions","inEntry","outEntry","variableMappings","mappingValue","mappingType","variablesMappings","sourceLabel","toLowerCase","selectedMapping","HANDLERS","CommandInitializer","handler","escapeText","escaped","encodeURI","ACTIVITI_EXECUTION_LISTENER_ELEMENT","ACTIVITI_TASK_LISTENER_ELEMENT","hasPath","createBind","canBeDisabled","res","isDisabled","isHidden","isStartableInTasklistEntry","isStartableInTasklist","copyObject","isNew","arg","baseFilter","collectionAdd","CategoryHelper","category","eachFunc","asyncTag","genTag","proxyTag","participantHelper","idEntry","getProcessBusinessObject","processId","modifyProcessBusinessObject","processIdError","processNameEntry","noCustomizer","FormHelper","baseMap","freeProcess","process","require","findCamundaProperty","findCamundaInOut","CAMUNDA_EXECUTION_LISTENER_TYPE","camundaProperties","camundaProperty","existingCamundaProperty","newCamundaProperty","defaultValue","versionTagEntry","processBo","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","forced","separator","arrLength","othLength","arrValue","othValue","compared","othIndex","baseSetToString","getContainedActivities","getFlowElements","getContainedBoundaryEvents","flowElements","isCompensationEventAttachedToActivity","activity","boundaryEvents","activityId","boundaryEvent","attachedToRef","canActivityBeCompensated","triggeredByEvent","getActivitiesForCompensation","getActivitiesForActivityRef","activitiesForActivityRef","createActivityRefOptions","activities","waitForCompletion","activityRef","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","saveProcess","saveXML","directives","rawName","_m","$event","deleteProcess","invalidName","domProps","composing","$set","$$selectedVal","val","_value","multiple","changeEngine","_l","_s","_id","createdAt","moment","Number","format","createdName","updatedAt","updatedName","staticRenderFns","processes","created","mounted","service","methods","refresh","$route","sourceId","createdBy","updatedBy","engine","loadBpmn","extension","provider","destroy","customTranslate","additionalModules","moddleExtensions","xml","importXML","scripts","namespace","camunda","activiti","regex","log","modal","JSON","parse","stringify","_etag","stamp","user","response","dom","bb","Blob","setAttribute","URL","createObjectURL","dataset","downloadurl","download","href","draggable","classList","click","component","nativeMin","min","oldArray","validationErrors","getAllKeys","ACTIVITI_FIELD_EXTENSION_ELEMENT","getSelectedField","fieldEntry","getActivitiFields","getActivitiListenerFields","getFieldType","fieldType","expressionValue","stringValue","activitiFields","newFieldElem","selectedField","fieldName","fieldTypeOptions","fieldValue","PLACEHOLDER","WRAP_CURRY_BOUND_FLAG","WRAP_REARG_FLAG","mergeData","srcBitmask","newBitmask","isCombo","FUNC_ERROR_TEXT","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","objProps","objLength","othProps","skipCtor","objCtor","othCtor","MAX_SAFE_INTEGER","baseSetData","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","isBinary","slice","DEFAULT_PRIORITY","priority","propertiesEntry","reWrapDetails","reSplitDetails","hashGet","externalTaskPriorityEntry","taskPriority","defaultButtonAction","defaultButtonShow","buttonLabel","actionName","buttonAction","actionMethod","method","showName","buttonShow","showMethod","documentations","documentation","newObjectList","elementDocuEntry","processDocuEntry","isEventSubProcess","isConditionalStartEvent","reIsUint","CreateAndReferenceElementHandler","referencingObject","newObject","newObjectContainer","newObjectParent","referencedObject","previousReference","shortOut","clone","__chain__","__index__","__values__","getCamundaInOutMappings","camundaMappings","CAMUNDA_IN_EXTENSION_ELEMENT","CAMUNDA_OUT_EXTENSION_ELEMENT","leftIndex","leftLength","symbolToString","createPartial","pairs","domQueryAll","queryAll","domRemove","domDelegate","domMatches","matches","scrollTabs","HIDE_CLASS","DEBOUNCE_DELAY","isToggle","isSelect","isContentEditable","getPropertyPlaceholders","selector","placeholders","getFormControls","all","controls","getFormControlValuesInScope","controlNodes","controlNode","checked","innerText","getFormControlValues","listContainer","listNodes","listNode","valuesEqual","v","extractEntries","tabs","extractGroups","PropertiesPanel","_modeling","_commandStack","_canvas","_propertiesProvider","_init","isImplicitRoot","newSelection","tabBarNode","_container","scroller","selectors","tabsContainer","tab","ignore","active","newActiveNode","oldActiveNode","direction","linkNode","tabId","activateTab","current","_current","detach","_bindListeners","attachTo","jquery","_emit","panelNode","panel","allTabNodes","allTabLinkNodes","tabNode","currentTabId","tabLinkNode","tabLink","needsCreate","newTabs","_entriesChanged","activeTabId","activeTabNode","_create","_updateActivation","oldEntryIds","newEntryIds","handleChange","getEntry","onChangeAction","isEntryDirty","executeAction","applyChanges","updateState","handlePaste","clipboardData","execCommand","preventDefault","handleInput","eventHandlerId","keyCode","stopPropagation","actionId","updateShow","updateDisable","showNodes","showNode","expr","shouldShow","nodes","currentNode","shouldDisable","commandToExecute","applyValidationErrors","valid","errorMessageNode","insertBefore","nextSibling","listEntryNodes","listValue","listEntryNode","setInputValue","contentEditable","setSelectValue","setToggleValue","nodeValue","setTextValue","getContentEditableSelection","focusNode","focusOffset","anchorOffset","contains","setContentEditableSelection","domRange","domSelection","createRange","setStart","setEnd","removeAllRanges","addRange","containerNode","_createPanel","_bindTemplate","inputNodes","isGroupVisible","groupNode","isTabVisible","toggleVisible","visible","checkActiveTabVisibility","isActive","updateLabel","labelNode","tabVisible","groupVisible","listEntryContainer","existingElements","listItemNode","entriesToRemove","j","headerNode","tabLinksNode","tabContainerNode","tabIndex","querySelector","addEventListener","defaultPrevented","cssClass","ACTIVITI_EXECUTION_LISTENER","MultiCommandHandler","EventDefinitionHelper","getEventDefinition","setCacheHas","reWrapComment","details","matcher","isInOut","parameters","ParticipantHelper","selectbox","inputName","UpdateBusinessObjectHandler","getProperties","propertyNames","setProperties","referenceType","extensionsElementHelper","isListener","decisionRef","cls","hasFunc","resolver","memoized","Cache","basePropertyDeep","setData","WRAP_PARTIAL_RIGHT_FLAG","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","newData","textInputField","checkboxField","selectBoxField","comboBoxField","textBoxField","validationAwareTextInputField","tableField","labelEntry","setDefaultParameters","defaultGet","defaultSet","defaultValidate","EntryFactory","chainAll","baseProperty","executableEntry","HOT_COUNT","HOT_SPAN","nativeNow","count","lastCalled","remaining","codeVariable","escalationCodeVariable","reIsDeepProp","reIsPlainProp","findElementById","selectedElement","optionTemplate","CAMUNDA_FIELD_EXTENSION_ELEMENT","getCamundaFields","getCamundaListenerFields","camundaFields","__lastInvalidValue","wrapFlags","pair","sort","mitt","off","emit","scrollSymbolLeft","scrollSymbolRight","ScrollTabs","$el","_createScrollButtons","_bindEvents","__scrollTabs","_createButton","className","button","childNodes","getActiveTabNode","getTabsContainerNode","getAllTabNodes","getVisibleTabs","allTabs","getAdjacentTab","referenceTabNode","visibleTabs","_bindWheelEvent","_bindTabClickEvents","_bindScrollButtonEvents","scrollToTabNode","deltaY","oldActiveTab","newActiveTab","oldActiveTabNode","newActiveTabNode","tabsContainerNode","tabWidth","offsetWidth","tabOffsetLeft","offsetLeft","tabOffsetRight","containerWidth","containerScrollLeft","scrollLeft","overflow","scrollWidth","overflowClass"],"mappings":"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","file":"js/chunk-d8dade0c.7bea95b9.js","sourcesContent":["'use strict';\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    InputOutputHelper = require('../../../helper/InputOutputHelper');\n\nvar utils = require('../../../Utils'),\n    escapeHTML = utils.escapeHTML,\n    triggerClickEvent = utils.triggerClickEvent;\n\nvar implementationType = require('./implementation/ImplementationType'),\n    delegate = require('./implementation/Delegate'),\n    external = require('./implementation/External'),\n    callable = require('./implementation/Callable'),\n    resultVariable = require('./implementation/ResultVariable');\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar domQuery = require('min-dom').query,\n    domClosest = require('min-dom').closest,\n    domClasses = require('min-dom').classes;\n\nfunction getImplementationType(element) {\n  return ImplementationTypeHelper.getImplementationType(element);\n}\n\nfunction getBusinessObject(element) {\n  return ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n}\n\nfunction isDmnCapable(element) {\n  return ImplementationTypeHelper.isDmnCapable(element);\n}\n\nfunction isExternalCapable(element) {\n  return ImplementationTypeHelper.isExternalCapable(element);\n}\n\nfunction isServiceTaskLike(element) {\n  return ImplementationTypeHelper.isServiceTaskLike(element);\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!isServiceTaskLike(getBusinessObject(element))) {\n    return;\n  }\n\n  var hasDmnSupport = isDmnCapable(element);\n  var hasExternalSupport = isExternalCapable(getBusinessObject(element));\n\n  // implementation type ////////////////////////////////////\n\n  group.entries = group.entries.concat(implementationType(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType,\n    hasDmnSupport: hasDmnSupport,\n    hasExternalSupport: hasExternalSupport,\n    hasServiceTaskLikeSupport: true\n  }, translate));\n\n\n  // delegate (class, expression, delegateExpression) //////////\n\n  group.entries = group.entries.concat(delegate(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType\n  }, translate));\n\n\n  // result variable /////////////////////////////////////////\n\n  group.entries = group.entries.concat(resultVariable(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType,\n    hideResultVariable: function(element, node) {\n      return getImplementationType(element) !== 'expression';\n    }\n  }, translate));\n\n  // external //////////////////////////////////////////////////\n\n  if (hasExternalSupport) {\n    group.entries = group.entries.concat(external(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject,\n      getImplementationType: getImplementationType\n    }, translate));\n  }\n\n\n  // dmn ////////////////////////////////////////////////////////\n\n  if (hasDmnSupport) {\n    group.entries = group.entries.concat(callable(element, bpmnFactory, {\n      getCallableType: getImplementationType\n    }, translate));\n  }\n\n\n  // connector ////////////////////////////////////////////////\n\n  var isConnector = function(element) {\n    return getImplementationType(element) === 'connector';\n  };\n\n  group.entries.push(entryFactory.link({\n    id: 'configureConnectorLink',\n    label: translate('Configure Connector'),\n    handleClick: function(element, node, event) {\n\n      var connectorTabEl = getTabNode(node, 'connector');\n\n      if (connectorTabEl) {\n        triggerClickEvent(connectorTabEl);\n      }\n\n      // suppress actual link click\n      return false;\n    },\n    showLink: function(element, node) {\n      var link = domQuery('a', node);\n      link.textContent = '';\n\n      domClasses(link).remove('bpp-error-message');\n\n      if (isConnector(element)) {\n        var connectorId = InputOutputHelper.getConnector(element).get('connectorId');\n        if (connectorId) {\n          link.textContent = translate('Configure Connector');\n        } else {\n          link.innerHTML = '<span class=\"bpp-icon-warning\"></span> ' + escapeHTML(translate('Must configure Connector'));\n          domClasses(link).add('bpp-error-message');\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }));\n\n};\n\n\n\n// helpers ///////////////////////////\n\nfunction getTabNode(el, id) {\n  var containerEl = domClosest(el, '.bpp-properties-panel');\n\n  return domQuery('a[data-tab-target=\"' + id + '\"]', containerEl);\n}","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar find = require('min-dash').find;\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../helper/CmdHelper'),\n    ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    scriptImplementation = require('./implementation/Script'),\n    timerImplementation = require('../../bpmn/parts/implementation/TimerEventDefinition');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  var LISTENER_TYPE_LABEL = {\n    class: translate('Java Class'),\n    expression: translate('Expression'),\n    delegateExpression: translate('Delegate Expression'),\n    script: translate('Script')\n  };\n\n  options = options || {};\n\n  var getSelectedListener = options.getSelectedListener;\n\n  var classProp = 'class',\n      expressionProp = 'expression',\n      delegateExpressionProp = 'delegateExpression',\n      scriptProp = 'script';\n\n  var executionListenerEventTypeOptions = ImplementationTypeHelper.isSequenceFlow(element) ? [\n    { name: translate('take'), value: 'take' }\n  ] : [\n    { name: translate('start'), value: 'start' },\n    { name: translate('end'), value: 'end' }\n  ];\n\n  var taskListenerEventTypeOptions = [\n    { name: translate('create'), value: 'create' },\n    { name: translate('assignment'), value: 'assignment' },\n    { name: translate('complete'), value: 'complete' },\n    { name: translate('delete'), value: 'delete' },\n    { name: translate('update'), value: 'update' },\n    { name: translate('timeout'), value: 'timeout' }\n  ];\n\n  var isSelected = function(element, node) {\n    return getSelectedListener(element, node);\n  };\n\n\n  // eventType ////////////////\n  group.entries.push(entryFactory.selectBox({\n    id: 'listener-event-type',\n    label: translate('Event Type'),\n    modelProperty: 'eventType',\n    emptyParameter: false,\n\n    get: function(element, node) {\n\n      var listener = getSelectedListener(element, node);\n\n      var eventType = listener && listener.get('event');\n\n      return {\n        eventType: eventType\n      };\n    },\n\n    set: function(element, values, node) {\n      var eventType = values.eventType,\n          listener = getSelectedListener(element, node),\n          eventDefinitions = listener && listener.eventDefinitions;\n\n      // ensure only timeout events can have timer event definitions\n      if (eventDefinitions && eventType !== 'timeout') {\n        eventDefinitions = [];\n      }\n\n      return cmdHelper.updateBusinessObject(element, listener,\n        {\n          event: eventType,\n          eventDefinitions: eventDefinitions\n        }\n      );\n    },\n\n    selectOptions: function(element, node) {\n      var eventTypeOptions;\n\n      var selectedListener = getSelectedListener(element, node);\n      if (ImplementationTypeHelper.isTaskListener(selectedListener)) {\n        eventTypeOptions = taskListenerEventTypeOptions;\n      } else if (ImplementationTypeHelper.isExecutionListener(selectedListener)) {\n        eventTypeOptions = executionListenerEventTypeOptions;\n      }\n\n      return eventTypeOptions;\n\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  // listenerId ///////////////\n  group.entries.push(entryFactory.textField({\n    id: 'listener-id',\n    label: translate('Listener Id'),\n    modelProperty: 'listenerId',\n\n    get: function(element, node) {\n      var value = {},\n          listener = getSelectedListener(element, node);\n\n      value.listenerId = (listener && listener.get('id')) || undefined;\n\n      return value;\n    },\n\n    set: function(element, values, node) {\n      var update = {},\n          listener = getSelectedListener(element, node);\n\n      update['id'] = values.listenerId || '';\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      var listener = getSelectedListener(element, node);\n\n      return !ImplementationTypeHelper.isTaskListener(listener);\n    },\n\n    validate: function(element, values, node) {\n      var value = values.listenerId,\n          listener = getSelectedListener(element, node),\n          validate = {};\n\n      if (!value && isTimeoutTaskListener(listener)) {\n        validate.listenerId = translate('Must provide a value for timeout task listener');\n      }\n\n      return validate;\n    }\n\n  }));\n\n\n  // listenerType ///////////////\n  group.entries.push(entryFactory.selectBox({\n    id: 'listener-type',\n    label: translate('Listener Type'),\n    selectOptions: [\n      { value: classProp, name: translate('Java Class') },\n      { value: expressionProp, name: translate('Expression') },\n      { value: delegateExpressionProp, name: translate('Delegate Expression') },\n      { value: scriptProp, name: translate('Script') }\n    ],\n    modelProperty: 'listenerType',\n    emptyParameter: false,\n\n    get: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return {\n        listenerType: ImplementationTypeHelper.getImplementationType(listener)\n      };\n    },\n\n    set: function(element, values, node) {\n      var listener = getSelectedListener(element, node),\n          listenerType = values.listenerType || undefined,\n          update = {};\n\n      update[classProp] = listenerType === classProp ? '' : undefined;\n      update[expressionProp] = listenerType === expressionProp ? '' : undefined;\n      update[delegateExpressionProp] = listenerType === delegateExpressionProp ? '' : undefined;\n      update[scriptProp] = listenerType === scriptProp ? bpmnFactory.create('camunda:Script') : undefined;\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  // listenerValue //////////////\n  group.entries.push(entryFactory.textField({\n    id: 'listener-value',\n    dataValueLabel: 'listenerValueLabel',\n    modelProperty: 'listenerValue',\n\n    get: function(element, node) {\n      var value = {},\n          listener = getSelectedListener(element, node),\n          listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      value.listenerValueLabel = LISTENER_TYPE_LABEL[listenerType] || '';\n      value.listenerValue = (listener && listener.get(listenerType)) || undefined;\n\n      return value;\n    },\n\n    set: function(element, values, node) {\n      var update = {},\n          listener = getSelectedListener(element, node),\n          listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      update[listenerType] = values.listenerValue || '';\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return !listener || listener.script;\n    },\n\n    validate: function(element, values) {\n      var value = values.listenerValue,\n          validate = {};\n\n      if (!value) {\n        validate.listenerValue = translate('Must provide a value');\n      }\n\n      return validate;\n    }\n\n  }));\n\n\n  // script ////////////////////\n  var script = scriptImplementation('scriptFormat', 'value', true, translate);\n\n  group.entries.push({\n    id: 'listener-script-value',\n    html: '<div data-show=\"isScript\">' +\n            script.template +\n          '</div>',\n\n    get: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script ? script.get(element, listener.script) : {};\n    },\n\n    set: function(element, values, node) {\n      var listener = getSelectedListener(element, node);\n      var update = script.set(element, values, listener);\n      return cmdHelper.updateBusinessObject(element, listener.script, update);\n    },\n\n    validate: function(element, values, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script ? script.validate(element, values) : {};\n    },\n\n    isScript: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script;\n    },\n\n    script: script\n\n  });\n\n\n  // timerEventDefinition //////\n  var timerEventDefinitionHandler = function(element, node) {\n    var listener = getSelectedListener(element, node);\n\n    if (!listener || !isTimeoutTaskListener(listener)) {\n      return;\n    }\n\n    var timerEventDefinition = getTimerEventDefinition(listener);\n\n    if (!timerEventDefinition) {\n      return false;\n    }\n\n    return timerEventDefinition;\n  };\n\n  function createTimerEventDefinition(element, node) {\n\n    var listener = getSelectedListener(element, node);\n\n    if (!listener || !isTimeoutTaskListener(listener)) {\n      return;\n    }\n\n    var eventDefinitions = listener.get('eventDefinitions') || [],\n        timerEventDefinition = bpmnFactory.create('bpmn:TimerEventDefinition');\n\n    eventDefinitions.push(timerEventDefinition);\n\n    listener.eventDefinitions = eventDefinitions;\n\n    return timerEventDefinition;\n  }\n\n  var timerOptions = {\n    idPrefix: 'listener-',\n    createTimerEventDefinition: createTimerEventDefinition\n  };\n\n  timerImplementation(group, element, bpmnFactory, timerEventDefinitionHandler, translate, timerOptions);\n\n};\n\n\n// helpers //////////////\n\nfunction isTimeoutTaskListener(listener) {\n  var eventType = listener && listener.event;\n  return eventType === 'timeout';\n}\n\nfunction getTimerEventDefinition(bo) {\n  var eventDefinitions = bo.eventDefinitions || [];\n\n  return find(eventDefinitions, function(event) {\n    return is(event, 'bpmn:TimerEventDefinition');\n  });\n\n}\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar callable = require('./implementation/Callable');\n\nvar cmdHelper = require('../../../helper/CmdHelper');\n\nvar flattenDeep = require('lodash/flattenDeep');\nvar assign = require('lodash/assign');\n\nfunction getCallableType(element) {\n  var bo = getBusinessObject(element);\n\n  var boCalledElement = bo.get('calledElement'),\n      boCaseRef = bo.get('camunda:caseRef');\n\n  var callActivityType = '';\n  if (typeof boCalledElement !== 'undefined') {\n    callActivityType = 'bpmn';\n  } else\n\n  if (typeof boCaseRef !== 'undefined') {\n    callActivityType = 'cmmn';\n  }\n\n  return callActivityType;\n}\n\nvar DEFAULT_PROPS = {\n  calledElement: undefined,\n  'camunda:calledElementBinding': 'latest',\n  'camunda:calledElementVersion': undefined,\n  'camunda:calledElementTenantId': undefined,\n  'camunda:variableMappingClass' : undefined,\n  'camunda:variableMappingDelegateExpression' : undefined,\n  'camunda:caseRef': undefined,\n  'camunda:caseBinding': 'latest',\n  'camunda:caseVersion': undefined,\n  'camunda:caseTenantId': undefined\n};\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!is(element, 'camunda:CallActivity')) {\n    return;\n  }\n\n  group.entries.push(entryFactory.selectBox({\n    id : 'callActivity',\n    label: translate('CallActivity Type'),\n    selectOptions: [\n      { name: 'BPMN', value: 'bpmn' },\n      { name: 'CMMN', value: 'cmmn' }\n    ],\n    emptyParameter: true,\n    modelProperty: 'callActivityType',\n\n    get: function(element, node) {\n      return {\n        callActivityType: getCallableType(element)\n      };\n    },\n\n    set: function(element, values, node) {\n      var type = values.callActivityType;\n\n      var props = assign({}, DEFAULT_PROPS);\n\n      if (type === 'bpmn') {\n        props.calledElement = '';\n      }\n      else if (type === 'cmmn') {\n        props['camunda:caseRef'] = '';\n      }\n\n      return cmdHelper.updateProperties(element, props);\n    }\n\n  }));\n\n  group.entries.push(callable(element, bpmnFactory, {\n    getCallableType: getCallableType\n  }, translate));\n\n  group.entries = flattenDeep(group.entries);\n};\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","module.exports = {\n  __depends__: [\n    require('./element-templates'),\n    require('diagram-js/lib/i18n/translate').default\n  ],\n  __init__: [ 'propertiesProvider' ],\n  propertiesProvider: [ 'type', require('./CamundaPropertiesProvider') ]\n};\n","'use strict';\n\nvar inputOutput = require('./implementation/InputOutput');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var inputOutputEntry = inputOutput(element, bpmnFactory, {\n    idPrefix: 'connector-',\n    insideConnector: true\n  }, translate);\n\n  group.entries = group.entries.concat(inputOutputEntry.entries);\n\n  return {\n    getSelectedParameter: inputOutputEntry.getSelectedParameter\n  };\n\n};\n","'use strict';\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    InputOutputHelper = require('../../../helper/InputOutputHelper');\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nfunction getImplementationType(element) {\n  return ImplementationTypeHelper.getImplementationType(element);\n}\n\nfunction getBusinessObject(element) {\n  return ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n}\n\nfunction getConnector(bo) {\n  return InputOutputHelper.getConnector(bo);\n}\n\nfunction isConnector(element) {\n  return getImplementationType(element) === 'connector';\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  group.entries.push(entryFactory.textField({\n    id: 'connectorId',\n    label: translate('Connector Id'),\n    modelProperty: 'connectorId',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var connector = bo && getConnector(bo);\n      var value = connector && connector.get('connectorId');\n      return { connectorId: value };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var connector = getConnector(bo);\n      return cmdHelper.updateBusinessObject(element, connector, {\n        connectorId: values.connectorId || undefined\n      });\n    },\n\n    validate: function(element, values, node) {\n      return isConnector(element) && !values.connectorId ? { connectorId: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isConnector(element);\n    }\n\n  }));\n\n};\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar factory = require('../../../../factory/EntryFactory');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils');\n\nvar assign = require('lodash/assign'),\n    forEach = require('lodash/forEach'),\n    find = require('lodash/find');\n\nfunction generatePropertyId() {\n  return utils.nextId('Property_');\n}\n\n/**\n * Get all camunda:property objects for a specific business object\n *\n * @param  {ModdleElement} parent\n *\n * @return {Array<ModdleElement>} a list of camunda:property objects\n */\nfunction getPropertyValues(parent) {\n  var properties = parent && getPropertiesElement(parent);\n  if (properties && properties.values) {\n    return properties.values;\n  }\n  return [];\n}\n\n/**\n * Get all camunda:Properties object for a specific business object\n *\n * @param  {ModdleElement} parent\n *\n * @return {ModdleElement} a camunda:Properties object\n */\nfunction getPropertiesElement(element) {\n  if (!isExtensionElements(element)) {\n    return element.properties;\n  } else {\n    return getPropertiesElementInsideExtensionElements(element);\n  }\n}\n\n/**\n * Get first camunda:Properties object for a specific bpmn:ExtensionElements\n * business object.\n *\n * @param {ModdleElement} extensionElements\n *\n * @return {ModdleElement} a camunda:Properties object\n */\nfunction getPropertiesElementInsideExtensionElements(extensionElements) {\n  return find(extensionElements.values, function(elem) {\n    return is(elem, 'camunda:Properties');\n  });\n}\n\n/**\n * Returns true, if the given business object is a bpmn:ExtensionElements.\n *\n * @param {ModdleElement} element\n *\n * @return {boolean} a boolean value\n */\nfunction isExtensionElements(element) {\n  return is(element, 'bpmn:ExtensionElements');\n}\n\n/**\n * Create a camunda:property entry using tableEntryFactory\n *\n * @param  {djs.model.Base} element\n * @param  {BpmnFactory} bpmnFactory\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {Array<string>} options.modelProperties\n * @param  {Array<string>} options.labels\n * @param  {function} options.getParent Gets the parent business object\n * @param  {function} options.show Indicate when the entry will be shown, should return boolean\n */\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getParent = options.getParent;\n\n  var modelProperties = options.modelProperties,\n      createParent = options.createParent;\n\n  var bo = getBusinessObject(element);\n  if (is(element, 'bpmn:Participant')) {\n    bo = bo.get('processRef');\n  }\n\n  // build properties group only when the participant have a processRef\n  if (!bo) {\n    return;\n  }\n\n  assign(options, {\n    addLabel: translate('Add Property'),\n    getElements: function(element, node) {\n      var parent = getParent(element, node, bo);\n      return getPropertyValues(parent);\n    },\n    addElement: function(element, node) {\n      var commands = [],\n          parent = getParent(element, node, bo);\n\n      if (!parent && typeof createParent === 'function') {\n        var result = createParent(element, bo);\n        parent = result.parent;\n        commands.push(result.cmd);\n      }\n\n      var properties = getPropertiesElement(parent);\n      if (!properties) {\n        properties = elementHelper.createElement('camunda:Properties', {}, parent, bpmnFactory);\n\n        if (!isExtensionElements(parent)) {\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { 'properties': properties }));\n        } else {\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\n            element,\n            parent,\n            'values',\n            'extensionElements',\n            [ properties ],\n            []\n          ));\n        }\n      }\n\n      var propertyProps = {};\n      forEach(modelProperties, function(prop) {\n        propertyProps[prop] = undefined;\n      });\n\n      // create id if necessary\n      if (modelProperties.indexOf('id') >= 0) {\n        propertyProps.id = generatePropertyId();\n      }\n\n      var property = elementHelper.createElement('camunda:Property', propertyProps, properties, bpmnFactory);\n      commands.push(cmdHelper.addElementsTolist(element, properties, 'values', [ property ]));\n\n      return commands;\n    },\n    updateElement: function(element, value, node, idx) {\n      var parent = getParent(element, node, bo),\n          property = getPropertyValues(parent)[idx];\n\n      forEach(modelProperties, function(prop) {\n        value[prop] = value[prop] || undefined;\n      });\n\n      return cmdHelper.updateBusinessObject(element, property, value);\n    },\n    validate: function(element, value, node, idx) {\n      // validate id if necessary\n      if (modelProperties.indexOf('id') >= 0) {\n\n        var parent = getParent(element, node, bo),\n            properties = getPropertyValues(parent),\n            property = properties[idx];\n\n        if (property) {\n          // check if id is valid\n          var validationError = utils.isIdValid(property, value.id, translate);\n\n          if (validationError) {\n            return { id: validationError };\n          }\n        }\n      }\n    },\n    removeElement: function(element, node, idx) {\n      var commands = [],\n          parent = getParent(element, node, bo),\n          properties = getPropertiesElement(parent),\n          propertyValues = getPropertyValues(parent),\n          currentProperty = propertyValues[idx];\n\n      commands.push(cmdHelper.removeElementsFromList(element, properties, 'values', null, [ currentProperty ]));\n\n      if (propertyValues.length === 1) {\n        // remove camunda:properties if the last existing property has been removed\n        if (!isExtensionElements(parent)) {\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { properties: undefined }));\n        } else {\n          forEach(parent.values, function(value) {\n            if (is(value, 'camunda:Properties')) {\n              commands.push(extensionElementsHelper.removeEntry(bo, element, value));\n            }\n          });\n        }\n      }\n\n      return commands;\n    }\n  });\n\n  return factory.table(options);\n};\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar DELEGATE_TYPES = [\n  'class',\n  'expression',\n  'delegateExpression'\n];\n\nvar PROPERTIES = {\n  class: 'activiti:class',\n  expression: 'activiti:expression',\n  delegateExpression: 'activiti:delegateExpression'\n};\n\nfunction isDelegate(type) {\n  return DELEGATE_TYPES.indexOf(type) !== -1;\n}\n\nfunction getAttribute(type) {\n  return PROPERTIES[type];\n}\n\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getImplementationType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  function getDelegationLabel(type) {\n    switch (type) {\n    case 'class':\n      return translate('Java Class');\n    case 'expression':\n      return translate('Expression');\n    case 'delegateExpression':\n      return translate('Delegate Expression');\n    default:\n      return '';\n    }\n  }\n\n  var delegateEntry = entryFactory.textField({\n    id: 'delegate',\n    label: translate('Value'),\n    dataValueLabel: 'delegationLabel',\n    modelProperty: 'delegate',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var type = getImplementationType(element);\n      var attr = getAttribute(type);\n      var label = getDelegationLabel(type);\n      return {\n        delegate: bo.get(attr),\n        delegationLabel: label\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var type = getImplementationType(element);\n      var attr = getAttribute(type);\n      var prop = {};\n      prop[attr] = values.delegate || '';\n      return cmdHelper.updateBusinessObject(element, bo, prop);\n    },\n\n    validate: function(element, values, node) {\n      return isDelegate(getImplementationType(element)) && !values.delegate ? { delegate: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isDelegate(getImplementationType(element));\n    }\n\n  });\n\n  return [ delegateEntry ];\n\n};\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","'use strict';\n\nvar assign = require('lodash/assign');\n\n/**\n * Create an input parameter representing the given\n * binding and value.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createInputParameter(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('camunda:Script', {\n      scriptFormat: scriptFormat,\n      value: value\n    });\n  } else {\n    parameterValue = value;\n  }\n\n  return bpmnFactory.create('camunda:InputParameter', {\n    name: binding.name,\n    value: parameterValue,\n    definition: parameterDefinition\n  });\n}\n\nmodule.exports.createInputParameter = createInputParameter;\n\n\n/**\n * Create an output parameter representing the given\n * binding and value.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createOutputParameter(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('camunda:Script', {\n      scriptFormat: scriptFormat,\n      value: binding.source\n    });\n  } else {\n    parameterValue = binding.source;\n  }\n\n  return bpmnFactory.create('camunda:OutputParameter', {\n    name: value,\n    value: parameterValue,\n    definition: parameterDefinition\n  });\n}\n\nmodule.exports.createOutputParameter = createOutputParameter;\n\n\n/**\n * Create camunda property from the given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaProperty(binding, value, bpmnFactory) {\n  return bpmnFactory.create('camunda:Property', {\n    name: binding.name,\n    value: value || ''\n  });\n}\n\nmodule.exports.createCamundaProperty = createCamundaProperty;\n\n\n/**\n * Create camunda:in element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaIn(binding, value, bpmnFactory) {\n\n  var properties = createCamundaInOutAttrs(binding, value);\n\n  return bpmnFactory.create('camunda:In', properties);\n}\n\nmodule.exports.createCamundaIn = createCamundaIn;\n\n\n/**\n * Create camunda:in with businessKey element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaInWithBusinessKey(binding, value, bpmnFactory) {\n  return bpmnFactory.create('camunda:In', {\n    businessKey: value\n  });\n}\n\nmodule.exports.createCamundaInWithBusinessKey = createCamundaInWithBusinessKey;\n\n\n/**\n * Create camunda:out element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaOut(binding, value, bpmnFactory) {\n  var properties = createCamundaInOutAttrs(binding, value);\n\n  return bpmnFactory.create('camunda:Out', properties);\n}\n\nmodule.exports.createCamundaOut = createCamundaOut;\n\n\n/**\n * Create camunda:executionListener element containing an inline script from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaExecutionListenerScript(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('camunda:Script', {\n      scriptFormat: scriptFormat,\n      value: value\n    });\n  } else {\n    parameterValue = value;\n  }\n\n  return bpmnFactory.create('camunda:ExecutionListener', {\n    event: binding.event,\n    value: parameterValue,\n    script: parameterDefinition\n  });\n}\n\nmodule.exports.createCamundaExecutionListenerScript = createCamundaExecutionListenerScript;\n\n/**\n * Create camunda:field element containing string or expression from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createCamundaFieldInjection(binding, value, bpmnFactory) {\n  var DEFAULT_PROPS = {\n    'string': undefined,\n    'expression': undefined,\n    'name': undefined\n  };\n\n  var props = assign({}, DEFAULT_PROPS);\n\n  if (!binding.expression) {\n    props.string = value;\n  } else {\n    props.expression = value;\n  }\n  props.name = binding.name;\n\n  return bpmnFactory.create('camunda:Field', props);\n}\nmodule.exports.createCamundaFieldInjection = createCamundaFieldInjection;\n\n\n// helpers ////////////////////////////\n\n/**\n * Create properties for camunda:in and camunda:out types.\n */\nfunction createCamundaInOutAttrs(binding, value) {\n\n  var properties = {};\n\n  // camunda:in source(Expression) target\n  if (binding.target) {\n\n    properties.target = binding.target;\n\n    if (binding.expression) {\n      properties.sourceExpression = value;\n    } else {\n      properties.source = value;\n    }\n  } else\n\n  // camunda:(in|out) variables local\n  if (binding.variables) {\n    properties.variables = 'all';\n\n    if (binding.variables === 'local') {\n      properties.local = true;\n    }\n  }\n\n  // camunda:out source(Expression) target\n  else {\n    properties.target = value;\n\n    [ 'source', 'sourceExpression' ].forEach(function(k) {\n      if (binding[k]) {\n        properties[k] = binding[k];\n      }\n    });\n  }\n\n  return properties;\n}\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar find = require('min-dash').find;\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../helper/CmdHelper'),\n    ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    scriptImplementation = require('./implementation/Script'),\n    timerImplementation = require('../../bpmn/parts/implementation/TimerEventDefinition');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  var LISTENER_TYPE_LABEL = {\n    class: translate('Java Class'),\n    expression: translate('Expression'),\n    delegateExpression: translate('Delegate Expression'),\n    script: translate('Script')\n  };\n\n  options = options || {};\n\n  var getSelectedListener = options.getSelectedListener;\n\n  var classProp = 'class',\n      expressionProp = 'expression',\n      delegateExpressionProp = 'delegateExpression',\n      scriptProp = 'script';\n\n  var executionListenerEventTypeOptions = ImplementationTypeHelper.isSequenceFlow(element) ? [\n    { name: translate('take'), value: 'take' }\n  ] : [\n    { name: translate('start'), value: 'start' },\n    { name: translate('end'), value: 'end' }\n  ];\n\n  var taskListenerEventTypeOptions = [\n    { name: translate('create'), value: 'create' },\n    { name: translate('assignment'), value: 'assignment' },\n    { name: translate('complete'), value: 'complete' },\n    { name: translate('delete'), value: 'delete' },\n    { name: translate('update'), value: 'update' },\n    { name: translate('timeout'), value: 'timeout' }\n  ];\n\n  var isSelected = function(element, node) {\n    return getSelectedListener(element, node);\n  };\n\n\n  // eventType ////////////////\n  group.entries.push(entryFactory.selectBox({\n    id: 'listener-event-type',\n    label: translate('Event Type'),\n    modelProperty: 'eventType',\n    emptyParameter: false,\n\n    get: function(element, node) {\n\n      var listener = getSelectedListener(element, node);\n\n      var eventType = listener && listener.get('event');\n\n      return {\n        eventType: eventType\n      };\n    },\n\n    set: function(element, values, node) {\n      var eventType = values.eventType,\n          listener = getSelectedListener(element, node),\n          eventDefinitions = listener && listener.eventDefinitions;\n\n      // ensure only timeout events can have timer event definitions\n      if (eventDefinitions && eventType !== 'timeout') {\n        eventDefinitions = [];\n      }\n\n      return cmdHelper.updateBusinessObject(element, listener,\n        {\n          event: eventType,\n          eventDefinitions: eventDefinitions\n        }\n      );\n    },\n\n    selectOptions: function(element, node) {\n      var eventTypeOptions;\n\n      var selectedListener = getSelectedListener(element, node);\n      if (ImplementationTypeHelper.isTaskListener(selectedListener)) {\n        eventTypeOptions = taskListenerEventTypeOptions;\n      } else if (ImplementationTypeHelper.isExecutionListener(selectedListener)) {\n        eventTypeOptions = executionListenerEventTypeOptions;\n      }\n\n      return eventTypeOptions;\n\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  // listenerId ///////////////\n  group.entries.push(entryFactory.textField({\n    id: 'listener-id',\n    label: translate('Listener Id'),\n    modelProperty: 'listenerId',\n\n    get: function(element, node) {\n      var value = {},\n          listener = getSelectedListener(element, node);\n\n      value.listenerId = (listener && listener.get('id')) || undefined;\n\n      return value;\n    },\n\n    set: function(element, values, node) {\n      var update = {},\n          listener = getSelectedListener(element, node);\n\n      update['id'] = values.listenerId || '';\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      var listener = getSelectedListener(element, node);\n\n      return !ImplementationTypeHelper.isTaskListener(listener);\n    },\n\n    validate: function(element, values, node) {\n      var value = values.listenerId,\n          listener = getSelectedListener(element, node),\n          validate = {};\n\n      if (!value && isTimeoutTaskListener(listener)) {\n        validate.listenerId = translate('Must provide a value for timeout task listener');\n      }\n\n      return validate;\n    }\n\n  }));\n\n\n  // listenerType ///////////////\n  group.entries.push(entryFactory.selectBox({\n    id: 'listener-type',\n    label: translate('Listener Type'),\n    selectOptions: [\n      { value: classProp, name: translate('Java Class') },\n      { value: expressionProp, name: translate('Expression') },\n      { value: delegateExpressionProp, name: translate('Delegate Expression') },\n      { value: scriptProp, name: translate('Script') }\n    ],\n    modelProperty: 'listenerType',\n    emptyParameter: false,\n\n    get: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return {\n        listenerType: ImplementationTypeHelper.getImplementationType(listener)\n      };\n    },\n\n    set: function(element, values, node) {\n      var listener = getSelectedListener(element, node),\n          listenerType = values.listenerType || undefined,\n          update = {};\n\n      update[classProp] = listenerType === classProp ? '' : undefined;\n      update[expressionProp] = listenerType === expressionProp ? '' : undefined;\n      update[delegateExpressionProp] = listenerType === delegateExpressionProp ? '' : undefined;\n      update[scriptProp] = listenerType === scriptProp ? bpmnFactory.create('activiti:Script') : undefined;\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  // listenerValue //////////////\n  group.entries.push(entryFactory.textField({\n    id: 'listener-value',\n    dataValueLabel: 'listenerValueLabel',\n    modelProperty: 'listenerValue',\n\n    get: function(element, node) {\n      var value = {},\n          listener = getSelectedListener(element, node),\n          listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      value.listenerValueLabel = LISTENER_TYPE_LABEL[listenerType] || '';\n      value.listenerValue = (listener && listener.get(listenerType)) || undefined;\n\n      return value;\n    },\n\n    set: function(element, values, node) {\n      var update = {},\n          listener = getSelectedListener(element, node),\n          listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      update[listenerType] = values.listenerValue || '';\n\n      return cmdHelper.updateBusinessObject(element, listener, update);\n    },\n\n    hidden: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return !listener || listener.script;\n    },\n\n    validate: function(element, values) {\n      var value = values.listenerValue,\n          validate = {};\n\n      if (!value) {\n        validate.listenerValue = translate('Must provide a value');\n      }\n\n      return validate;\n    }\n\n  }));\n\n\n  // script ////////////////////\n  var script = scriptImplementation('scriptFormat', 'value', true, translate);\n\n  group.entries.push({\n    id: 'listener-script-value',\n    html: '<div data-show=\"isScript\">' +\n            script.template +\n          '</div>',\n\n    get: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script ? script.get(element, listener.script) : {};\n    },\n\n    set: function(element, values, node) {\n      var listener = getSelectedListener(element, node);\n      var update = script.set(element, values, listener);\n      return cmdHelper.updateBusinessObject(element, listener.script, update);\n    },\n\n    validate: function(element, values, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script ? script.validate(element, values) : {};\n    },\n\n    isScript: function(element, node) {\n      var listener = getSelectedListener(element, node);\n      return listener && listener.script;\n    },\n\n    script: script\n\n  });\n\n\n  // timerEventDefinition //////\n  var timerEventDefinitionHandler = function(element, node) {\n    var listener = getSelectedListener(element, node);\n\n    if (!listener || !isTimeoutTaskListener(listener)) {\n      return;\n    }\n\n    var timerEventDefinition = getTimerEventDefinition(listener);\n\n    if (!timerEventDefinition) {\n      return false;\n    }\n\n    return timerEventDefinition;\n  };\n\n  function createTimerEventDefinition(element, node) {\n\n    var listener = getSelectedListener(element, node);\n\n    if (!listener || !isTimeoutTaskListener(listener)) {\n      return;\n    }\n\n    var eventDefinitions = listener.get('eventDefinitions') || [],\n        timerEventDefinition = bpmnFactory.create('bpmn:TimerEventDefinition');\n\n    eventDefinitions.push(timerEventDefinition);\n\n    listener.eventDefinitions = eventDefinitions;\n\n    return timerEventDefinition;\n  }\n\n  var timerOptions = {\n    idPrefix: 'listener-',\n    createTimerEventDefinition: createTimerEventDefinition\n  };\n\n  timerImplementation(group, element, bpmnFactory, timerEventDefinitionHandler, translate, timerOptions);\n\n};\n\n\n// helpers //////////////\n\nfunction isTimeoutTaskListener(listener) {\n  var eventType = listener && listener.event;\n  return eventType === 'timeout';\n}\n\nfunction getTimerEventDefinition(bo) {\n  var eventDefinitions = bo.eventDefinitions || [];\n\n  return find(eventDefinitions, function(event) {\n    return is(event, 'bpmn:TimerEventDefinition');\n  });\n\n}\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","'use strict';\n\nvar inputOutput = require('./implementation/InputOutput');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var inputOutputEntry = inputOutput(element, bpmnFactory, {\n    idPrefix: 'connector-',\n    insideConnector: true\n  }, translate);\n\n  group.entries = group.entries.concat(inputOutputEntry.entries);\n\n  return {\n    getSelectedParameter: inputOutputEntry.getSelectedParameter\n  };\n\n};\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper');\n\nvar forEach = require('lodash/forEach');\n\nvar message = require('./implementation/MessageEventDefinition'),\n    signal = require('./implementation/SignalEventDefinition'),\n    error = require('./implementation/ErrorEventDefinition'),\n    escalation = require('./implementation/EscalationEventDefinition'),\n    timer = require('./implementation/TimerEventDefinition'),\n    compensation = require('./implementation/CompensateEventDefinition'),\n    condition = require('./implementation/ConditionalEventDefinition');\n\n\nmodule.exports = function(group, element, bpmnFactory, elementRegistry, translate) {\n  var events = [\n    'bpmn:StartEvent',\n    'bpmn:EndEvent',\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:IntermediateCatchEvent'\n  ];\n\n  // Message and Signal Event Definition\n  forEach(events, function(event) {\n    if (is(element, event)) {\n\n      var messageEventDefinition = eventDefinitionHelper.getMessageEventDefinition(element),\n          signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(element);\n\n      if (messageEventDefinition) {\n        message(group, element, bpmnFactory, messageEventDefinition, translate);\n      }\n\n      if (signalEventDefinition) {\n        signal(group, element, bpmnFactory, signalEventDefinition, translate);\n      }\n\n    }\n  });\n\n  // Special Case: Receive Task\n  if (is(element, 'bpmn:ReceiveTask')) {\n    message(group, element, bpmnFactory, getBusinessObject(element), translate);\n  }\n\n  // Error Event Definition\n  var errorEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:EndEvent'\n  ];\n\n  forEach(errorEvents, function(event) {\n    if (is(element, event)) {\n\n      var errorEventDefinition = eventDefinitionHelper.getErrorEventDefinition(element);\n\n      if (errorEventDefinition) {\n\n        error(group, element, bpmnFactory, errorEventDefinition, translate);\n      }\n    }\n  });\n\n  // Escalation Event Definition\n  var escalationEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:EndEvent'\n  ];\n\n  forEach(escalationEvents, function(event) {\n    if (is(element, event)) {\n\n      var showEscalationCodeVariable = is(element, 'bpmn:StartEvent') || is(element, 'bpmn:BoundaryEvent');\n\n      // get business object\n      var escalationEventDefinition = eventDefinitionHelper.getEscalationEventDefinition(element);\n\n      if (escalationEventDefinition) {\n        escalation(group, element, bpmnFactory, escalationEventDefinition, showEscalationCodeVariable,\n          translate);\n      }\n    }\n\n  });\n\n  // Timer Event Definition\n  var timerEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:IntermediateCatchEvent'\n  ];\n\n  forEach(timerEvents, function(event) {\n    if (is(element, event)) {\n\n      // get business object\n      var timerEventDefinition = eventDefinitionHelper.getTimerEventDefinition(element);\n\n      if (timerEventDefinition) {\n        timer(group, element, bpmnFactory, timerEventDefinition, translate);\n      }\n    }\n  });\n\n  // Compensate Event Definition\n  var compensationEvents = [\n    'bpmn:EndEvent',\n    'bpmn:IntermediateThrowEvent'\n  ];\n\n  forEach(compensationEvents, function(event) {\n    if (is(element, event)) {\n\n      // get business object\n      var compensateEventDefinition = eventDefinitionHelper.getCompensateEventDefinition(element);\n\n      if (compensateEventDefinition) {\n        compensation(group, element, bpmnFactory, compensateEventDefinition, elementRegistry, translate);\n      }\n    }\n  });\n\n\n  // Conditional Event Definition\n  var conditionalEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:IntermediateCatchEvent'\n  ];\n\n  if (isAny(element, conditionalEvents)) {\n\n    // get business object\n    var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\n\n    if (conditionalEventDefinition) {\n      condition(group, element, bpmnFactory, conditionalEventDefinition, elementRegistry, translate);\n    }\n  }\n\n};\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","'use strict';\n\nvar ElementHelper = {};\nmodule.exports = ElementHelper;\n\n/**\n * Creates a new element and set the parent to it\n *\n * @method ElementHelper#createElement\n *\n * @param {String} elementType of the new element\n * @param {Object} properties of the new element in key-value pairs\n * @param {moddle.object} parent of the new element\n * @param {BpmnFactory} factory which creates the new element\n *\n * @returns {djs.model.Base} element which is created\n */\nElementHelper.createElement = function(elementType, properties, parent, factory) {\n  var element = factory.create(elementType, properties);\n  element.$parent = parent;\n\n  return element;\n};\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar historyTimeToLive = require('./implementation/HistoryTimeToLive');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'camunda:Process') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(historyTimeToLive(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n\n  }\n};\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var candidateStarterGroupsEntry = entryFactory.textField({\n    id: 'candidateStarterGroups',\n    label: translate('Candidate Starter Groups'),\n    modelProperty: 'candidateStarterGroups',\n    description: translate('Specify more than one group as a comma separated list.'),\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var candidateStarterGroups = bo.get('camunda:candidateStarterGroups');\n\n      return {\n        candidateStarterGroups: candidateStarterGroups ? candidateStarterGroups : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:candidateStarterGroups': values.candidateStarterGroups || undefined\n      });\n    }\n\n  });\n\n  var candidateStarterUsersEntry = entryFactory.textField({\n    id: 'candidateStarterUsers',\n    label: translate('Candidate Starter Users'),\n    modelProperty: 'candidateStarterUsers',\n    description: translate('Specify more than one user as a comma separated list.'),\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var candidateStarterUsers = bo.get('camunda:candidateStarterUsers');\n\n      return {\n        candidateStarterUsers: candidateStarterUsers ? candidateStarterUsers : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:candidateStarterUsers': values.candidateStarterUsers || undefined\n      });\n    }\n\n  });\n\n  return [\n    candidateStarterGroupsEntry,\n    candidateStarterUsersEntry\n  ];\n};\n","'use strict';\n\nvar inputOutputParameter = require('./implementation/InputOutputParameter');\n\nvar assign = require('lodash/assign');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  group.entries = group.entries.concat(inputOutputParameter(element, bpmnFactory, assign({}, options), translate));\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementReferenceProperty = require('../../../bpmn/parts/implementation/ElementReferenceProperty');\n\nmodule.exports = function(\n    group, element, bpmnFactory, errorEventDefinition,\n    showErrorCodeVariable, showErrorMessageVariable, translate\n) {\n\n\n  var getValue = function(modelProperty) {\n    return function(element) {\n      var modelPropertyValue = errorEventDefinition.get('activiti:' + modelProperty);\n      var value = {};\n\n      value[modelProperty] = modelPropertyValue;\n      return value;\n    };\n  };\n\n  var setValue = function(modelProperty) {\n    return function(element, values) {\n      var props = {};\n\n      props['activiti:' + modelProperty] = values[modelProperty] || undefined;\n\n      return cmdHelper.updateBusinessObject(element, errorEventDefinition, props);\n    };\n  };\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, errorEventDefinition, bpmnFactory, {\n      id: 'error-element-message',\n      label: translate('Error Message'),\n      referenceProperty: 'errorRef',\n      modelProperty: 'errorMessage'\n    })\n  );\n\n  if (showErrorCodeVariable) {\n    group.entries.push(entryFactory.textField({\n      id: 'errorCodeVariable',\n      label: translate('Error Code Variable'),\n      modelProperty : 'errorCodeVariable',\n\n      get: getValue('errorCodeVariable'),\n      set: setValue('errorCodeVariable')\n    }));\n  }\n\n  if (showErrorMessageVariable) {\n    group.entries.push(entryFactory.textField({\n      id: 'errorMessageVariable',\n      label: translate('Error Message Variable'),\n      modelProperty: 'errorMessageVariable',\n\n      get: getValue('errorMessageVariable'),\n      set: setValue('errorMessageVariable')\n    }));\n  }\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    elementHelper = require('../../../../helper/ElementHelper');\n\nvar assign = require('lodash/assign');\nvar map = require('lodash/map');\n\nvar DEFAULT_DELEGATE_PROPS = [ 'class', 'expression', 'delegateExpression' ];\n\nvar DELEGATE_PROPS = {\n  'activiti:class': undefined,\n  'activiti:expression': undefined,\n  'activiti:delegateExpression': undefined,\n  'activiti:resultVariable': undefined\n};\n\nvar DMN_CAPABLE_PROPS = {\n  'activiti:decisionRef': undefined,\n  'activiti:decisionRefBinding': 'latest',\n  'activiti:decisionRefVersion': undefined,\n  'activiti:mapDecisionResult': 'resultList',\n  'activiti:decisionRefTenantId': undefined\n};\n\n\nvar EXTERNAL_CAPABLE_PROPS = {\n  'activiti:type': undefined,\n  'activiti:topic': undefined\n};\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var DEFAULT_OPTIONS = [\n    { value: 'class', name: translate('Java Class') },\n    { value: 'expression', name: translate('Expression') },\n    { value: 'delegateExpression', name: translate('Delegate Expression') }\n  ];\n\n  var DMN_OPTION = [\n    { value: 'dmn', name: translate('DMN') }\n  ];\n\n  var EXTERNAL_OPTION = [\n    { value: 'external', name: translate('External') }\n  ];\n\n  var CONNECTOR_OPTION = [\n    { value: 'connector', name: translate('Connector') }\n  ];\n\n  var SCRIPT_OPTION = [\n    { value: 'script', name: translate('Script') }\n  ];\n\n  var getType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  var hasDmnSupport = options.hasDmnSupport,\n      hasExternalSupport = options.hasExternalSupport,\n      hasServiceTaskLikeSupport = options.hasServiceTaskLikeSupport,\n      hasScriptSupport = options.hasScriptSupport;\n\n  var entries = [];\n\n  var selectOptions = DEFAULT_OPTIONS.concat([]);\n\n  if (hasDmnSupport) {\n    selectOptions = selectOptions.concat(DMN_OPTION);\n  }\n\n  if (hasExternalSupport) {\n    selectOptions = selectOptions.concat(EXTERNAL_OPTION);\n  }\n\n  if (hasServiceTaskLikeSupport) {\n    selectOptions = selectOptions.concat(CONNECTOR_OPTION);\n  }\n\n  if (hasScriptSupport) {\n    selectOptions = selectOptions.concat(SCRIPT_OPTION);\n  }\n\n  selectOptions.push({ value: '' });\n\n  entries.push(entryFactory.selectBox({\n    id : 'implementation',\n    label: translate('Implementation'),\n    selectOptions: selectOptions,\n    modelProperty: 'implType',\n\n    get: function(element, node) {\n      return {\n        implType: getType(element) || ''\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var oldType = getType(element);\n      var newType = values.implType;\n\n      var props = assign({}, DELEGATE_PROPS);\n\n      if (DEFAULT_DELEGATE_PROPS.indexOf(newType) !== -1) {\n\n        var newValue = '';\n        if (DEFAULT_DELEGATE_PROPS.indexOf(oldType) !== -1) {\n          newValue = bo.get('activiti:' + oldType);\n        }\n        props['activiti:' + newType] = newValue;\n      }\n\n      if (hasDmnSupport) {\n        props = assign(props, DMN_CAPABLE_PROPS);\n        if (newType === 'dmn') {\n          props['activiti:decisionRef'] = '';\n        }\n      }\n\n      if (hasExternalSupport) {\n        props = assign(props, EXTERNAL_CAPABLE_PROPS);\n        if (newType === 'external') {\n          props['activiti:type'] = 'external';\n          props['activiti:topic'] = '';\n        }\n      }\n\n      if (hasScriptSupport) {\n        props['activiti:script'] = undefined;\n\n        if (newType === 'script') {\n          props['activiti:script'] = elementHelper.createElement('activiti:Script', {}, bo, bpmnFactory);\n        }\n      }\n\n      var commands = [];\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n\n      if (hasServiceTaskLikeSupport) {\n        var connectors = extensionElementsHelper.getExtensionElements(bo, 'activiti:Connector');\n        commands.push(map(connectors, function(connector) {\n          return extensionElementsHelper.removeEntry(bo, element, connector);\n        }));\n\n        if (newType === 'connector') {\n          var extensionElements = bo.get('extensionElements');\n          if (!extensionElements) {\n            extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n            commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n          }\n          var connector = elementHelper.createElement('activiti:Connector', {}, extensionElements, bpmnFactory);\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\n            element,\n            extensionElements,\n            'values',\n            'extensionElements',\n            [ connector ],\n            []\n          ));\n        }\n      }\n\n      return commands;\n\n    }\n  }));\n\n  return entries;\n\n};\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\nvar bind = require('lodash/bind');\n\n/**\n * An entry that renders a clickable link.\n *\n * A passed {@link options#handleClick} handler is responsible\n * to process the click.\n *\n * The link may be conditionally shown or hidden. This can be\n * controlled via the {@link options.showLink}.\n *\n * @param {Object} options\n * @param {String} options.id\n * @param {String} [options.label]\n * @param {Function} options.handleClick\n * @param {Function} [options.showLink] returning false to hide link\n * @param {String} [options.description]\n *\n * @example\n *\n * var linkEntry = link({\n *   id: 'foo',\n *   description: 'Some Description',\n *   handleClick: function(element, node, event) { ... },\n *   showLink: function(element, node) { ... }\n * });\n *\n * @return {Entry} the newly created entry\n */\nfunction link(options) {\n\n  var id = options.id,\n      label = options.label || id,\n      showLink = options.showLink,\n      handleClick = options.handleClick,\n      description = options.description;\n\n  if (showLink && typeof showLink !== 'function') {\n    throw new Error('options.showLink must be a function');\n  }\n\n  if (typeof handleClick !== 'function') {\n    throw new Error('options.handleClick must be a function');\n  }\n\n  var resource = {\n    id: id\n  };\n\n  resource.html =\n    '<a data-action=\"handleClick\" ' +\n    (showLink ? 'data-show=\"showLink\" ' : '') +\n    'class=\"bpp-entry-link' + (options.cssClasses ? ' ' + escapeHTML(options.cssClasses) : '') +\n    '\">' + escapeHTML(label) + '</a>';\n\n  // add description below link entry field\n  if (description) {\n    resource.html += entryFieldDescription(description);\n  }\n\n  resource.handleClick = bind(handleClick, resource);\n\n  if (typeof showLink === 'function') {\n    resource.showLink = function() {\n      return showLink.apply(resource, arguments);\n    };\n  }\n\n  return resource;\n}\n\nmodule.exports = link;\n","'use strict';\n\nvar cmdHelper = require('../../../../helper/CmdHelper'),\n    entryFactory = require('../../../../factory/EntryFactory'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper');\n\n\nvar resultVariable = require('./ResultVariable');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar forEach = require('lodash/forEach');\n\nvar attributeInfo = {\n  bpmn: {\n    element: 'calledElement',\n    binding: 'camunda:calledElementBinding',\n    version: 'camunda:calledElementVersion',\n    versionTag: 'camunda:calledElementVersionTag',\n    tenantId: 'camunda:calledElementTenantId'\n  },\n\n  cmmn: {\n    element: 'camunda:caseRef',\n    binding: 'camunda:caseBinding',\n    version: 'camunda:caseVersion',\n    tenantId: 'camunda:caseTenantId'\n  },\n\n  dmn: {\n    element: 'camunda:decisionRef',\n    binding: 'camunda:decisionRefBinding',\n    version: 'camunda:decisionRefVersion',\n    versionTag: 'camunda:decisionRefVersionTag',\n    tenantId: 'camunda:decisionRefTenantId'\n  }\n};\n\nvar mapDecisionResultOptions = [\n  {\n    name: 'singleEntry (TypedValue)',\n    value: 'singleEntry'\n  },\n  {\n    name:'singleResult (Map<String, Object>)',\n    value:'singleResult'\n  },\n  {\n    name:'collectEntries (List<Object>)',\n    value:'collectEntries'\n  },\n  {\n    name:'resultList (List<Map<String, Object>>)',\n    value:'resultList'\n  }\n];\n\nvar delegateVariableMappingOptions = [\n  {\n    name: 'variableMappingClass',\n    value: 'variableMappingClass'\n  },\n  {\n    name: 'variableMappingDelegateExpression',\n    value: 'variableMappingDelegateExpression'\n  }\n];\n\nfunction getCamundaInWithBusinessKey(element) {\n  var camundaIn = [],\n      bo = getBusinessObject(element);\n\n  var camundaInParams = extensionElementsHelper.getExtensionElements(bo, 'camunda:In');\n  if (camundaInParams) {\n    forEach(camundaInParams, function(param) {\n      if (param.businessKey !== undefined) {\n        camundaIn.push(param);\n      }\n    });\n  }\n  return camundaIn;\n}\n\nfunction setBusinessKey(element, text, bpmnFactory) {\n  var commands = [];\n\n  var camundaInWithBusinessKey = getCamundaInWithBusinessKey(element);\n\n  if (camundaInWithBusinessKey.length) {\n    commands.push(cmdHelper.updateBusinessObject(element, camundaInWithBusinessKey[0], {\n      businessKey: text\n    }));\n  } else {\n    var bo = getBusinessObject(element),\n        extensionElements = bo.extensionElements;\n\n    if (!extensionElements) {\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n      commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));\n    }\n\n    var camundaIn = elementHelper.createElement(\n      'camunda:In',\n      { 'businessKey': text },\n      extensionElements,\n      bpmnFactory\n    );\n\n    commands.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      'extensionElements',\n      [ camundaIn ],[]\n    ));\n  }\n\n  return commands;\n}\n\nfunction deleteBusinessKey(element) {\n  var camundaInExtensions = getCamundaInWithBusinessKey(element);\n  var commands = [];\n  forEach(camundaInExtensions, function(elem) {\n    commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, elem));\n  });\n  return commands;\n}\n\nfunction isSupportedCallableType(type) {\n  return [ 'bpmn', 'cmmn', 'dmn' ].indexOf(type) !== -1;\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var bindingOptions = [\n    {\n      name: translate('latest'),\n      value: 'latest'\n    },\n    {\n      name: translate('deployment'),\n      value: 'deployment'\n    },\n    {\n      name: translate('version'),\n      value: 'version'\n    },\n    {\n      name: translate('versionTag'),\n      value: 'versionTag'\n    }\n  ];\n\n  var getCallableType = options.getCallableType;\n\n  var entries = [];\n\n  function getAttribute(element, prop) {\n    var type = getCallableType(element);\n    return (attributeInfo[type] || {})[prop];\n  }\n\n  function getCallActivityBindingValue(element) {\n    var type = getCallableType(element);\n    var bo = getBusinessObject(element);\n    var attr = (attributeInfo[type] || {}).binding;\n    return bo.get(attr);\n  }\n\n  function getDelegateVariableMappingType(element) {\n    var bo = getBusinessObject(element);\n\n    var boVariableMappingClass = bo.get('camunda:variableMappingClass'),\n        boVariableMappingDelegateExpression = bo.get('camunda:variableMappingDelegateExpression');\n\n    var delegateVariableMappingType = '';\n    if (typeof boVariableMappingClass !== 'undefined') {\n      delegateVariableMappingType = 'variableMappingClass';\n    } else\n\n    if (typeof boVariableMappingDelegateExpression !== 'undefined') {\n      delegateVariableMappingType = 'variableMappingDelegateExpression';\n    }\n\n    return delegateVariableMappingType;\n  }\n\n\n  entries.push(entryFactory.textField({\n    id: 'callable-element-ref',\n    dataValueLabel: 'callableElementLabel',\n    modelProperty: 'callableElementRef',\n\n    get: function(element, node) {\n      var callableElementRef;\n\n      var attr = getAttribute(element, 'element');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableElementRef = bo.get(attr);\n      }\n\n      var label = '';\n      var type = getCallableType(element);\n      if (type === 'bpmn') {\n        label = translate('Called Element');\n      }\n      else if (type === 'cmmn') {\n        label = translate('Case Ref');\n      }\n      else if (type === 'dmn') {\n        label = translate('Decision Ref');\n      }\n\n      return {\n        callableElementRef: callableElementRef,\n        callableElementLabel: label\n      };\n    },\n\n    set: function(element, values, node) {\n      var newCallableElementRef = values.callableElementRef;\n      var attr = getAttribute(element, 'element');\n\n      var props = {};\n      props[attr] = newCallableElementRef || '';\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var elementRef = values.callableElementRef;\n      var type = getCallableType(element);\n      return isSupportedCallableType(type) && !elementRef ? { callableElementRef: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isSupportedCallableType(getCallableType(element));\n    }\n\n  }));\n\n  entries.push(entryFactory.selectBox({\n    id: 'callable-binding',\n    label: translate('Binding'),\n    selectOptions: function(element) {\n      var type = getCallableType(element);\n      var options;\n\n      if (type === 'cmmn') {\n        options = bindingOptions.filter(function(bindingOption) {\n          return bindingOption.value !== 'versionTag';\n        });\n      } else {\n        options = bindingOptions;\n      }\n      return options;\n    },\n    modelProperty: 'callableBinding',\n\n    get: function(element, node) {\n      var callableBinding;\n\n      var attr = getAttribute(element, 'binding');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableBinding = bo.get(attr) || 'latest';\n      }\n\n      return {\n        callableBinding: callableBinding\n      };\n    },\n\n    set: function(element, values, node) {\n      var binding = values.callableBinding;\n      var attr = getAttribute(element, 'binding'),\n          attrVer = getAttribute(element, 'version'),\n          attrVerTag = getAttribute(element, 'versionTag');\n\n      var props = {};\n      props[attr] = binding;\n\n      // set version and versionTag values always to undefined to delete the existing value\n      props[attrVer] = undefined;\n      props[attrVerTag] = undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      return !isSupportedCallableType(getCallableType(element));\n    }\n\n  }));\n\n  entries.push(entryFactory.textField({\n    id: 'callable-version',\n    label: translate('Version'),\n    modelProperty: 'callableVersion',\n\n    get: function(element, node) {\n      var callableVersion;\n\n      var attr = getAttribute(element, 'version');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableVersion = bo.get(attr);\n      }\n\n      return {\n        callableVersion: callableVersion\n      };\n    },\n\n    set: function(element, values, node) {\n      var version = values.callableVersion;\n      var attr = getAttribute(element, 'version');\n\n      var props = {};\n      props[attr] = version || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var version = values.callableVersion;\n\n      var type = getCallableType(element);\n      return (\n        isSupportedCallableType(type) &&\n        getCallActivityBindingValue(element) === 'version' && (\n          !version ? { callableVersion: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n      return !isSupportedCallableType(type) || getCallActivityBindingValue(element) !== 'version';\n    }\n\n  }));\n\n  entries.push(entryFactory.textField({\n    id: 'callable-version-tag',\n    label: translate('Version Tag'),\n    modelProperty: 'versionTag',\n\n    get: function(element, node) {\n      var versionTag;\n\n      var attr = getAttribute(element, 'versionTag');\n\n      if (attr) {\n        var bo = getBusinessObject(element);\n\n        versionTag = bo.get(attr);\n      }\n\n      return {\n        versionTag: versionTag\n      };\n    },\n\n    set: function(element, values, node) {\n      var versionTag = values.versionTag;\n\n      var attr = getAttribute(element, 'versionTag');\n\n      var props = {};\n\n      props[attr] = versionTag || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var versionTag = values.versionTag;\n\n      var type = getCallableType(element);\n\n      return (\n        isSupportedCallableType(type) &&\n        getCallActivityBindingValue(element) === 'versionTag' && (\n          !versionTag ? { versionTag: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n\n      return !isSupportedCallableType(type) || getCallActivityBindingValue(element) !== 'versionTag';\n    }\n\n  }));\n\n  entries.push(entryFactory.textField({\n    id: 'tenant-id',\n    label: translate('Tenant Id'),\n    modelProperty: 'tenantId',\n\n    get: function(element, node) {\n      var tenantId;\n\n      var attr = getAttribute(element, 'tenantId');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        tenantId = bo.get(attr);\n      }\n\n      return {\n        tenantId: tenantId\n      };\n    },\n\n    set: function(element, values, node) {\n      var tenantId = values.tenantId;\n      var attr = getAttribute(element, 'tenantId');\n\n      var props = {};\n      props[attr] = tenantId || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n      return !isSupportedCallableType(type);\n    }\n\n  }));\n\n  if (is(getBusinessObject(element), 'bpmn:CallActivity')) {\n    entries.push(entryFactory.checkbox({\n      id: 'callable-business-key',\n      label: translate('Business Key'),\n      modelProperty: 'callableBusinessKey',\n\n      get: function(element, node) {\n        var camundaIn = getCamundaInWithBusinessKey(element);\n\n        return {\n          callableBusinessKey: !!(camundaIn && camundaIn.length > 0)\n        };\n      },\n\n      set: function(element, values, node) {\n        if (values.callableBusinessKey) {\n          return setBusinessKey(element, '#{execution.processBusinessKey}', bpmnFactory);\n        } else {\n          return deleteBusinessKey(element);\n        }\n      }\n    }));\n  }\n\n  entries.push(entryFactory.textField({\n    id: 'business-key-expression',\n    label: translate('Business Key Expression'),\n    modelProperty: 'businessKey',\n\n    get: function(element, node) {\n      var camundaInWithBusinessKey = getCamundaInWithBusinessKey(element);\n\n      return {\n        businessKey: (\n          camundaInWithBusinessKey.length ?\n            camundaInWithBusinessKey[0].get('camunda:businessKey') :\n            undefined\n        )\n      };\n    },\n\n    set: function(element, values, node) {\n      var businessKey = values.businessKey;\n\n      return setBusinessKey(element, businessKey, bpmnFactory);\n    },\n\n    validate: function(element, values, node) {\n      var businessKey = values.businessKey;\n\n      return businessKey === '' ? { businessKey: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !getCamundaInWithBusinessKey(element).length;\n    }\n\n  }));\n\n  entries = entries.concat(resultVariable(element, bpmnFactory, {\n    id: 'dmn-resultVariable',\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getCallableType,\n    hideResultVariable: function(element, node) {\n      return getCallableType(element) !== 'dmn';\n    }\n  }, translate));\n\n  entries.push(entryFactory.selectBox({\n    id: 'dmn-map-decision-result',\n    label: translate('Map Decision Result'),\n    selectOptions: mapDecisionResultOptions,\n    modelProperty: 'mapDecisionResult',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        mapDecisionResult: bo.get('camunda:mapDecisionResult') || 'resultList'\n      };\n    },\n\n    set: function(element, values, node) {\n      return cmdHelper.updateProperties(element, {\n        'camunda:mapDecisionResult': values.mapDecisionResult || 'resultList'\n      });\n    },\n\n    hidden: function(element, node) {\n      var bo = getBusinessObject(element);\n      var resultVariable = bo.get('camunda:resultVariable');\n      return !(getCallableType(element) === 'dmn' && typeof resultVariable !== 'undefined');\n    }\n\n  }));\n\n\n  entries.push(entryFactory.selectBox({\n    id: 'delegateVariableMappingType',\n    label: translate('Delegate Variable Mapping'),\n    selectOptions: delegateVariableMappingOptions,\n    emptyParameter: true,\n    modelProperty: 'delegateVariableMappingType',\n\n    get: function(element, node) {\n      return {\n        delegateVariableMappingType : getDelegateVariableMappingType(element)\n      };\n    },\n\n    set: function(element, values, node) {\n      var delegateVariableMappingType = values.delegateVariableMappingType;\n\n      var props = {\n        'camunda:variableMappingClass' : undefined,\n        'camunda:variableMappingDelegateExpression' : undefined\n      };\n\n      if (delegateVariableMappingType === 'variableMappingClass') {\n        props['camunda:variableMappingClass'] = '';\n      }\n      else if (delegateVariableMappingType === 'variableMappingDelegateExpression') {\n        props['camunda:variableMappingDelegateExpression'] = '';\n      }\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      return (getCallableType(element) !== 'bpmn');\n    }\n\n  }));\n\n  entries.push(entryFactory.textField({\n    id: 'delegateVariableMapping',\n    dataValueLabel: 'delegateVariableMappingLabel',\n    modelProperty: 'delegateVariableMapping',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n\n      var label = '';\n      var delegateVariableMapping = undefined;\n      var type = getDelegateVariableMappingType(element);\n\n      if (type === 'variableMappingClass') {\n        label = translate('Class');\n        delegateVariableMapping = bo.get('camunda:variableMappingClass');\n      }\n      else if (type === 'variableMappingDelegateExpression') {\n        label = translate('Delegate Expression');\n        delegateVariableMapping = bo.get('camunda:variableMappingDelegateExpression');\n      }\n\n      return {\n        delegateVariableMapping: delegateVariableMapping,\n        delegateVariableMappingLabel: label\n      };\n    },\n\n    set: function(element, values, node) {\n      var delegateVariableMapping = values.delegateVariableMapping;\n\n      var attr = 'camunda:' + getDelegateVariableMappingType(element);\n\n      var props = {};\n      props[attr] = delegateVariableMapping || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var delegateVariableMapping = values.delegateVariableMapping;\n      return (\n        getCallableType(element) === 'bpmn' && (\n          !delegateVariableMapping ? { delegateVariableMapping: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      return !(getCallableType(element) === 'bpmn' && getDelegateVariableMappingType(element) !== '');\n    }\n\n  }));\n\n  return entries;\n};\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","module.exports = require('./lib');\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","'use strict';\n\nvar forEach = require('lodash/forEach');\n\nvar elementHelper = require('../helper/ElementHelper');\n\n/**\n * A handler that implements a BPMN 2.0 property update\n * for business objects which are not represented in the\n * diagram.\n *\n * This is useful in the context of the properties panel in\n * order to update child elements of elements visible in\n * the diagram.\n *\n * Example: perform an update of a specific event definition\n * of an intermediate event.\n *\n * @class\n * @constructor\n */\nfunction CreateBusinessObjectListHandler(elementRegistry, bpmnFactory) {\n  this._elementRegistry = elementRegistry;\n  this._bpmnFactory = bpmnFactory;\n}\n\nCreateBusinessObjectListHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\n\nmodule.exports = CreateBusinessObjectListHandler;\n\nfunction ensureNotNull(prop, name) {\n  if (!prop) {\n    throw new Error(name + ' required');\n  }\n  return prop;\n\n}\nfunction ensureList(prop, name) {\n  if (!prop || Object.prototype.toString.call(prop) !== '[object Array]') {\n    throw new Error(name + ' needs to be a list');\n  }\n  return prop;\n}\n\n// api /////////////////////////////////////////////\n\n/**\n * Creates a new element under a provided parent and updates / creates a reference to it in\n * one atomic action.\n *\n * @method  CreateBusinessObjectListHandler#execute\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element which is the context for the reference\n * @param {moddle.referencingObject} context.referencingObject the object which creates the reference\n * @param {String} context.referenceProperty the property of the referencingObject which makes the reference\n * @param {moddle.newObject} context.newObject the new object to add\n * @param {moddle.newObjectContainer} context.newObjectContainer the container for the new object\n *\n * @return {Array<djs.mode.Base>} the updated element\n */\nCreateBusinessObjectListHandler.prototype.execute = function(context) {\n\n  var currentObject = ensureNotNull(context.currentObject, 'currentObject'),\n      propertyName = ensureNotNull(context.propertyName, 'propertyName'),\n      newObjects = ensureList(context.newObjects, 'newObjects'),\n      changed = [ context.element ]; // this will not change any diagram-js elements\n\n\n  var childObjects = [];\n  var self = this;\n\n  // create new array of business objects\n  forEach(newObjects, function(obj) {\n    var element = elementHelper.createElement(obj.type, obj.properties, currentObject, self._bpmnFactory);\n\n    childObjects.push(element);\n  });\n  context.childObject = childObjects;\n\n  // adjust array reference in the parent business object\n  context.previousChilds = currentObject[propertyName];\n  currentObject[propertyName] = childObjects;\n\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n/**\n * Reverts the update\n *\n * @method  CreateBusinessObjectListHandler#revert\n *\n * @param {Object} context\n *\n * @return {djs.mode.Base} the updated element\n */\nCreateBusinessObjectListHandler.prototype.revert = function(context) {\n\n  var currentObject = context.currentObject,\n      propertyName = context.propertyName,\n      previousChilds = context.previousChilds;\n\n  // remove new element\n  currentObject.set(propertyName, previousChilds);\n\n  return context.changed;\n};\n","'use strict';\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\n/**\n * Get the timer definition type for a given timer event definition.\n *\n * @param {ModdleElement<bpmn:TimerEventDefinition>} timer\n *\n * @return {string|undefined} the timer definition type\n */\nfunction getTimerDefinitionType(timer) {\n\n  if (!timer) {\n    return;\n  }\n\n  var timeDate = timer.get('timeDate');\n  if (typeof timeDate !== 'undefined') {\n    return 'timeDate';\n  }\n\n  var timeCycle = timer.get('timeCycle');\n  if (typeof timeCycle !== 'undefined') {\n    return 'timeCycle';\n  }\n\n  var timeDuration = timer.get('timeDuration');\n  if (typeof timeDuration !== 'undefined') {\n    return 'timeDuration';\n  }\n}\n\n/**\n * Get the actual timer event definition based on option, whether it's a getter\n * to fetch the timer event definition or the exact event definition itself\n *\n * @param {ModdleElement<bpmn:TimerEventDefinition>|Function} timerOrFunction\n * @param {Shape} element\n * @param {HTMLElement} node\n *\n * @return ModdleElement<bpmn:TimerEventDefinition>\n */\nfunction getTimerDefinition(timerOrFunction, element, node) {\n  if (typeof timerOrFunction === 'function') {\n    return timerOrFunction(element, node);\n  }\n\n  return timerOrFunction;\n}\n\n/**\n * Creates 'bpmn:FormalExpression' element.\n *\n * @param {ModdleElement} parent\n * @param {string} body\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement<bpmn:FormalExpression>} a formal expression\n */\nfunction createFormalExpression(parent, body, bpmnFactory) {\n  body = body || undefined;\n  return elementHelper.createElement('bpmn:FormalExpression', { body: body }, parent, bpmnFactory);\n}\n\nfunction TimerEventDefinition(group, element, bpmnFactory, timerEventDefinition, translate, options) {\n\n  var selectOptions = [\n    { value: 'timeDate', name: translate('Date') },\n    { value: 'timeDuration', name: translate('Duration') },\n    { value: 'timeCycle', name: translate('Cycle') }\n  ];\n\n  var prefix = options && options.idPrefix,\n      createTimerEventDefinition = options && options.createTimerEventDefinition;\n\n\n  group.entries.push(entryFactory.selectBox({\n    id: prefix + 'timer-event-definition-type',\n    label: translate('Timer Definition Type'),\n    selectOptions: selectOptions,\n    emptyParameter: true,\n    modelProperty: 'timerDefinitionType',\n\n    get: function(element, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node);\n\n      return {\n        timerDefinitionType: getTimerDefinitionType(timerDefinition) || ''\n      };\n    },\n\n    set: function(element, values, node) {\n      var props = {\n        timeDuration: undefined,\n        timeDate: undefined,\n        timeCycle: undefined\n      };\n\n\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node),\n          newType = values.timerDefinitionType;\n\n      if (!timerDefinition && typeof createTimerEventDefinition === 'function') {\n        timerDefinition = createTimerEventDefinition(element, node);\n      }\n\n      if (values.timerDefinitionType) {\n        var oldType = getTimerDefinitionType(timerDefinition);\n\n        var value;\n        if (oldType) {\n          var definition = timerDefinition.get(oldType);\n          value = definition.get('body');\n        }\n\n        props[newType] = createFormalExpression(timerDefinition, value, bpmnFactory);\n      }\n\n      return cmdHelper.updateBusinessObject(element, timerDefinition, props);\n    },\n\n    hidden: function(element, node) {\n      return getTimerDefinition(timerEventDefinition, element, node) === undefined;\n    }\n\n  }));\n\n\n  group.entries.push(entryFactory.textField({\n    id: prefix + 'timer-event-definition',\n    label: translate('Timer Definition'),\n    modelProperty: 'timerDefinition',\n\n    get: function(element, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node),\n          type = getTimerDefinitionType(timerDefinition),\n          definition = type && timerDefinition.get(type),\n          value = definition && definition.get('body');\n\n      return {\n        timerDefinition: value\n      };\n    },\n\n    set: function(element, values, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node),\n          type = getTimerDefinitionType(timerDefinition),\n          definition = type && timerDefinition.get(type);\n\n      if (definition) {\n        return cmdHelper.updateBusinessObject(element, definition, {\n          body: values.timerDefinition || undefined\n        });\n      }\n    },\n\n    validate: function(element, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node),\n          type = getTimerDefinitionType(timerDefinition),\n          definition = type && timerDefinition.get(type);\n\n      if (definition) {\n        var value = definition.get('body');\n        if (!value) {\n          return {\n            timerDefinition: translate('Must provide a value')\n          };\n        }\n      }\n    },\n\n    hidden: function(element, node) {\n      var timerDefinition = getTimerDefinition(timerEventDefinition, element, node);\n\n      return !getTimerDefinitionType(timerDefinition);\n    }\n\n  }));\n\n}\n\nmodule.exports = TimerEventDefinition;\n","module.exports = {\n  __depends__: [\n    require('./cmd'),\n    require('diagram-js/lib/i18n/translate').default\n  ],\n  __init__: [\n    'customElementsPropertiesActivator',\n    'elementTemplatesLoader'\n  ],\n  customElementsPropertiesActivator: [ 'type', require('./CustomElementsPropertiesActivator') ],\n  elementTemplates: [ 'type', require('./ElementTemplates') ],\n  elementTemplatesLoader: [ 'type', require('./ElementTemplatesLoader') ]\n};\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar asyncCapableHelper = require('../../../../helper/AsyncCapableHelper'),\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nfunction isAsyncBefore(bo) {\n  return asyncCapableHelper.isAsyncBefore(bo);\n}\n\nfunction isAsyncAfter(bo) {\n  return asyncCapableHelper.isAsyncAfter(bo);\n}\n\nfunction isExclusive(bo) {\n  return asyncCapableHelper.isExclusive(bo);\n}\n\nfunction removeFailedJobRetryTimeCycle(bo, element) {\n  return asyncCapableHelper.removeFailedJobRetryTimeCycle(bo, element);\n}\n\nfunction canRemoveFailedJobRetryTimeCycle(element) {\n  return !eventDefinitionHelper.getTimerEventDefinition(element);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var idPrefix = options.idPrefix || '',\n      labelPrefix = options.labelPrefix || '';\n\n\n  var asyncBeforeEntry = entryFactory.checkbox({\n    id: idPrefix + 'asyncBefore',\n    label: labelPrefix + translate('Asynchronous Before'),\n    modelProperty: 'asyncBefore',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        asyncBefore: isAsyncBefore(bo)\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      var asyncBefore = !!values.asyncBefore;\n\n      var props = {\n        'activiti:asyncBefore': asyncBefore,\n        'activiti:async': false\n      };\n\n      var commands = [];\n      if (!isAsyncAfter(bo) && !asyncBefore) {\n        props = assign({ 'activiti:exclusive' : true }, props);\n        if (canRemoveFailedJobRetryTimeCycle(element)) {\n          commands.push(removeFailedJobRetryTimeCycle(bo, element));\n        }\n      }\n\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n      return commands;\n    }\n  });\n\n\n  var asyncAfterEntry = entryFactory.checkbox({\n    id: idPrefix + 'asyncAfter',\n    label: labelPrefix + translate('Asynchronous After'),\n    modelProperty: 'asyncAfter',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        asyncAfter: isAsyncAfter(bo)\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      var asyncAfter = !!values.asyncAfter;\n\n      var props = {\n        'activiti:asyncAfter': asyncAfter\n      };\n\n      var commands = [];\n      if (!isAsyncBefore(bo) && !asyncAfter) {\n        props = assign({ 'activiti:exclusive' : true }, props);\n        if (canRemoveFailedJobRetryTimeCycle(element)) {\n          commands.push(removeFailedJobRetryTimeCycle(bo, element));\n        }\n      }\n\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n      return commands;\n    }\n  });\n\n\n  var exclusiveEntry = entryFactory.checkbox({\n    id: idPrefix + 'exclusive',\n    label: labelPrefix + translate('Exclusive'),\n    modelProperty: 'exclusive',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { exclusive: isExclusive(bo) };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, { 'activiti:exclusive': !!values.exclusive });\n    },\n\n    hidden: function(element) {\n      var bo = getBusinessObject(element);\n      return bo && !isAsyncAfter(bo) && !isAsyncBefore(bo);\n    }\n  });\n\n  return [ asyncBeforeEntry, asyncAfterEntry, exclusiveEntry ];\n};\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getImplementationType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  function isExternal(element) {\n    return getImplementationType(element) === 'external';\n  }\n\n  var topicEntry = entryFactory.textField({\n    id: 'externalTopic',\n    label: translate('Topic'),\n    modelProperty: 'externalTopic',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { externalTopic: bo.get('camunda:topic') };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:topic': values.externalTopic\n      });\n    },\n\n    validate: function(element, values, node) {\n      return isExternal(element) && !values.externalTopic ? { externalTopic: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isExternal(element);\n    }\n\n  });\n\n  return [ topicEntry ];\n\n};\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","'use strict';\n\nvar domQuery = require('min-dom').query,\n    escapeHTML = require('../../../../Utils').escapeHTML,\n    utils = require('../../../../Utils');\n\n\nfunction getScriptType(node) {\n  return utils.selectedType('select[name=scriptType]', node.parentElement);\n}\n\n\nmodule.exports = function(scriptLanguagePropName, scriptValuePropName, isFormatRequired, translate) {\n\n  return {\n    template:\n    '<div class=\"bpp-row bpp-textfield\">' +\n      '<label for=\"cam-script-format\">' + escapeHTML(translate('Script Format')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\">' +\n        '<input id=\"cam-script-format\" type=\"text\" name=\"scriptFormat\" />' +\n        '<button class=\"clear\" data-action=\"script.clearScriptFormat\" data-show=\"script.canClearScriptFormat\">' +\n          '<span>X</span>' +\n        '</button>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row\">' +\n      '<label for=\"cam-script-type\">' + escapeHTML(translate('Script Type')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\">' +\n        '<select id=\"cam-script-type\" name=\"scriptType\" data-value>' +\n          '<option value=\"script\" selected>' + escapeHTML(translate('Inline Script')) + '</option>' +\n          '<option value=\"scriptResource\">' + escapeHTML(translate('External Resource')) + '</option>' +\n        '</select>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row bpp-textfield\">' +\n      '<label for=\"cam-script-resource-val\" data-show=\"script.isScriptResource\">' + escapeHTML(translate('Resource')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\" data-show=\"script.isScriptResource\">' +\n        '<input id=\"cam-script-resource-val\" type=\"text\" name=\"scriptResourceValue\" />' +\n        '<button class=\"clear\" data-action=\"script.clearScriptResource\" data-show=\"script.canClearScriptResource\">' +\n          '<span>X</span>' +\n        '</button>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row\">' +\n      '<label for=\"cam-script-val\" data-show=\"script.isScript\">' + escapeHTML(translate('Script')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\" data-show=\"script.isScript\">' +\n        '<textarea id=\"cam-script-val\" type=\"text\" name=\"scriptValue\"></textarea>' +\n      '</div>'+\n    '</div>',\n\n    get: function(element, bo) {\n      var values = {};\n\n      // read values from xml:\n      var boScriptResource = bo.get('activiti:resource'),\n          boScript = bo.get(scriptValuePropName),\n          boScriptFormat = bo.get(scriptLanguagePropName);\n\n      if (typeof boScriptResource !== 'undefined') {\n        values.scriptResourceValue = boScriptResource;\n        values.scriptType = 'scriptResource';\n      } else {\n        values.scriptValue = boScript;\n        values.scriptType = 'script';\n      }\n\n      values.scriptFormat = boScriptFormat;\n\n      return values;\n    },\n\n    set: function(element, values, containerElement) {\n      var scriptFormat = values.scriptFormat,\n          scriptType = values.scriptType,\n          scriptResourceValue = values.scriptResourceValue,\n          scriptValue = values.scriptValue;\n\n      // init update\n      var update = {\n        'activiti:resource': undefined\n      };\n      update[scriptValuePropName] = undefined;\n      update[scriptLanguagePropName] = undefined;\n\n      if (isFormatRequired) {\n        // always set language\n        update[scriptLanguagePropName] = scriptFormat || '';\n      } else\n      // set language only when scriptFormat has a value\n      if (scriptFormat !== '') {\n        update[scriptLanguagePropName] = scriptFormat;\n      }\n\n      // set either inline script or resource\n      if ('scriptResource' === scriptType) {\n        update['activiti:resource'] = scriptResourceValue || '';\n      } else {\n        update[scriptValuePropName] = scriptValue || '';\n      }\n\n      return update;\n    },\n\n    validate: function(element, values) {\n      var validationResult = {};\n\n      if (values.scriptType === 'script' && !values.scriptValue) {\n        validationResult.scriptValue = translate('Must provide a value');\n      }\n\n      if (values.scriptType === 'scriptResource' && !values.scriptResourceValue) {\n        validationResult.scriptResourceValue = translate('Must provide a value');\n      }\n\n      if (isFormatRequired && (!values.scriptFormat || values.scriptFormat.length === 0)) {\n        validationResult.scriptFormat = translate('Must provide a value');\n      }\n\n      return validationResult;\n    },\n\n    clearScriptFormat: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('input[name=scriptFormat]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScriptFormat: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('input[name=scriptFormat]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    clearScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('input[name=scriptResourceValue]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('input[name=scriptResourceValue]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    clearScript: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('textarea[name=scriptValue]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScript: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('textarea[name=scriptValue]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    isScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      var scriptType = getScriptType(scopeNode);\n      return scriptType === 'scriptResource';\n    },\n\n    isScript: function(element, inputNode, btnNode, scopeNode) {\n      var scriptType = getScriptType(scopeNode);\n      return scriptType === 'script';\n    }\n\n  };\n\n};\n","'use strict';\n\nvar inherits = require('inherits');\n\nvar getTemplate = require('./Helper').getTemplate;\n\nvar PropertiesActivator = require('../../../PropertiesActivator');\n\nvar HIGHER_PRIORITY = 1100;\n\n/**\n * Applies template visibility settings.\n *\n * Controlled using `entriesVisible` on template config object:\n *\n * ```json\n *     \"entriesVisible\": {\n *       \"_all\": true|false,\n *       \"entryName\": true|false,\n *       ...\n *     }\n * ```\n *\n * @param {EventBus} eventBus\n * @param {ElementTemplates} elementTemplates\n */\nfunction CustomElementsPropertiesActivator(eventBus, elementTemplates) {\n  PropertiesActivator.call(this, eventBus, HIGHER_PRIORITY);\n\n  this.isEntryVisible = function(entry, element) {\n\n    var template = getTemplate(element, elementTemplates);\n\n    if (template && !isEntryVisible(entry, template)) {\n      return false;\n    }\n  };\n\n  this.isPropertyEditable = function(entry, propertyName, element) {\n\n    var template = getTemplate(element, elementTemplates);\n\n    if (template && !isEntryEditable(entry, template)) {\n      return false;\n    }\n  };\n}\n\nCustomElementsPropertiesActivator.$inject = [ 'eventBus', 'elementTemplates' ];\n\ninherits(CustomElementsPropertiesActivator, PropertiesActivator);\n\nmodule.exports = CustomElementsPropertiesActivator;\n\n\n\n// helpers ////////////////////////////////////\n\n\nvar CUSTOM_PROPERTIES_PATTERN = /^custom-/;\n\nvar DEFAULT_ENTRIES_VISIBLE = {\n  _all: false,\n  id: true,\n  name: true\n};\n\nfunction isCustomEntry(entry) {\n  return CUSTOM_PROPERTIES_PATTERN.test(entry.id);\n}\n\nfunction isEntryVisible(entry, template) {\n\n  var entryId = entry.id;\n\n  if (entryId === 'elementTemplate-chooser' || isCustomEntry(entry)) {\n    return true;\n  }\n\n  var entriesVisible = template.entriesVisible || DEFAULT_ENTRIES_VISIBLE;\n\n  if (typeof entriesVisible === 'boolean') {\n    return entriesVisible;\n  }\n\n  var defaultVisible = entriesVisible._all || false,\n      entryVisible = entriesVisible[entryId];\n\n  // d = true, e = false => false\n  // d = false, e = true => true\n  // d = false, e = false\n  return (\n    (defaultVisible === true && entryVisible !== false) ||\n    (defaultVisible === false && entryVisible === true)\n  );\n}\n\nfunction isEntryEditable(entry, template) {\n\n  var property;\n\n  if (isCustomEntry(entry)) {\n    property = getProperty(template, entry);\n\n    return property && property.editable !== false;\n  }\n\n  return true;\n}\n\nfunction getProperty(template, entry) {\n\n  var index;\n  var idx = entry.id.replace('custom-' + template.id + '-', '');\n  if (idx.indexOf('-') !== -1) {\n    var indexes = idx.split('-');\n    if (indexes.length == 2) {\n      var scopeName = indexes[0].replace(/_/g, ':');\n      index = parseInt(indexes[1], 10);\n      if (scopeName && !isNaN(index)) {\n        return template.scopes[scopeName].properties[index];\n      }\n    }\n  } else {\n    index = parseInt(idx, 10);\n    if (!isNaN(index)) {\n      return template.properties[index];\n    }\n  }\n\n  throw new Error('cannot extract property index for entry <' + entry.id + '>');\n}\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","'use strict';\n\nvar Validator = require('./Validator');\n\n/**\n * The guy responsible for template loading.\n *\n * Provide the actual templates via the `config.elementTemplates`.\n *\n * That configuration can either be an array of template\n * descriptors or a node style callback to retrieve\n * the templates asynchronously.\n *\n * @param {Array<TemplateDescriptor>|Function} loadTemplates\n * @param {EventBus} eventBus\n * @param {ElementTemplates} elementTemplates\n */\nfunction ElementTemplatesLoader(loadTemplates, eventBus, elementTemplates) {\n  this._loadTemplates = loadTemplates;\n  this._eventBus = eventBus;\n  this._elementTemplates = elementTemplates;\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n    self.reload();\n  });\n}\n\nmodule.exports = ElementTemplatesLoader;\n\nElementTemplatesLoader.$inject = [\n  'config.elementTemplates',\n  'eventBus',\n  'elementTemplates'\n];\n\n\nElementTemplatesLoader.prototype.reload = function() {\n\n  var self = this;\n\n  var loadTemplates = this._loadTemplates;\n\n  // no templates specified\n  if (typeof loadTemplates === 'undefined') {\n    return;\n  }\n\n  // template loader function specified\n  if (typeof loadTemplates === 'function') {\n\n    return loadTemplates(function(err, templates) {\n\n      if (err) {\n        return self.templateErrors([ err ]);\n      }\n\n      self.setTemplates(templates);\n    });\n  }\n\n  // templates array specified\n  if (loadTemplates.length) {\n    return this.setTemplates(loadTemplates);\n  }\n\n};\n\nElementTemplatesLoader.prototype.setTemplates = function(templates) {\n\n  var elementTemplates = this._elementTemplates;\n\n  var validator = new Validator().addAll(templates);\n\n  var errors = validator.getErrors(),\n      validTemplates = validator.getValidTemplates();\n\n  elementTemplates.set(validTemplates);\n\n  if (errors.length) {\n    this.templateErrors(errors);\n  }\n\n  this.templatesChanged();\n};\n\nElementTemplatesLoader.prototype.templatesChanged = function() {\n  this._eventBus.fire('elementTemplates.changed');\n};\n\nElementTemplatesLoader.prototype.templateErrors = function(errors) {\n  this._eventBus.fire('elementTemplates.errors', {\n    errors: errors\n  });\n};","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar fieldInjection = require('./implementation/FieldInjection');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  options = assign({\n    idPrefix: 'listener-',\n    insideListener: true\n  }, options);\n\n  var fieldInjectionEntry = fieldInjection(element, bpmnFactory, translate, options);\n\n  if (fieldInjectionEntry && fieldInjectionEntry.length > 0) {\n    group.entries = group.entries.concat(fieldInjectionEntry);\n  }\n\n};\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","'use strict';\n\nvar nameEntryFactory = require('./implementation/Name'),\n    createCategoryValue = require('../../../helper/CategoryHelper').createCategoryValue,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nmodule.exports = function(group, element, bpmnFactory, canvas, translate) {\n\n  function initializeCategory(semantic) {\n    var rootElement = canvas.getRootElement(),\n        definitions = getBusinessObject(rootElement).$parent,\n        categoryValue = createCategoryValue(definitions, bpmnFactory);\n\n    semantic.categoryValueRef = categoryValue;\n\n  }\n\n  function setGroupName(element, values) {\n    var bo = getBusinessObject(element),\n        categoryValueRef = bo.categoryValueRef;\n\n    if (!categoryValueRef) {\n      initializeCategory(bo);\n    }\n\n    // needs direct call to update categoryValue properly\n    return {\n      cmd: 'element.updateLabel',\n      context: {\n        element: element,\n        newLabel: values.categoryValue\n      }\n    };\n  }\n\n  function getGroupName(element) {\n    var bo = getBusinessObject(element),\n        value = (bo.categoryValueRef || {}).value;\n\n    return { categoryValue: value };\n  }\n\n  if (!is(element, 'bpmn:Collaboration')) {\n\n    var options;\n    if (is(element, 'bpmn:TextAnnotation')) {\n      options = { modelProperty: 'text', label: translate('Text') };\n    } else if (is(element, 'bpmn:Group')) {\n      options = {\n        modelProperty: 'categoryValue',\n        label: translate('Category Value'),\n        get: getGroupName,\n        set: setGroupName\n      };\n    }\n\n    // name\n    group.entries = group.entries.concat(nameEntryFactory(element, options, translate));\n\n  }\n\n};\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var baseRest = require('./_baseRest'),\n    createWrap = require('./_createWrap'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of `thisArg`\n * and `partials` prepended to the arguments it receives.\n *\n * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for partially applied arguments.\n *\n * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n * property of bound functions.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * function greet(greeting, punctuation) {\n *   return greeting + ' ' + this.user + punctuation;\n * }\n *\n * var object = { 'user': 'fred' };\n *\n * var bound = _.bind(greet, object, 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bind(greet, object, _, '!');\n * bound('hi');\n * // => 'hi fred!'\n */\nvar bind = baseRest(function(func, thisArg, partials) {\n  var bitmask = WRAP_BIND_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getHolder(bind));\n    bitmask |= WRAP_PARTIAL_FLAG;\n  }\n  return createWrap(func, bitmask, thisArg, partials, holders);\n});\n\n// Assign default placeholders.\nbind.placeholder = {};\n\nmodule.exports = bind;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\n/**\n * Create an entry to modify the name of an an element.\n *\n * @param  {djs.model.Base} element\n * @param  {Object} options\n * @param  {string} options.id the id of the entry\n * @param  {string} options.label the label of the entry\n *\n * @return {Array<Object>} return an array containing\n *                         the entry to modify the name\n */\nmodule.exports = function(element, options, translate) {\n\n  options = options || {};\n  var id = options.id || 'name',\n      label = options.label || translate('Name'),\n      modelProperty = options.modelProperty || 'name';\n\n  var nameEntry = entryFactory.textBox({\n    id: id,\n    label: label,\n    modelProperty: modelProperty,\n    get: options.get,\n    set: options.set\n  });\n\n  return [ nameEntry ];\n\n};\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","'use strict';\n\nvar values = require('lodash/values');\n\n/**\n * The guy knowing all configured element templates.\n *\n * This registry won't validate. Use the {@link Validator}\n * to verify a template is valid prior to adding it to\n * this registry.\n */\nfunction ElementTemplates() {\n\n  this._templates = {};\n\n  /**\n   * Sets the known element templates.\n   *\n   * @param {Array<TemplateDescriptor>} descriptors\n   *\n   * @return {ElementTemplates}\n   */\n  this.set = function(descriptors) {\n\n    var templates = this._templates = {};\n\n    descriptors.forEach(function(descriptor) {\n      templates[descriptor.id] = descriptor;\n    });\n\n    return this;\n  };\n\n  /**\n   * Get template descriptor with given id.\n   *\n   * @param {String} id\n   *\n   * @return {TemplateDescriptor}\n   */\n  this.get = function(id) {\n    return this._templates[id];\n  };\n\n  /**\n   * Return all known template descriptors.\n   *\n   * @return {Array<TemplateDescriptor>}\n   */\n  this.getAll = function() {\n    return values(this._templates);\n  };\n\n}\n\nmodule.exports = ElementTemplates;","'use strict';\n\nvar CmdHelper = {};\nmodule.exports = CmdHelper;\n\nCmdHelper.updateProperties = function(element, properties) {\n  return {\n    cmd: 'element.updateProperties',\n    context: { element: element, properties: properties }\n  };\n};\n\nCmdHelper.updateBusinessObject = function(element, businessObject, newProperties) {\n  return {\n    cmd: 'properties-panel.update-businessobject',\n    context: {\n      element: element,\n      businessObject: businessObject,\n      properties: newProperties\n    }\n  };\n};\n\nCmdHelper.addElementsTolist = function(element, businessObject, listPropertyName, objectsToAdd) {\n  return {\n    cmd: 'properties-panel.update-businessobject-list',\n    context: {\n      element: element,\n      currentObject: businessObject,\n      propertyName: listPropertyName,\n      objectsToAdd: objectsToAdd\n    }\n  };\n};\n\nCmdHelper.removeElementsFromList = function(element, businessObject, listPropertyName, referencePropertyName, objectsToRemove) {\n\n  return {\n    cmd: 'properties-panel.update-businessobject-list',\n    context: {\n      element: element,\n      currentObject: businessObject,\n      propertyName: listPropertyName,\n      referencePropertyName: referencePropertyName,\n      objectsToRemove: objectsToRemove\n    }\n  };\n};\n\n\nCmdHelper.addAndRemoveElementsFromList = function(element, businessObject, listPropertyName, referencePropertyName, objectsToAdd, objectsToRemove) {\n\n  return {\n    cmd: 'properties-panel.update-businessobject-list',\n    context: {\n      element: element,\n      currentObject: businessObject,\n      propertyName: listPropertyName,\n      referencePropertyName: referencePropertyName,\n      objectsToAdd: objectsToAdd,\n      objectsToRemove: objectsToRemove\n    }\n  };\n};\n\n\nCmdHelper.setList = function(element, businessObject, listPropertyName, updatedObjectList) {\n  return {\n    cmd: 'properties-panel.update-businessobject-list',\n    context: {\n      element: element,\n      currentObject: businessObject,\n      propertyName: listPropertyName,\n      updatedObjectList: updatedObjectList\n    }\n  };\n};\n","'use strict';\n\nvar cmdHelper = require('./CmdHelper'),\n    elementHelper = require('./ElementHelper');\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar ExtensionElementsHelper = {};\n\nvar getExtensionElements = function(bo) {\n  return bo.get('extensionElements');\n};\n\nExtensionElementsHelper.getExtensionElements = function(bo, type) {\n  var extensionElements = getExtensionElements(bo);\n  if (typeof extensionElements !== 'undefined') {\n    var extensionValues = extensionElements.get('values');\n    if (typeof extensionValues !== 'undefined') {\n      var elements = extensionValues.filter(function(value) {\n        return is(value, type);\n      });\n      if (elements.length) {\n        return elements;\n      }\n    }\n  }\n};\n\nExtensionElementsHelper.addEntry = function(bo, element, entry, bpmnFactory) {\n  var extensionElements = bo.get('extensionElements');\n\n  // if there is no extensionElements list, create one\n  if (!extensionElements) {\n    // TODO: Ask Daniel which operation costs more\n    extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [entry] }, bo, bpmnFactory);\n    return { extensionElements : extensionElements };\n  } else {\n    // add new failedJobRetryExtensionElement to existing extensionElements list\n    return cmdHelper.addElementsTolist(element, extensionElements, 'values', [entry]);\n  }\n};\n\nExtensionElementsHelper.removeEntry = function(bo, element, entry) {\n  var extensionElements = bo.get('extensionElements');\n\n  if (!extensionElements) {\n\n    // return an empty command when there is no extensionElements list\n    return {};\n  }\n\n  return cmdHelper.removeElementsFromList(element, extensionElements, 'values', 'extensionElements', [entry]);\n};\n\nmodule.exports = ExtensionElementsHelper;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\n    error = require('./implementation/ErrorEventDefinition');\n\nvar forEach = require('lodash/forEach');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var errorEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:EndEvent'\n  ];\n\n  forEach(errorEvents, function(event) {\n    if (is(element, event)) {\n\n      var errorEventDefinition = eventDefinitionHelper.getErrorEventDefinition(element);\n\n      if (errorEventDefinition) {\n        var isCatchingErrorEvent = is(element, 'bpmn:StartEvent') || is (element, 'bpmn:BoundaryEvent');\n\n        var showErrorCodeVariable = isCatchingErrorEvent,\n            showErrorMessageVariable = isCatchingErrorEvent;\n\n        error(\n          group,\n          element,\n          bpmnFactory,\n          errorEventDefinition,\n          showErrorCodeVariable,\n          showErrorMessageVariable,\n          translate);\n      }\n    }\n  });\n};\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    escapeHTML = require('../../../../Utils').escapeHTML;\n\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar domClasses = require('min-dom').classes;\n\n/**\n * Get a property value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n * @param {string} propertyName\n *\n * @return {any} the property value\n */\nfunction getProperty(element, propertyName) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n  return loopCharacteristics && loopCharacteristics.get(propertyName);\n}\n\n/**\n * Get the body of a given expression.\n *\n * @param {ModdleElement<bpmn:FormalExpression>} expression\n *\n * @return {string} the body (value) of the expression\n */\nfunction getBody(expression) {\n  return expression && expression.get('body');\n}\n\n\n/**\n * Get the loop characteristics of an element.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:MultiInstanceLoopCharacteristics>} the loop characteristics\n */\nfunction getLoopCharacteristics(element) {\n  var bo = getBusinessObject(element);\n  return bo.loopCharacteristics;\n}\n\n/**\n * Get the loop cardinality of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:FormalExpression>} an expression representing the loop cardinality\n */\nfunction getLoopCardinality(element) {\n  return getProperty(element, 'loopCardinality');\n}\n\n/**\n * Get the loop cardinality value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the loop cardinality value\n */\nfunction getLoopCardinalityValue(element) {\n  var loopCardinality = getLoopCardinality(element);\n  return getBody(loopCardinality);\n}\n\n/**\n * Get the completion condition of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:FormalExpression>} an expression representing the completion condition\n */\nfunction getCompletionCondition(element) {\n  return getProperty(element, 'completionCondition');\n}\n\n/**\n * Get the completion condition value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the completion condition value\n */\nfunction getCompletionConditionValue(element) {\n  var completionCondition = getCompletionCondition(element);\n  return getBody(completionCondition);\n}\n\n/**\n * Get the 'activiti:collection' attribute value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the 'activiti:collection' value\n */\nfunction getCollection(element) {\n  return getProperty(element, 'activiti:collection');\n}\n\n/**\n * Get the 'activiti:elementVariable' attribute value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the 'activiti:elementVariable' value\n */\nfunction getElementVariable(element) {\n  return getProperty(element, 'activiti:elementVariable');\n}\n\n\n/**\n * Creates 'bpmn:FormalExpression' element.\n *\n * @param {ModdleElement} parent\n * @param {string} body\n * @param {BpmnFactory} bpmnFactory\n *\n * @result {ModdleElement<bpmn:FormalExpression>} a formal expression\n */\nfunction createFormalExpression(parent, body, bpmnFactory) {\n  return elementHelper.createElement('bpmn:FormalExpression', { body: body }, parent, bpmnFactory);\n}\n\n/**\n * Updates a specific formal expression of the loop characteristics.\n *\n * @param {djs.model.Base} element\n * @param {string} propertyName\n * @param {string} newValue\n * @param {BpmnFactory} bpmnFactory\n */\nfunction updateFormalExpression(element, propertyName, newValue, bpmnFactory) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n\n  var expressionProps = {};\n\n  if (!newValue) {\n    // remove formal expression\n    expressionProps[propertyName] = undefined;\n    return cmdHelper.updateBusinessObject(element, loopCharacteristics, expressionProps);\n  }\n\n  var existingExpression = loopCharacteristics.get(propertyName);\n\n  if (!existingExpression) {\n    // add formal expression\n    expressionProps[propertyName] = createFormalExpression(loopCharacteristics, newValue, bpmnFactory);\n    return cmdHelper.updateBusinessObject(element, loopCharacteristics, expressionProps);\n  }\n\n  // edit existing formal expression\n  return cmdHelper.updateBusinessObject(element, existingExpression, {\n    body: newValue\n  });\n}\n\n\nmodule.exports = function(element, bpmnFactory, translate) {\n\n  var entries = [];\n\n  // error message /////////////////////////////////////////////////////////////////\n\n  entries.push({\n    id: 'multiInstance-errorMessage',\n    html: '<div data-show=\"isValid\">' +\n             '<span class=\"bpp-icon-warning\"></span> ' +\n             escapeHTML(translate('Must provide either loop cardinality or collection')) +\n          '</div>',\n\n    isValid: function(element, node, notification, scope) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n\n      var isValid = true;\n      if (loopCharacteristics) {\n        var loopCardinality = getLoopCardinalityValue(element);\n        var collection = getCollection(element);\n\n        isValid = !loopCardinality && !collection;\n      }\n\n      domClasses(node).toggle('bpp-hidden', !isValid);\n      domClasses(notification).toggle('bpp-error-message', isValid);\n\n      return isValid;\n    }\n  });\n\n  // loop cardinality //////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField({\n    id: 'multiInstance-loopCardinality',\n    label: translate('Loop Cardinality'),\n    modelProperty: 'loopCardinality',\n\n    get: function(element, node) {\n      return {\n        loopCardinality: getLoopCardinalityValue(element)\n      };\n    },\n\n    set: function(element, values) {\n      return updateFormalExpression(element, 'loopCardinality', values.loopCardinality, bpmnFactory);\n    }\n  }));\n\n\n  // collection //////////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField({\n    id: 'multiInstance-collection',\n    label: translate('Collection'),\n    modelProperty: 'collection',\n\n    get: function(element, node) {\n      return {\n        collection: getCollection(element)\n      };\n    },\n\n    set: function(element, values) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n      return cmdHelper.updateBusinessObject(element, loopCharacteristics, {\n        'activiti:collection': values.collection || undefined\n      });\n    },\n\n    validate: function(element, values, node) {\n      var collection = getCollection(element);\n      var elementVariable = getElementVariable(element);\n\n      if (!collection && elementVariable) {\n        return { collection : 'Must provide a value' };\n      }\n    }\n  }));\n\n\n  // element variable ////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField({\n    id: 'multiInstance-elementVariable',\n    label: translate('Element Variable'),\n    modelProperty: 'elementVariable',\n\n    get: function(element, node) {\n      return {\n        elementVariable: getElementVariable(element)\n      };\n    },\n\n    set: function(element, values) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n      return cmdHelper.updateBusinessObject(element, loopCharacteristics, {\n        'activiti:elementVariable': values.elementVariable || undefined\n      });\n    }\n  }));\n\n\n  // Completion Condition //////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField({\n    id: 'multiInstance-completionCondition',\n    label: translate('Completion Condition'),\n    modelProperty: 'completionCondition',\n\n    get: function(element) {\n      return {\n        completionCondition: getCompletionConditionValue(element)\n      };\n    },\n\n    set: function(element, values) {\n      return updateFormalExpression(element, 'completionCondition', values.completionCondition, bpmnFactory);\n    }\n  }));\n\n  return entries;\n\n};\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    getTemplate = require('../Helper').getTemplate,\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementHelper = require('../../../../helper/ElementHelper');\n\nvar findExtension = require('../Helper').findExtension,\n    findExtensions = require('../Helper').findExtensions,\n    findInputParameter = require('../Helper').findInputParameter,\n    findOutputParameter = require('../Helper').findOutputParameter,\n    findActivitiProperty = require('../Helper').findActivitiProperty,\n    findActivitiInOut = require('../Helper').findActivitiInOut;\n\nvar createActivitiProperty = require('../CreateHelper').createActivitiProperty,\n    createInputParameter = require('../CreateHelper').createInputParameter,\n    createOutputParameter = require('../CreateHelper').createOutputParameter,\n    createActivitiIn = require('../CreateHelper').createActivitiIn,\n    createActivitiOut = require('../CreateHelper').createActivitiOut,\n    createActivitiInWithBusinessKey = require('../CreateHelper').createActivitiInWithBusinessKey,\n    createActivitiFieldInjection = require('../CreateHelper').createActivitiFieldInjection;\n\nvar ACTIVITI_PROPERTY_TYPE = 'activiti:property',\n    ACTIVITI_INPUT_PARAMETER_TYPE = 'activiti:inputParameter',\n    ACTIVITI_OUTPUT_PARAMETER_TYPE = 'activiti:outputParameter',\n    ACTIVITI_IN_TYPE = 'activiti:in',\n    ACTIVITI_OUT_TYPE = 'activiti:out',\n    ACTIVITI_IN_BUSINESS_KEY_TYPE = 'activiti:in:businessKey',\n    ACTIVITI_EXECUTION_LISTENER_TYPE = 'activiti:executionListener',\n    ACTIVITI_FIELD = 'activiti:field';\n\nvar BASIC_MODDLE_TYPES = [\n  'Boolean',\n  'Integer',\n  'String'\n];\n\nvar EXTENSION_BINDING_TYPES = [\n  ACTIVITI_PROPERTY_TYPE,\n  ACTIVITI_INPUT_PARAMETER_TYPE,\n  ACTIVITI_OUTPUT_PARAMETER_TYPE,\n  ACTIVITI_IN_TYPE,\n  ACTIVITI_OUT_TYPE,\n  ACTIVITI_IN_BUSINESS_KEY_TYPE,\n  ACTIVITI_FIELD\n];\n\nvar IO_BINDING_TYPES = [\n  ACTIVITI_INPUT_PARAMETER_TYPE,\n  ACTIVITI_OUTPUT_PARAMETER_TYPE\n];\n\nvar IN_OUT_BINDING_TYPES = [\n  ACTIVITI_IN_TYPE,\n  ACTIVITI_OUT_TYPE,\n  ACTIVITI_IN_BUSINESS_KEY_TYPE\n];\n\n/**\n * Injects custom properties into the given group.\n *\n * @param {djs.model.Base} element\n * @param {ElementTemplates} elementTemplates\n * @param {BpmnFactory} bpmnFactory\n * @param {Function} translate\n */\nmodule.exports = function(element, elementTemplates, bpmnFactory, translate) {\n\n  var template = getTemplate(element, elementTemplates);\n\n  if (!template) {\n    return [];\n  }\n\n  var renderCustomField = function(id, p, idx) {\n    var propertyType = p.type;\n\n    var entryOptions = {\n      id: id,\n      description: p.description,\n      label: p.label ? translate(p.label) : p.label,\n      modelProperty: id,\n      get: propertyGetter(id, p),\n      set: propertySetter(id, p, bpmnFactory),\n      validate: propertyValidator(id, p, translate)\n    };\n\n    var entry;\n\n    if (propertyType === 'Boolean') {\n      entry = entryFactory.checkbox(entryOptions);\n    }\n\n    if (propertyType === 'String') {\n      entry = entryFactory.textField(entryOptions);\n    }\n\n    if (propertyType === 'Text') {\n      entry = entryFactory.textBox(entryOptions);\n    }\n\n    if (propertyType === 'Dropdown') {\n      entryOptions.selectOptions = p.choices;\n\n      entry = entryFactory.selectBox(entryOptions);\n    }\n\n    return entry;\n  };\n\n  var groups = [];\n  var id, entry;\n\n  var customFieldsGroup = {\n    id: 'customField',\n    label: translate('Custom Fields'),\n    entries: []\n  };\n  template.properties.forEach(function(p, idx) {\n\n    id = 'custom-' + template.id + '-' + idx;\n\n    entry = renderCustomField(id, p, idx);\n    if (entry) {\n      customFieldsGroup.entries.push(entry);\n    }\n  });\n  if (customFieldsGroup.entries.length > 0) {\n    groups.push(customFieldsGroup);\n  }\n\n  if (template.scopes) {\n    for (var scopeName in template.scopes) {\n\n      var scope = template.scopes[scopeName];\n      var idScopeName = scopeName.replace(/:/g, '_');\n\n      var customScopeFieldsGroup = {\n        id: 'customField-' + idScopeName,\n        label: translate('Custom Fields for scope: ') + scopeName,\n        entries: []\n      };\n\n      scope.properties.forEach(function(p, idx) {\n\n        var propertyId = 'custom-' + template.id + '-' + idScopeName + '-' + idx;\n\n        var scopedProperty = propertyWithScope(p, scopeName);\n\n        entry = renderCustomField(propertyId, scopedProperty, idx);\n        if (entry) {\n          customScopeFieldsGroup.entries.push(entry);\n        }\n      });\n\n      if (customScopeFieldsGroup.entries.length > 0) {\n        groups.push(customScopeFieldsGroup);\n      }\n    }\n  }\n\n  return groups;\n};\n\n\n// getters, setters and validators ///////////////\n\n\n/**\n * Return a getter that retrieves the given property.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n *\n * @return {Function}\n */\nfunction propertyGetter(name, property) {\n\n  /* getter */\n  return function get(element) {\n    var value = getPropertyValue(element, property);\n\n    return objectWithKey(name, value);\n  };\n}\n\n/**\n * Return a setter that updates the given property.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {Function}\n */\nfunction propertySetter(name, property, bpmnFactory) {\n\n  /* setter */\n  return function set(element, values) {\n\n    var value = values[name];\n\n    return setPropertyValue(element, property, value, bpmnFactory);\n  };\n}\n\n/**\n * Return a validator that ensures the property is ok.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n * @param {Function} translate\n *\n * @return {Function}\n */\nfunction propertyValidator(name, property, translate) {\n\n  /* validator */\n  return function validate(element, values) {\n    var value = values[name];\n\n    var error = validateValue(value, property, translate);\n\n    if (error) {\n      return objectWithKey(name, error);\n    }\n  };\n}\n\n\n// get, set and validate helpers ///////////////////\n\n/**\n * Return the value of the specified property descriptor,\n * on the passed diagram element.\n *\n * @param {djs.model.Base} element\n * @param {PropertyDescriptor} property\n *\n * @return {Any}\n */\nfunction getPropertyValue(element, property) {\n\n  var bo = getBusinessObject(element);\n\n  var binding = property.binding,\n      scope = property.scope;\n\n  var bindingType = binding.type,\n      bindingName = binding.name;\n\n  var propertyValue = property.value || '';\n\n  if (scope) {\n    bo = findExtension(bo, scope.name);\n    if (!bo) {\n      return propertyValue;\n    }\n  }\n\n  // property\n  if (bindingType === 'property') {\n\n    var value = bo.get(bindingName);\n\n    if (bindingName === 'conditionExpression') {\n      if (value) {\n        return value.body;\n      } else {\n        // return defined default\n        return propertyValue;\n      }\n    } else {\n      // return value; default to defined default\n      return typeof value !== 'undefined' ? value : propertyValue;\n    }\n  }\n\n  var activitiProperties,\n      activitiProperty;\n\n  if (bindingType === ACTIVITI_PROPERTY_TYPE) {\n    if (scope) {\n      activitiProperties = bo.get('properties');\n    } else {\n      activitiProperties = findExtension(bo, 'activiti:Properties');\n    }\n\n    if (activitiProperties) {\n      activitiProperty = findActivitiProperty(activitiProperties, binding);\n\n      if (activitiProperty) {\n        return activitiProperty.value;\n      }\n    }\n\n    return propertyValue;\n  }\n\n  var inputOutput,\n      ioParameter;\n\n  if (IO_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    if (scope) {\n      inputOutput = bo.get('inputOutput');\n    } else {\n      inputOutput = findExtension(bo, 'activiti:InputOutput');\n    }\n\n    if (!inputOutput) {\n      // ioParameter cannot exist yet, return property value\n      return propertyValue;\n    }\n  }\n\n  // activiti input parameter\n  if (bindingType === ACTIVITI_INPUT_PARAMETER_TYPE) {\n    ioParameter = findInputParameter(inputOutput, binding);\n\n    if (ioParameter) {\n      if (binding.scriptFormat) {\n        if (ioParameter.definition) {\n          return ioParameter.definition.value;\n        }\n      } else {\n        return ioParameter.value || '';\n      }\n    }\n\n    return propertyValue;\n  }\n\n  // activiti output parameter\n  if (binding.type === ACTIVITI_OUTPUT_PARAMETER_TYPE) {\n    ioParameter = findOutputParameter(inputOutput, binding);\n\n    if (ioParameter) {\n      return ioParameter.name;\n    }\n\n    return propertyValue;\n  }\n\n\n  var ioElement;\n\n  if (IN_OUT_BINDING_TYPES.indexOf(bindingType) != -1) {\n    ioElement = findActivitiInOut(bo, binding);\n\n    if (ioElement) {\n      if (bindingType === ACTIVITI_IN_BUSINESS_KEY_TYPE) {\n        return ioElement.businessKey;\n      } else\n      if (bindingType === ACTIVITI_OUT_TYPE) {\n        return ioElement.target;\n      } else\n      if (bindingType === ACTIVITI_IN_TYPE) {\n        return ioElement[binding.expression ? 'sourceExpression' : 'source'];\n      }\n    }\n\n    return propertyValue;\n  }\n\n  if (bindingType === ACTIVITI_EXECUTION_LISTENER_TYPE) {\n    var executionListener;\n    if (scope) {\n      executionListener = bo.get('executionListener');\n    } else {\n      executionListener = findExtension(bo, 'activiti:ExecutionListener');\n    }\n\n    return executionListener.script.value;\n  }\n\n  var fieldInjection;\n  if (ACTIVITI_FIELD === bindingType) {\n    var fieldInjections = findExtensions(bo, [ 'activiti:Field' ]);\n    fieldInjections.forEach(function(item) {\n      if (item.name === binding.name) {\n        fieldInjection = item;\n      }\n    });\n    if (fieldInjection) {\n      return fieldInjection.string || fieldInjection.expression;\n    } else {\n      return '';\n    }\n  }\n\n  throw unknownPropertyBinding(property);\n}\n\nmodule.exports.getPropertyValue = getPropertyValue;\n\n\n/**\n * Return an update operation that changes the diagram\n * element's custom property to the given value.\n *\n * The response of this method will be processed via\n * {@link PropertiesPanel#applyChanges}.\n *\n * @param {djs.model.Base} element\n * @param {PropertyDescriptor} property\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {Object|Array<Object>} results to be processed\n */\nfunction setPropertyValue(element, property, value, bpmnFactory) {\n  var bo = getBusinessObject(element);\n\n  var binding = property.binding,\n      scope = property.scope;\n\n  var bindingType = binding.type,\n      bindingName = binding.name;\n\n  var propertyValue;\n\n  var updates = [];\n\n  var extensionElements;\n\n  if (EXTENSION_BINDING_TYPES.indexOf(bindingType) !== -1) {\n    extensionElements = bo.get('extensionElements');\n\n    // create extension elements, if they do not exist (yet)\n    if (!extensionElements) {\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', null, element, bpmnFactory);\n\n      updates.push(cmdHelper.updateBusinessObject(\n        element, bo, objectWithKey('extensionElements', extensionElements)\n      ));\n    }\n  }\n\n  if (scope) {\n    bo = findExtension(bo, scope.name);\n    if (!bo) {\n      bo = elementHelper.createElement(scope.name, null, element, bpmnFactory);\n\n      updates.push(cmdHelper.addElementsTolist(\n        bo, extensionElements, 'values', [ bo ]\n      ));\n    }\n  }\n\n  // property\n  if (bindingType === 'property') {\n\n    if (bindingName === 'conditionExpression') {\n\n      propertyValue = elementHelper.createElement('bpmn:FormalExpression', {\n        body: value,\n        language: binding.scriptFormat\n      }, bo, bpmnFactory);\n    } else {\n\n      var moddlePropertyDescriptor = bo.$descriptor.propertiesByName[bindingName];\n\n      var moddleType = moddlePropertyDescriptor.type;\n\n      // make sure we only update String, Integer, Real and\n      // Boolean properties (do not accidentally override complex objects...)\n      if (BASIC_MODDLE_TYPES.indexOf(moddleType) === -1) {\n        throw new Error('cannot set moddle type <' + moddleType + '>');\n      }\n\n      if (moddleType === 'Boolean') {\n        propertyValue = !!value;\n      } else\n      if (moddleType === 'Integer') {\n        propertyValue = parseInt(value, 10);\n\n        if (isNaN(propertyValue)) {\n          // do not write NaN value\n          propertyValue = undefined;\n        }\n      } else {\n        propertyValue = value;\n      }\n    }\n\n    if (propertyValue !== undefined) {\n      updates.push(cmdHelper.updateBusinessObject(\n        element, bo, objectWithKey(bindingName, propertyValue)\n      ));\n    }\n  }\n\n  // activiti:property\n  var activitiProperties,\n      existingActivitiProperty,\n      newActivitiProperty;\n\n  if (bindingType === ACTIVITI_PROPERTY_TYPE) {\n\n    if (scope) {\n      activitiProperties = bo.get('properties');\n    } else {\n      activitiProperties = findExtension(extensionElements, 'activiti:Properties');\n    }\n\n    if (!activitiProperties) {\n      activitiProperties = elementHelper.createElement('activiti:Properties', null, bo, bpmnFactory);\n\n      if (scope) {\n        updates.push(cmdHelper.updateBusinessObject(\n          element, bo, { properties: activitiProperties }\n        ));\n      }\n      else {\n        updates.push(cmdHelper.addElementsTolist(\n          element, extensionElements, 'values', [ activitiProperties ]\n        ));\n      }\n    }\n\n    existingActivitiProperty = findActivitiProperty(activitiProperties, binding);\n\n    newActivitiProperty = createActivitiProperty(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      activitiProperties,\n      'values',\n      null,\n      [ newActivitiProperty ],\n      existingActivitiProperty ? [ existingActivitiProperty ] : []\n    ));\n  }\n\n  // activiti:inputParameter\n  // activiti:outputParameter\n  var inputOutput,\n      existingIoParameter,\n      newIoParameter;\n\n  if (IO_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    if (scope) {\n      inputOutput = bo.get('inputOutput');\n    } else {\n      inputOutput = findExtension(extensionElements, 'activiti:InputOutput');\n    }\n\n    // create inputOutput element, if it do not exist (yet)\n    if (!inputOutput) {\n      inputOutput = elementHelper.createElement('activiti:InputOutput', null, bo, bpmnFactory);\n\n      if (scope) {\n        updates.push(cmdHelper.updateBusinessObject(\n          element, bo, { inputOutput: inputOutput }\n        ));\n      }\n      else {\n        updates.push(cmdHelper.addElementsTolist(\n          element, extensionElements, 'values', inputOutput\n        ));\n      }\n    }\n  }\n\n  if (bindingType === ACTIVITI_INPUT_PARAMETER_TYPE) {\n\n    existingIoParameter = findInputParameter(inputOutput, binding);\n\n    newIoParameter = createInputParameter(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      inputOutput,\n      'inputParameters',\n      null,\n      [ newIoParameter ],\n      existingIoParameter ? [ existingIoParameter ] : []\n    ));\n  }\n\n  if (bindingType === ACTIVITI_OUTPUT_PARAMETER_TYPE) {\n\n    existingIoParameter = findOutputParameter(inputOutput, binding);\n\n    newIoParameter = createOutputParameter(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      inputOutput,\n      'outputParameters',\n      null,\n      [ newIoParameter ],\n      existingIoParameter ? [ existingIoParameter ] : []\n    ));\n  }\n\n\n  // activiti:in\n  // activiti:out\n  // activiti:in:businessKey\n  var existingInOut,\n      newInOut;\n\n  if (IN_OUT_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    existingInOut = findActivitiInOut(bo, binding);\n\n    if (bindingType === ACTIVITI_IN_TYPE) {\n      newInOut = createActivitiIn(binding, value, bpmnFactory);\n    } else\n    if (bindingType === ACTIVITI_OUT_TYPE) {\n      newInOut = createActivitiOut(binding, value, bpmnFactory);\n    } else {\n      newInOut = createActivitiInWithBusinessKey(binding, value, bpmnFactory);\n    }\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      null,\n      [ newInOut ],\n      existingInOut ? [ existingInOut ] : []\n    ));\n  }\n\n  if (bindingType === ACTIVITI_FIELD) {\n    var existingFieldInjections = findExtensions(bo, [ 'activiti:Field' ]);\n    var newFieldInjections = [];\n\n    if (existingFieldInjections.length > 0) {\n      existingFieldInjections.forEach(function(item) {\n        if (item.name === binding.name) {\n          newFieldInjections.push(createActivitiFieldInjection(binding, value, bpmnFactory));\n        } else {\n          newFieldInjections.push(item);\n        }\n      });\n    } else {\n      newFieldInjections.push(createActivitiFieldInjection(binding, value, bpmnFactory));\n    }\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      null,\n      newFieldInjections,\n      existingFieldInjections ? existingFieldInjections : []\n    ));\n  }\n\n  if (updates.length) {\n    return updates;\n  }\n\n  // quick warning for better debugging\n  console.warn('no update', element, property, value);\n}\n\nmodule.exports.setPropertyValue = setPropertyValue;\n\n/**\n * Validate value of a given property.\n *\n * @param {String} value\n * @param {PropertyDescriptor} property\n * @param {Function} translate\n *\n * @return {Object} with validation errors\n */\nfunction validateValue(value, property, translate) {\n\n  var constraints = property.constraints || {};\n\n  if (constraints.notEmpty && isEmpty(value)) {\n    return translate('Must not be empty');\n  }\n\n  if (constraints.maxLength && value.length > constraints.maxLength) {\n    return translate('Must have max length {length}', { length: constraints.maxLength });\n  }\n\n  if (constraints.minLength && value.length < constraints.minLength) {\n    return translate('Must have min length {length}', { length: constraints.minLength });\n  }\n\n  var pattern = constraints.pattern,\n      message;\n\n  if (pattern) {\n\n    if (typeof pattern !== 'string') {\n      message = pattern.message;\n      pattern = pattern.value;\n    }\n\n    if (!matchesPattern(value, pattern)) {\n      return message || translate('Must match pattern {pattern}', { pattern: pattern });\n    }\n  }\n}\n\n\n// misc helpers ///////////////////////////////\n\nfunction propertyWithScope(property, scopeName) {\n  if (!scopeName) {\n    return property;\n  }\n\n  return assign({}, property, {\n    scope: {\n      name: scopeName\n    }\n  });\n}\n\n/**\n * Return an object with a single key -> value association.\n *\n * @param {String} key\n * @param {Any} value\n *\n * @return {Object}\n */\nfunction objectWithKey(key, value) {\n  var obj = {};\n\n  obj[key] = value;\n\n  return obj;\n}\n\n/**\n * Does the given string match the specified pattern?\n *\n * @param {String} str\n * @param {String} pattern\n *\n * @return {Boolean}\n */\nfunction matchesPattern(str, pattern) {\n  var regexp = new RegExp(pattern);\n\n  return regexp.test(str);\n}\n\nfunction isEmpty(str) {\n  return !str || /^\\s*$/.test(str);\n}\n\n/**\n * Create a new {@link Error} indicating an unknown\n * property binding.\n *\n * @param {PropertyDescriptor} property\n *\n * @return {Error}\n */\nfunction unknownPropertyBinding(property) {\n  var binding = property.binding;\n\n  return new Error('unknown binding: <' + binding.type + '>');\n}\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    entryFactory = require('../../../factory/EntryFactory');\n\n\nmodule.exports = function(group, element, translate) {\n  if (is(element, 'camunda:Assignable')) {\n\n    // Assignee\n    group.entries.push(entryFactory.textField({\n      id : 'assignee',\n      label : translate('Assignee'),\n      modelProperty : 'assignee'\n    }));\n\n    // Candidate Users\n    group.entries.push(entryFactory.textField({\n      id : 'candidateUsers',\n      label : translate('Candidate Users'),\n      modelProperty : 'candidateUsers'\n    }));\n\n    // Candidate Groups\n    group.entries.push(entryFactory.textField({\n      id : 'candidateGroups',\n      label : translate('Candidate Groups'),\n      modelProperty : 'candidateGroups'\n    }));\n\n    // Due Date\n    group.entries.push(entryFactory.textField({\n      id : 'dueDate',\n      description : translate('The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)'),\n      label : translate('Due Date'),\n      modelProperty : 'dueDate'\n    }));\n\n    // FollowUp Date\n    group.entries.push(entryFactory.textField({\n      id : 'followUpDate',\n      description : translate('The follow up date as an EL expression (e.g. ${someDate} or an ' +\n                    'ISO date (e.g. 2015-06-26T09:54:00)'),\n      label : translate('Follow Up Date'),\n      modelProperty : 'followUpDate'\n    }));\n\n    // priority\n    group.entries.push(entryFactory.textField({\n      id : 'priority',\n      label : translate('Priority'),\n      modelProperty : 'priority'\n    }));\n  }\n};\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","'use strict';\n\nvar listener = require('./implementation/Listener');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var listenerEntry = listener(element, bpmnFactory, {}, translate);\n\n  group.entries = group.entries.concat(listenerEntry.entries);\n\n  return {\n    getSelectedListener: listenerEntry.getSelectedListener\n  };\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject,\n      hideResultVariable = options.hideResultVariable,\n      id = options.id || 'resultVariable';\n\n\n  var resultVariableEntry = entryFactory.textField({\n    id: id,\n    label: translate('Result Variable'),\n    modelProperty: 'resultVariable',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { resultVariable: bo.get('activiti:resultVariable') };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n\n      var resultVariable = values.resultVariable || undefined;\n\n      var props = {\n        'activiti:resultVariable': resultVariable\n      };\n\n      if (is(bo, 'activiti:DmnCapable') && !resultVariable) {\n        props = assign({ 'activiti:mapDecisionResult': 'resultList' }, props);\n      }\n\n      return cmdHelper.updateBusinessObject(element, bo, props);\n    },\n\n    hidden: function(element, node) {\n      if (typeof hideResultVariable === 'function') {\n        return hideResultVariable.apply(resultVariableEntry, arguments);\n      }\n    }\n\n  });\n\n  return [ resultVariableEntry ];\n\n};\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    utils = require('../../../Utils'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nmodule.exports = function(group, element, translate, options) {\n\n  var description = options && options.description;\n\n  // Id\n  group.entries.push(entryFactory.validationAwareTextField({\n    id: 'id',\n    label: translate('Id'),\n    description: description && translate(description),\n    modelProperty: 'id',\n    getProperty: function(element) {\n      return getBusinessObject(element).id;\n    },\n    setProperty: function(element, properties) {\n\n      element = element.labelTarget || element;\n\n      return cmdHelper.updateProperties(element, properties);\n    },\n    validate: function(element, values) {\n      var idValue = values.id;\n\n      var bo = getBusinessObject(element);\n\n      var idError = utils.isIdValid(bo, idValue, translate);\n\n      return idError ? { id: idError } : {};\n    }\n  }));\n\n};\n","'use strict';\n\nvar domQuery = require('min-dom').query,\n    domClear = require('min-dom').clear,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    forEach = require('lodash/forEach'),\n    domify = require('min-dom').domify,\n    Ids = require('ids').default;\n\nvar SPACE_REGEX = /\\s/;\n\n// for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\nvar QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i;\n\n// for ID validation as per BPMN Schema (QName - Namespace)\nvar ID_REGEX = /^[a-z_][\\w-.]*$/i;\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\nfunction selectedOption(selectBox) {\n  if (selectBox.selectedIndex >= 0) {\n    return selectBox.options[selectBox.selectedIndex].value;\n  }\n}\n\nmodule.exports.selectedOption = selectedOption;\n\n\nfunction selectedType(elementSyntax, inputNode) {\n  var typeSelect = domQuery(elementSyntax, inputNode);\n  return selectedOption(typeSelect);\n}\n\nmodule.exports.selectedType = selectedType;\n\n\n/**\n * Retrieve the root element the document this\n * business object is contained in.\n *\n * @return {ModdleElement}\n */\nfunction getRoot(businessObject) {\n  var parent = businessObject;\n  while (parent.$parent) {\n    parent = parent.$parent;\n  }\n  return parent;\n}\n\nmodule.exports.getRoot = getRoot;\n\n\n/**\n * filters all elements in the list which have a given type.\n * removes a new list\n */\nfunction filterElementsByType(objectList, type) {\n  var list = objectList || [];\n  var result = [];\n  forEach(list, function(obj) {\n    if (is(obj, type)) {\n      result.push(obj);\n    }\n  });\n  return result;\n}\n\nmodule.exports.filterElementsByType = filterElementsByType;\n\n\nfunction findRootElementsByType(businessObject, referencedType) {\n  var root = getRoot(businessObject);\n\n  return filterElementsByType(root.rootElements, referencedType);\n}\n\nmodule.exports.findRootElementsByType = findRootElementsByType;\n\n\nfunction removeAllChildren(domElement) {\n  while (domElement.firstChild) {\n    domElement.removeChild(domElement.firstChild);\n  }\n}\n\nmodule.exports.removeAllChildren = removeAllChildren;\n\n\n/**\n * adds an empty option to the list\n */\nfunction addEmptyParameter(list) {\n  return list.push({ 'label': '', 'value': '', 'name': '' });\n}\n\nmodule.exports.addEmptyParameter = addEmptyParameter;\n\n\n/**\n * returns a list with all root elements for the given parameter 'referencedType'\n */\nfunction refreshOptionsModel(businessObject, referencedType) {\n  var model = [];\n  var referableObjects = findRootElementsByType(businessObject, referencedType);\n  forEach(referableObjects, function(obj) {\n    model.push({\n      label: (obj.name || '') + ' (id='+obj.id+')',\n      value: obj.id,\n      name: obj.name\n    });\n  });\n  return model;\n}\n\nmodule.exports.refreshOptionsModel = refreshOptionsModel;\n\n\n/**\n * fills the drop down with options\n */\nfunction updateOptionsDropDown(domSelector, businessObject, referencedType, entryNode) {\n  var options = refreshOptionsModel(businessObject, referencedType);\n  addEmptyParameter(options);\n  var selectBox = domQuery(domSelector, entryNode);\n  domClear(selectBox);\n\n  forEach(options, function(option) {\n    var optionEntry = domify('<option value=\"' + escapeHTML(option.value) + '\">' + escapeHTML(option.label) + '</option>');\n    selectBox.appendChild(optionEntry);\n  });\n  return options;\n}\n\nmodule.exports.updateOptionsDropDown = updateOptionsDropDown;\n\n\n/**\n * checks whether the id value is valid\n *\n * @param {ModdleElement} bo\n * @param {String} idValue\n * @param {Function} translate\n *\n * @return {String} error message\n */\nfunction isIdValid(bo, idValue, translate) {\n  var assigned = bo.$model.ids.assigned(idValue);\n\n  var idExists = assigned && assigned !== bo;\n\n  if (!idValue || idExists) {\n    return translate('Element must have an unique id.');\n  }\n\n  return validateId(idValue, translate);\n}\n\nmodule.exports.isIdValid = isIdValid;\n\n\nfunction validateId(idValue, translate) {\n\n  if (containsSpace(idValue)) {\n    return translate('Id must not contain spaces.');\n  }\n\n  if (!ID_REGEX.test(idValue)) {\n\n    if (QNAME_REGEX.test(idValue)) {\n      return translate('Id must not contain prefix.');\n    }\n\n    return translate('Id must be a valid QName.');\n  }\n}\n\nmodule.exports.validateId = validateId;\n\n\nfunction containsSpace(value) {\n  return SPACE_REGEX.test(value);\n}\n\nmodule.exports.containsSpace = containsSpace;\n\n/**\n * generate a semantic id with given prefix\n */\nfunction nextId(prefix) {\n  var ids = new Ids([32,32,1]);\n\n  return ids.nextPrefixed(prefix);\n}\n\nmodule.exports.nextId = nextId;\n\n\nfunction triggerClickEvent(element) {\n  var evt;\n  var eventType = 'click';\n\n  if (document.createEvent) {\n    try {\n      // Chrome, Safari, Firefox\n      evt = new MouseEvent((eventType), { view: window, bubbles: true, cancelable: true });\n    } catch (e) {\n      // IE 11, PhantomJS (wat!)\n      evt = document.createEvent('MouseEvent');\n\n      evt.initEvent((eventType), true, true);\n    }\n    return element.dispatchEvent(evt);\n  } else {\n    // Welcome IE\n    evt = document.createEventObject();\n\n    return element.fireEvent('on' + eventType, evt);\n  }\n}\n\nmodule.exports.triggerClickEvent = triggerClickEvent;\n\n\nfunction escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n\nmodule.exports.escapeHTML = escapeHTML;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","'use strict';\n\nvar cmdHelper = require('../../../../helper/CmdHelper'),\n    entryFactory = require('../../../../factory/EntryFactory'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper');\n\n\nvar resultVariable = require('./ResultVariable');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar forEach = require('lodash/forEach');\n\nvar attributeInfo = {\n  bpmn: {\n    element: 'calledElement',\n    binding: 'activiti:calledElementBinding',\n    version: 'activiti:calledElementVersion',\n    versionTag: 'activiti:calledElementVersionTag',\n    tenantId: 'activiti:calledElementTenantId'\n  },\n\n  cmmn: {\n    element: 'activiti:caseRef',\n    binding: 'activiti:caseBinding',\n    version: 'activiti:caseVersion',\n    tenantId: 'activiti:caseTenantId'\n  },\n\n  dmn: {\n    element: 'activiti:decisionRef',\n    binding: 'activiti:decisionRefBinding',\n    version: 'activiti:decisionRefVersion',\n    versionTag: 'activiti:decisionRefVersionTag',\n    tenantId: 'activiti:decisionRefTenantId'\n  }\n};\n\nvar mapDecisionResultOptions = [\n  {\n    name: 'singleEntry (TypedValue)',\n    value: 'singleEntry'\n  },\n  {\n    name:'singleResult (Map<String, Object>)',\n    value:'singleResult'\n  },\n  {\n    name:'collectEntries (List<Object>)',\n    value:'collectEntries'\n  },\n  {\n    name:'resultList (List<Map<String, Object>>)',\n    value:'resultList'\n  }\n];\n\nvar delegateVariableMappingOptions = [\n  {\n    name: 'variableMappingClass',\n    value: 'variableMappingClass'\n  },\n  {\n    name: 'variableMappingDelegateExpression',\n    value: 'variableMappingDelegateExpression'\n  }\n];\n\nfunction getActivitiInWithBusinessKey(element) {\n  var activitiIn = [],\n      bo = getBusinessObject(element);\n\n  var activitiInParams = extensionElementsHelper.getExtensionElements(bo, 'activiti:In');\n  if (activitiInParams) {\n    forEach(activitiInParams, function(param) {\n      if (param.businessKey !== undefined) {\n        activitiIn.push(param);\n      }\n    });\n  }\n  return activitiIn;\n}\n\nfunction setBusinessKey(element, text, bpmnFactory) {\n  var commands = [];\n\n  var activitiInWithBusinessKey = getActivitiInWithBusinessKey(element);\n\n  if (activitiInWithBusinessKey.length) {\n    commands.push(cmdHelper.updateBusinessObject(element, activitiInWithBusinessKey[0], {\n      businessKey: text\n    }));\n  } else {\n    var bo = getBusinessObject(element),\n        extensionElements = bo.extensionElements;\n\n    if (!extensionElements) {\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n      commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));\n    }\n\n    var activitiIn = elementHelper.createElement(\n      'activiti:In',\n      { 'businessKey': text },\n      extensionElements,\n      bpmnFactory\n    );\n\n    commands.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      'extensionElements',\n      [ activitiIn ],[]\n    ));\n  }\n\n  return commands;\n}\n\nfunction deleteBusinessKey(element) {\n  var activitiInExtensions = getActivitiInWithBusinessKey(element);\n  var commands = [];\n  forEach(activitiInExtensions, function(elem) {\n    commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, elem));\n  });\n  return commands;\n}\n\nfunction isSupportedCallableType(type) {\n  return [ 'bpmn', 'cmmn', 'dmn' ].indexOf(type) !== -1;\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var bindingOptions = [\n    {\n      name: translate('latest'),\n      value: 'latest'\n    },\n    {\n      name: translate('deployment'),\n      value: 'deployment'\n    },\n    {\n      name: translate('version'),\n      value: 'version'\n    },\n    {\n      name: translate('versionTag'),\n      value: 'versionTag'\n    }\n  ];\n\n  var getCallableType = options.getCallableType;\n\n  var entries = [];\n\n  function getAttribute(element, prop) {\n    var type = getCallableType(element);\n    return (attributeInfo[type] || {})[prop];\n  }\n\n  function getCallActivityBindingValue(element) {\n    var type = getCallableType(element);\n    var bo = getBusinessObject(element);\n    var attr = (attributeInfo[type] || {}).binding;\n    return bo.get(attr);\n  }\n\n  function getDelegateVariableMappingType(element) {\n    var bo = getBusinessObject(element);\n\n    var boVariableMappingClass = bo.get('activiti:variableMappingClass'),\n        boVariableMappingDelegateExpression = bo.get('activiti:variableMappingDelegateExpression');\n\n    var delegateVariableMappingType = '';\n    if (typeof boVariableMappingClass !== 'undefined') {\n      delegateVariableMappingType = 'variableMappingClass';\n    } else\n\n    if (typeof boVariableMappingDelegateExpression !== 'undefined') {\n      delegateVariableMappingType = 'variableMappingDelegateExpression';\n    }\n\n    return delegateVariableMappingType;\n  }\n\n\n  entries.push(entryFactory.textField({\n    id: 'callable-element-ref',\n    dataValueLabel: 'callableElementLabel',\n    modelProperty: 'callableElementRef',\n\n    get: function(element, node) {\n      var callableElementRef;\n\n      var attr = getAttribute(element, 'element');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableElementRef = bo.get(attr);\n      }\n\n      var label = '';\n      var type = getCallableType(element);\n      if (type === 'bpmn') {\n        label = translate('Called Element');\n      }\n      else if (type === 'cmmn') {\n        label = translate('Case Ref');\n      }\n      else if (type === 'dmn') {\n        label = translate('Decision Ref');\n      }\n\n      return {\n        callableElementRef: callableElementRef,\n        callableElementLabel: label\n      };\n    },\n\n    set: function(element, values, node) {\n      var newCallableElementRef = values.callableElementRef;\n      var attr = getAttribute(element, 'element');\n\n      var props = {};\n      props[attr] = newCallableElementRef || '';\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var elementRef = values.callableElementRef;\n      var type = getCallableType(element);\n      return isSupportedCallableType(type) && !elementRef ? { callableElementRef: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isSupportedCallableType(getCallableType(element));\n    }\n\n  }));\n\n  entries.push(entryFactory.selectBox({\n    id: 'callable-binding',\n    label: translate('Binding'),\n    selectOptions: function(element) {\n      var type = getCallableType(element);\n      var options;\n\n      if (type === 'cmmn') {\n        options = bindingOptions.filter(function(bindingOption) {\n          return bindingOption.value !== 'versionTag';\n        });\n      } else {\n        options = bindingOptions;\n      }\n      return options;\n    },\n    modelProperty: 'callableBinding',\n\n    get: function(element, node) {\n      var callableBinding;\n\n      var attr = getAttribute(element, 'binding');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableBinding = bo.get(attr) || 'latest';\n      }\n\n      return {\n        callableBinding: callableBinding\n      };\n    },\n\n    set: function(element, values, node) {\n      var binding = values.callableBinding;\n      var attr = getAttribute(element, 'binding'),\n          attrVer = getAttribute(element, 'version'),\n          attrVerTag = getAttribute(element, 'versionTag');\n\n      var props = {};\n      props[attr] = binding;\n\n      // set version and versionTag values always to undefined to delete the existing value\n      props[attrVer] = undefined;\n      props[attrVerTag] = undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      return !isSupportedCallableType(getCallableType(element));\n    }\n\n  }));\n\n  entries.push(entryFactory.textField({\n    id: 'callable-version',\n    label: translate('Version'),\n    modelProperty: 'callableVersion',\n\n    get: function(element, node) {\n      var callableVersion;\n\n      var attr = getAttribute(element, 'version');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        callableVersion = bo.get(attr);\n      }\n\n      return {\n        callableVersion: callableVersion\n      };\n    },\n\n    set: function(element, values, node) {\n      var version = values.callableVersion;\n      var attr = getAttribute(element, 'version');\n\n      var props = {};\n      props[attr] = version || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var version = values.callableVersion;\n\n      var type = getCallableType(element);\n      return (\n        isSupportedCallableType(type) &&\n        getCallActivityBindingValue(element) === 'version' && (\n          !version ? { callableVersion: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n      return !isSupportedCallableType(type) || getCallActivityBindingValue(element) !== 'version';\n    }\n\n  }));\n\n  entries.push(entryFactory.textField({\n    id: 'callable-version-tag',\n    label: translate('Version Tag'),\n    modelProperty: 'versionTag',\n\n    get: function(element, node) {\n      var versionTag;\n\n      var attr = getAttribute(element, 'versionTag');\n\n      if (attr) {\n        var bo = getBusinessObject(element);\n\n        versionTag = bo.get(attr);\n      }\n\n      return {\n        versionTag: versionTag\n      };\n    },\n\n    set: function(element, values, node) {\n      var versionTag = values.versionTag;\n\n      var attr = getAttribute(element, 'versionTag');\n\n      var props = {};\n\n      props[attr] = versionTag || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var versionTag = values.versionTag;\n\n      var type = getCallableType(element);\n\n      return (\n        isSupportedCallableType(type) &&\n        getCallActivityBindingValue(element) === 'versionTag' && (\n          !versionTag ? { versionTag: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n\n      return !isSupportedCallableType(type) || getCallActivityBindingValue(element) !== 'versionTag';\n    }\n\n  }));\n\n  entries.push(entryFactory.textField({\n    id: 'tenant-id',\n    label: translate('Tenant Id'),\n    modelProperty: 'tenantId',\n\n    get: function(element, node) {\n      var tenantId;\n\n      var attr = getAttribute(element, 'tenantId');\n      if (attr) {\n        var bo = getBusinessObject(element);\n        tenantId = bo.get(attr);\n      }\n\n      return {\n        tenantId: tenantId\n      };\n    },\n\n    set: function(element, values, node) {\n      var tenantId = values.tenantId;\n      var attr = getAttribute(element, 'tenantId');\n\n      var props = {};\n      props[attr] = tenantId || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      var type = getCallableType(element);\n      return !isSupportedCallableType(type);\n    }\n\n  }));\n\n  if (is(getBusinessObject(element), 'bpmn:CallActivity')) {\n    entries.push(entryFactory.checkbox({\n      id: 'callable-business-key',\n      label: translate('Business Key'),\n      modelProperty: 'callableBusinessKey',\n\n      get: function(element, node) {\n        var activitiIn = getActivitiInWithBusinessKey(element);\n\n        return {\n          callableBusinessKey: !!(activitiIn && activitiIn.length > 0)\n        };\n      },\n\n      set: function(element, values, node) {\n        if (values.callableBusinessKey) {\n          return setBusinessKey(element, '#{execution.processBusinessKey}', bpmnFactory);\n        } else {\n          return deleteBusinessKey(element);\n        }\n      }\n    }));\n  }\n\n  entries.push(entryFactory.textField({\n    id: 'business-key-expression',\n    label: translate('Business Key Expression'),\n    modelProperty: 'businessKey',\n\n    get: function(element, node) {\n      var activitiInWithBusinessKey = getActivitiInWithBusinessKey(element);\n\n      return {\n        businessKey: (\n          activitiInWithBusinessKey.length ?\n            activitiInWithBusinessKey[0].get('activiti:businessKey') :\n            undefined\n        )\n      };\n    },\n\n    set: function(element, values, node) {\n      var businessKey = values.businessKey;\n\n      return setBusinessKey(element, businessKey, bpmnFactory);\n    },\n\n    validate: function(element, values, node) {\n      var businessKey = values.businessKey;\n\n      return businessKey === '' ? { businessKey: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !getActivitiInWithBusinessKey(element).length;\n    }\n\n  }));\n\n  entries = entries.concat(resultVariable(element, bpmnFactory, {\n    id: 'dmn-resultVariable',\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getCallableType,\n    hideResultVariable: function(element, node) {\n      return getCallableType(element) !== 'dmn';\n    }\n  }, translate));\n\n  entries.push(entryFactory.selectBox({\n    id: 'dmn-map-decision-result',\n    label: translate('Map Decision Result'),\n    selectOptions: mapDecisionResultOptions,\n    modelProperty: 'mapDecisionResult',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        mapDecisionResult: bo.get('activiti:mapDecisionResult') || 'resultList'\n      };\n    },\n\n    set: function(element, values, node) {\n      return cmdHelper.updateProperties(element, {\n        'activiti:mapDecisionResult': values.mapDecisionResult || 'resultList'\n      });\n    },\n\n    hidden: function(element, node) {\n      var bo = getBusinessObject(element);\n      var resultVariable = bo.get('activiti:resultVariable');\n      return !(getCallableType(element) === 'dmn' && typeof resultVariable !== 'undefined');\n    }\n\n  }));\n\n\n  entries.push(entryFactory.selectBox({\n    id: 'delegateVariableMappingType',\n    label: translate('Delegate Variable Mapping'),\n    selectOptions: delegateVariableMappingOptions,\n    emptyParameter: true,\n    modelProperty: 'delegateVariableMappingType',\n\n    get: function(element, node) {\n      return {\n        delegateVariableMappingType : getDelegateVariableMappingType(element)\n      };\n    },\n\n    set: function(element, values, node) {\n      var delegateVariableMappingType = values.delegateVariableMappingType;\n\n      var props = {\n        'activiti:variableMappingClass' : undefined,\n        'activiti:variableMappingDelegateExpression' : undefined\n      };\n\n      if (delegateVariableMappingType === 'variableMappingClass') {\n        props['activiti:variableMappingClass'] = '';\n      }\n      else if (delegateVariableMappingType === 'variableMappingDelegateExpression') {\n        props['activiti:variableMappingDelegateExpression'] = '';\n      }\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    hidden: function(element, node) {\n      return (getCallableType(element) !== 'bpmn');\n    }\n\n  }));\n\n  entries.push(entryFactory.textField({\n    id: 'delegateVariableMapping',\n    dataValueLabel: 'delegateVariableMappingLabel',\n    modelProperty: 'delegateVariableMapping',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n\n      var label = '';\n      var delegateVariableMapping = undefined;\n      var type = getDelegateVariableMappingType(element);\n\n      if (type === 'variableMappingClass') {\n        label = translate('Class');\n        delegateVariableMapping = bo.get('activiti:variableMappingClass');\n      }\n      else if (type === 'variableMappingDelegateExpression') {\n        label = translate('Delegate Expression');\n        delegateVariableMapping = bo.get('activiti:variableMappingDelegateExpression');\n      }\n\n      return {\n        delegateVariableMapping: delegateVariableMapping,\n        delegateVariableMappingLabel: label\n      };\n    },\n\n    set: function(element, values, node) {\n      var delegateVariableMapping = values.delegateVariableMapping;\n\n      var attr = 'activiti:' + getDelegateVariableMappingType(element);\n\n      var props = {};\n      props[attr] = delegateVariableMapping || undefined;\n\n      return cmdHelper.updateProperties(element, props);\n    },\n\n    validate: function(element, values, node) {\n      var delegateVariableMapping = values.delegateVariableMapping;\n      return (\n        getCallableType(element) === 'bpmn' && (\n          !delegateVariableMapping ? { delegateVariableMapping: translate('Must provide a value') } : {}\n        )\n      );\n    },\n\n    hidden: function(element, node) {\n      return !(getCallableType(element) === 'bpmn' && getDelegateVariableMappingType(element) !== '');\n    }\n\n  }));\n\n  return entries;\n};\n","module.exports = {\n  __depends__: [\n    require('./element-templates'),\n    require('diagram-js/lib/i18n/translate').default\n  ],\n  __init__: [ 'propertiesProvider' ],\n  propertiesProvider: [ 'type', require('./ActivitiPropertiesProvider') ]\n};\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getImplementationType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  function isExternal(element) {\n    return getImplementationType(element) === 'external';\n  }\n\n  var topicEntry = entryFactory.textField({\n    id: 'externalTopic',\n    label: translate('Topic'),\n    modelProperty: 'externalTopic',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { externalTopic: bo.get('activiti:topic') };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'activiti:topic': values.externalTopic\n      });\n    },\n\n    validate: function(element, values, node) {\n      return isExternal(element) && !values.externalTopic ? { externalTopic: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isExternal(element);\n    }\n\n  });\n\n  return [ topicEntry ];\n\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    scriptImplementation = require('./implementation/Script');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var bo;\n\n  if (is(element, 'bpmn:ScriptTask')) {\n    bo = getBusinessObject(element);\n  }\n\n  if (!bo) {\n    return;\n  }\n\n  var script = scriptImplementation('scriptFormat', 'script', false, translate);\n  group.entries.push({\n    id: 'script-implementation',\n    label: translate('Script'),\n    html: script.template,\n\n    get: function(element) {\n      return script.get(element, bo);\n    },\n\n    set: function(element, values, containerElement) {\n      var properties = script.set(element, values, containerElement);\n\n      return cmdHelper.updateProperties(element, properties);\n    },\n\n    validate: function(element, values) {\n      return script.validate(element, values);\n    },\n\n    script : script,\n\n    cssClasses: ['bpp-textfield']\n\n  });\n\n  group.entries.push(entryFactory.textField({\n    id : 'scriptResultVariable',\n    label : translate('Result Variable'),\n    modelProperty : 'scriptResultVariable',\n\n    get: function(element, propertyName) {\n      var boResultVariable = bo.get('activiti:resultVariable');\n\n      return { scriptResultVariable : boResultVariable };\n    },\n\n    set: function(element, values, containerElement) {\n      return cmdHelper.updateProperties(element, {\n        'activiti:resultVariable': values.scriptResultVariable.length\n          ? values.scriptResultVariable\n          : undefined\n      });\n    }\n\n  }));\n\n};\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","'use strict';\n\nvar isArray = require('lodash/isArray');\nvar isObject = require('lodash/isObject');\n\nvar DROPDOWN_TYPE = 'Dropdown';\n\nvar VALID_TYPES = [ 'String', 'Text', 'Boolean', 'Hidden', DROPDOWN_TYPE ];\n\nvar PROPERTY_TYPE = 'property',\n    CAMUNDA_PROPERTY_TYPE = 'camunda:property',\n    CAMUNDA_INPUT_PARAMETER_TYPE = 'camunda:inputParameter',\n    CAMUNDA_OUTPUT_PARAMETER_TYPE = 'camunda:outputParameter',\n    CAMUNDA_IN_TYPE = 'camunda:in',\n    CAMUNDA_OUT_TYPE = 'camunda:out',\n    CAMUNDA_IN_BUSINESS_KEY_TYPE = 'camunda:in:businessKey',\n    CAMUNDA_EXECUTION_LISTENER = 'camunda:executionListener',\n    CAMUNDA_FIELD = 'camunda:field';\n\nvar VALID_BINDING_TYPES = [\n  PROPERTY_TYPE,\n  CAMUNDA_PROPERTY_TYPE,\n  CAMUNDA_INPUT_PARAMETER_TYPE,\n  CAMUNDA_OUTPUT_PARAMETER_TYPE,\n  CAMUNDA_IN_TYPE,\n  CAMUNDA_OUT_TYPE,\n  CAMUNDA_IN_BUSINESS_KEY_TYPE,\n  CAMUNDA_EXECUTION_LISTENER,\n  CAMUNDA_FIELD\n];\n\n\n/**\n * A element template validator.\n */\nfunction Validator() {\n\n  this._templatesById = {};\n\n  this._validTemplates = [];\n  this._errors = [];\n\n\n  /**\n   * Adds the templates.\n   *\n   * @param {Array<TemplateDescriptor>} templates\n   *\n   * @return {Validator} self\n   */\n  this.addAll = function(templates) {\n\n    if (!isArray(templates)) {\n      this._logError('templates must be []');\n    } else {\n      templates.forEach(this.add, this);\n    }\n\n    return this;\n  };\n\n  /**\n   * Add the given element template, if it is valid.\n   *\n   * @param {TemplateDescriptor} template\n   *\n   * @return {Validator} self\n   */\n  this.add = function(template) {\n\n    var err = this._validateTemplate(template);\n\n    if (!err) {\n      this._templatesById[template.id] = template;\n\n      this._validTemplates.push(template);\n    }\n\n    return this;\n  };\n\n  /**\n   * Validate given template and return error (if any).\n   *\n   * @param {TemplateDescriptor} template\n   *\n   * @return {Error} validation error, if any\n   */\n  this._validateTemplate = function(template) {\n\n    var err,\n        id = template.id,\n        appliesTo = template.appliesTo,\n        properties = template.properties,\n        scopes = template.scopes;\n\n    if (!id) {\n      return this._logError('missing template id');\n    }\n\n    if (id in this._templatesById) {\n      return this._logError('template id <' + id + '> already used');\n    }\n\n    if (!isArray(appliesTo)) {\n      err = this._logError('missing appliesTo=[]', template);\n    }\n\n    if (!isArray(properties)) {\n      err = this._logError('missing properties=[]', template);\n    } else {\n      if (!this._validateProperties(properties)) {\n        err = new Error('invalid properties');\n      }\n    }\n\n    if (scopes) {\n      err = this._validateScopes(template, scopes);\n    }\n\n    return err;\n  };\n\n  this._validateScopes = function(template, scopes) {\n\n    var err,\n        scope,\n        scopeName;\n\n    if (!isObject(scopes) || isArray(scopes)) {\n      return this._logError('invalid scopes, should be scopes={}', template);\n    }\n\n    for (scopeName in scopes) {\n      scope = scopes[scopeName];\n\n      if (!isObject(scope) || isArray(scope)) {\n        err = this._logError('invalid scope, should be scope={}', template);\n      }\n\n      if (!isArray(scope.properties)) {\n        err = this._logError(\n          'missing properties=[] in scope <' + scopeName + '>', template\n        );\n      } else {\n        if (!this._validateProperties(scope.properties)) {\n          err = new Error('invalid properties in scope <' + scopeName + '>');\n        }\n      }\n    }\n\n    return err;\n  };\n\n  /**\n   * Validate properties and return false if any is invalid.\n   *\n   * @param {Array<PropertyDescriptor>} properties\n   *\n   * @return {Boolean} true if all properties are valid\n   */\n  this._validateProperties = function(properties) {\n    var validProperties = properties.filter(this._validateProperty, this);\n\n    return properties.length === validProperties.length;\n  };\n\n  /**\n   * Validate property and return false, if there was\n   * a validation error.\n   *\n   * @param {PropertyDescriptor} property\n   *\n   * @return {Boolean} true if property is valid\n   */\n  this._validateProperty = function(property) {\n\n    var type = property.type,\n        binding = property.binding;\n\n    var err;\n\n    var bindingType = binding.type;\n\n    if (VALID_TYPES.indexOf(type) === -1) {\n      err = this._logError(\n        'invalid property type <' + type + '>; ' +\n        'must be any of { ' + VALID_TYPES.join(', ') + ' }'\n      );\n    }\n\n    if (type === DROPDOWN_TYPE && bindingType !== CAMUNDA_EXECUTION_LISTENER) {\n      if (!isArray(property.choices)) {\n        err = this._logError(\n          'must provide choices=[] with ' + DROPDOWN_TYPE + ' type'\n        );\n      } else\n\n      if (!property.choices.every(isDropdownChoiceValid)) {\n        err = this._logError(\n          '{ name, value } must be specified for ' +\n          DROPDOWN_TYPE + ' choices'\n        );\n      }\n    }\n\n    if (!binding) {\n      return this._logError('property missing binding');\n    }\n\n    if (VALID_BINDING_TYPES.indexOf(bindingType) === -1) {\n      err = this._logError(\n        'invalid property.binding type <' + bindingType + '>; ' +\n        'must be any of { ' + VALID_BINDING_TYPES.join(', ') + ' }'\n      );\n    }\n\n    if (bindingType === PROPERTY_TYPE ||\n        bindingType === CAMUNDA_PROPERTY_TYPE ||\n        bindingType === CAMUNDA_INPUT_PARAMETER_TYPE ||\n        bindingType === CAMUNDA_FIELD) {\n\n      if (!binding.name) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires name'\n        );\n      }\n    }\n\n    if (bindingType === CAMUNDA_OUTPUT_PARAMETER_TYPE) {\n      if (!binding.source) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires source'\n        );\n      }\n    }\n\n    if (bindingType === CAMUNDA_IN_TYPE) {\n\n      if (!binding.variables && !binding.target) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires ' +\n          'variables or target'\n        );\n      }\n    }\n\n    if (bindingType === CAMUNDA_OUT_TYPE) {\n\n      if (!binding.variables && !binding.source && !binding.sourceExpression) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires ' +\n          'variables, sourceExpression or source'\n        );\n      }\n    }\n\n    if (bindingType === CAMUNDA_EXECUTION_LISTENER) {\n\n      if (type !== 'Hidden') {\n        err = this._logError(\n          'invalid property type <' + type + '> for ' + CAMUNDA_EXECUTION_LISTENER + '; ' +\n          'must be <Hidden>'\n        );\n      }\n    }\n\n    return !err;\n  };\n\n\n  this._logError = function(err, template) {\n\n    if (typeof err === 'string') {\n      if (template) {\n        err = 'template(id: ' + template.id + ') ' + err;\n      }\n\n      err = new Error(err);\n    }\n\n    this._errors.push(err);\n\n    return err;\n  };\n\n  this.getErrors = function() {\n    return this._errors;\n  };\n\n  this.getValidTemplates = function() {\n    return this._validTemplates;\n  };\n}\n\nmodule.exports = Validator;\n\n\n// helpers ///////////////////////////////////\n\nfunction isDropdownChoiceValid(c) {\n  return 'name' in c && 'value' in c;\n}\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    inputOutputHelper = require('../../../../helper/InputOutputHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar extensionElementsEntry = require('./ExtensionElements');\n\n\nfunction getInputOutput(element, insideConnector) {\n  return inputOutputHelper.getInputOutput(element, insideConnector);\n}\n\nfunction getConnector(element) {\n  return inputOutputHelper.getConnector(element);\n}\n\nfunction getInputParameters(element, insideConnector) {\n  return inputOutputHelper.getInputParameters(element, insideConnector);\n}\n\nfunction getOutputParameters(element, insideConnector) {\n  return inputOutputHelper.getOutputParameters(element, insideConnector);\n}\n\nfunction getInputParameter(element, insideConnector, idx) {\n  return inputOutputHelper.getInputParameter(element, insideConnector, idx);\n}\n\nfunction getOutputParameter(element, insideConnector, idx) {\n  return inputOutputHelper.getOutputParameter(element, insideConnector, idx);\n}\n\n\nfunction createElement(type, parent, factory, properties) {\n  return elementHelper.createElement(type, properties, parent, factory);\n}\n\nfunction createInputOutput(parent, bpmnFactory, properties) {\n  return createElement('camunda:InputOutput', parent, bpmnFactory, properties);\n}\n\nfunction createParameter(type, parent, bpmnFactory, properties) {\n  return createElement(type, parent, bpmnFactory, properties);\n}\n\n\nfunction ensureInputOutputSupported(element, insideConnector) {\n  return inputOutputHelper.isInputOutputSupported(element, insideConnector);\n}\n\nfunction ensureOutparameterSupported(element, insideConnector) {\n  return inputOutputHelper.areOutputParametersSupported(element, insideConnector);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var TYPE_LABEL = {\n    'camunda:Map': translate('Map'),\n    'camunda:List': translate('List'),\n    'camunda:Script': translate('Script')\n  };\n\n  options = options || {};\n\n  var insideConnector = !!options.insideConnector,\n      idPrefix = options.idPrefix || '';\n\n  var getSelected = function(element, node) {\n    var selection = (inputEntry && inputEntry.getSelected(element, node)) || { idx: -1 };\n\n    var parameter = getInputParameter(element, insideConnector, selection.idx);\n    if (!parameter && outputEntry) {\n      selection = outputEntry.getSelected(element, node);\n      parameter = getOutputParameter(element, insideConnector, selection.idx);\n    }\n    return parameter;\n  };\n\n  var result = {\n    getSelectedParameter: getSelected\n  };\n\n  var entries = result.entries = [];\n\n  if (!ensureInputOutputSupported(element)) {\n    return result;\n  }\n\n  var newElement = function(type, prop, factory) {\n\n    return function(element, extensionElements, value) {\n      var commands = [];\n\n      var inputOutput = getInputOutput(element, insideConnector);\n      if (!inputOutput) {\n        var parent = !insideConnector ? extensionElements : getConnector(element);\n        inputOutput = createInputOutput(parent, bpmnFactory, {\n          inputParameters: [],\n          outputParameters: []\n        });\n\n        if (!insideConnector) {\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\n            element,\n            extensionElements,\n            'values',\n            'extensionElements',\n            [ inputOutput ],\n            []\n          ));\n        } else {\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { inputOutput: inputOutput }));\n        }\n      }\n\n      var newElem = createParameter(type, inputOutput, bpmnFactory, { name: value });\n      commands.push(cmdHelper.addElementsTolist(element, inputOutput, prop, [ newElem ]));\n\n      return commands;\n    };\n  };\n\n  var removeElement = function(getter, prop, otherProp) {\n    return function(element, extensionElements, value, idx) {\n      var inputOutput = getInputOutput(element, insideConnector);\n      var parameter = getter(element, insideConnector, idx);\n\n      var commands = [];\n      commands.push(cmdHelper.removeElementsFromList(element, inputOutput, prop, null, [ parameter ]));\n\n      var firstLength = inputOutput.get(prop).length-1;\n      var secondLength = (inputOutput.get(otherProp) || []).length;\n\n      if (!firstLength && !secondLength) {\n\n        if (!insideConnector) {\n          commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, inputOutput));\n        } else {\n          var connector = getConnector(element);\n          commands.push(cmdHelper.updateBusinessObject(element, connector, { inputOutput: undefined }));\n        }\n\n      }\n\n      return commands;\n    };\n  };\n\n  var setOptionLabelValue = function(getter) {\n    return function(element, node, option, property, value, idx) {\n      var parameter = getter(element, insideConnector, idx);\n\n      var suffix = 'Text';\n\n      var definition = parameter.get('definition');\n      if (typeof definition !== 'undefined') {\n        var type = definition.$type;\n        suffix = TYPE_LABEL[type];\n      }\n\n      option.text = (value || '') + ' : ' + suffix;\n    };\n  };\n\n\n  // input parameters ///////////////////////////////////////////////////////////////\n\n  var inputEntry = extensionElementsEntry(element, bpmnFactory, {\n    id: idPrefix + 'inputs',\n    label: translate('Input Parameters'),\n    modelProperty: 'name',\n    prefix: 'Input',\n    resizable: true,\n\n    createExtensionElement: newElement('camunda:InputParameter', 'inputParameters'),\n    removeExtensionElement: removeElement(getInputParameter, 'inputParameters', 'outputParameters'),\n\n    getExtensionElements: function(element) {\n      return getInputParameters(element, insideConnector);\n    },\n\n    onSelectionChange: function(element, node, event, scope) {\n      outputEntry && outputEntry.deselect(element, node);\n    },\n\n    setOptionLabelValue: setOptionLabelValue(getInputParameter)\n\n  });\n  entries.push(inputEntry);\n\n\n  // output parameters ///////////////////////////////////////////////////////\n\n  if (ensureOutparameterSupported(element, insideConnector)) {\n    var outputEntry = extensionElementsEntry(element, bpmnFactory, {\n      id: idPrefix + 'outputs',\n      label: translate('Output Parameters'),\n      modelProperty: 'name',\n      prefix: 'Output',\n      resizable: true,\n\n      createExtensionElement: newElement('camunda:OutputParameter', 'outputParameters'),\n      removeExtensionElement: removeElement(getOutputParameter, 'outputParameters', 'inputParameters'),\n\n      getExtensionElements: function(element) {\n        return getOutputParameters(element, insideConnector);\n      },\n\n      onSelectionChange: function(element, node, event, scope) {\n        inputEntry.deselect(element, node);\n      },\n\n      setOptionLabelValue: setOptionLabelValue(getOutputParameter)\n\n    });\n    entries.push(outputEntry);\n  }\n\n  return result;\n\n};\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper');\n\nvar externalTaskPriority = require('./implementation/ExternalTaskPriority');\n\nfunction getServiceTaskLikeBusinessObject(element) {\n  var bo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n\n  // if the element is not a serviceTaskLike element, fetch the normal business object\n  // This avoids the loss of the process / participant business object\n  if (!bo) {\n    bo = getBusinessObject(element);\n  }\n\n  return bo;\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var bo = getServiceTaskLikeBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(bo, 'activiti:TaskPriorized') || (is(bo, 'bpmn:Participant')) && bo.get('processRef')) {\n    group.entries = group.entries.concat(externalTaskPriority(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n        return bo.get('processRef');\n      }\n    }, translate));\n  }\n};","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar fieldInjection = require('./implementation/FieldInjection');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  options = assign({\n    idPrefix: 'listener-',\n    insideListener: true\n  }, options);\n\n  var fieldInjectionEntry = fieldInjection(element, bpmnFactory, translate, options);\n\n  if (fieldInjectionEntry && fieldInjectionEntry.length > 0) {\n    group.entries = group.entries.concat(fieldInjectionEntry);\n  }\n\n};\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var historyTimeToLiveEntry = entryFactory.textField({\n    id: 'historyTimeToLive',\n    label: translate('History Time To Live'),\n    modelProperty: 'historyTimeToLive',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var historyTimeToLive = bo.get('camunda:historyTimeToLive');\n\n      return {\n        historyTimeToLive: historyTimeToLive ? historyTimeToLive : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:historyTimeToLive': values.historyTimeToLive || undefined\n      });\n    }\n\n  });\n\n  return [ historyTimeToLiveEntry ];\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar domQuery = require('min-dom').query,\n    domClosest = require('min-dom').closest,\n    domify = require('min-dom').domify,\n    forEach = require('lodash/forEach');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils'),\n    escapeHTML = utils.escapeHTML;\n\nfunction getSelectBox(node, id) {\n  var currentTab = domClosest(node, 'div.bpp-properties-tab');\n  var query = 'select[name=selectedExtensionElement]' + (id ? '[id=cam-extensionElements-' + id + ']' : '');\n  return domQuery(query, currentTab);\n}\n\nfunction getSelected(node, id) {\n  var selectBox = getSelectBox(node, id);\n  return {\n    value: (selectBox || {}).value,\n    idx: (selectBox || {}).selectedIndex\n  };\n}\n\nfunction generateElementId(prefix) {\n  prefix = prefix + '_';\n  return utils.nextId(prefix);\n}\n\nvar CREATE_EXTENSION_ELEMENT_ACTION = 'create-extension-element',\n    REMOVE_EXTENSION_ELEMENT_ACTION = 'remove-extension-element';\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var id = options.id,\n      prefix = options.prefix || 'elem',\n      label = options.label || id,\n      idGeneration = (options.idGeneration === false) ? options.idGeneration : true,\n      businessObject = options.businessObject || getBusinessObject(element);\n\n  var modelProperty = options.modelProperty || 'id';\n\n  var getElements = options.getExtensionElements;\n\n  var createElement = options.createExtensionElement,\n      canCreate = typeof createElement === 'function';\n\n  var removeElement = options.removeExtensionElement,\n      canRemove = typeof removeElement === 'function';\n\n  var onSelectionChange = options.onSelectionChange;\n\n  var hideElements = options.hideExtensionElements,\n      canBeHidden = typeof hideElements === 'function';\n\n  var setOptionLabelValue = options.setOptionLabelValue;\n\n  var defaultSize = options.size || 5,\n      resizable = options.resizable;\n\n  var reference = options.reference || undefined;\n\n  var selectionChanged = function(element, node, event, scope) {\n    if (typeof onSelectionChange === 'function') {\n      return onSelectionChange(element, node, event, scope);\n    }\n  };\n\n  var createOption = function(value) {\n    return '<option value=\"' + escapeHTML(value) + '\" data-value data-name=\"extensionElementValue\">' + escapeHTML(value) + '</option>';\n  };\n\n  var initSelectionSize = function(selectBox, optionsLength) {\n    if (resizable) {\n      selectBox.size = optionsLength > defaultSize ? optionsLength : defaultSize;\n    }\n  };\n\n  return {\n    id: id,\n    html: '<div class=\"bpp-row bpp-element-list\" ' +\n            (canBeHidden ? 'data-show=\"hideElements\"' : '') + '>' +\n            '<label for=\"cam-extensionElements-' + escapeHTML(id) + '\">' + escapeHTML(label) + '</label>' +\n            '<div class=\"bpp-field-wrapper\">' +\n              '<select id=\"cam-extensionElements-' + escapeHTML(id) + '\"' +\n                      'name=\"selectedExtensionElement\" ' +\n                      'size=\"' + escapeHTML(defaultSize) + '\" ' +\n                      'data-list-entry-container ' +\n                      'data-on-change=\"selectElement\">' +\n              '</select>' +\n              (canCreate ? '<button class=\"add\" ' +\n                                   'id=\"cam-extensionElements-create-' + escapeHTML(id) + '\" ' +\n                                   'data-action=\"createElement\">' +\n                             '<span>+</span>' +\n                           '</button>' : '') +\n              (canRemove ? '<button class=\"clear\" ' +\n                                   'id=\"cam-extensionElements-remove-' + escapeHTML(id) + '\" ' +\n                                   'data-action=\"removeElement\" ' +\n                                   'data-disable=\"disableRemove\">' +\n                             '<span>-</span>' +\n                           '</button>' : '') +\n            '</div>' +\n          '</div>',\n\n    get: function(element, node) {\n      var elements = getElements(element, node);\n\n      var result = [];\n      forEach(elements, function(elem) {\n        result.push({\n          extensionElementValue: elem.get(modelProperty)\n        });\n      });\n\n      var selectBox = getSelectBox(node.parentNode, id);\n      initSelectionSize(selectBox, result.length);\n\n      return result;\n    },\n\n    set: function(element, values, node) {\n      var action = this.__action;\n      delete this.__action;\n\n      businessObject = businessObject || getBusinessObject(element);\n\n      var bo =\n        (reference && businessObject.get(reference))\n          ? businessObject.get(reference)\n          : businessObject;\n\n      var extensionElements = bo.get('extensionElements');\n\n      if (action.id === CREATE_EXTENSION_ELEMENT_ACTION) {\n        var commands = [];\n        if (!extensionElements) {\n          extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n        }\n        commands.push(createElement(element, extensionElements, action.value, node));\n        return commands;\n\n      }\n      else if (action.id === REMOVE_EXTENSION_ELEMENT_ACTION) {\n        return removeElement(element, extensionElements, action.value, action.idx, node);\n      }\n\n    },\n\n    createListEntryTemplate: function(value, index, selectBox) {\n      initSelectionSize(selectBox, selectBox.options.length + 1);\n      return createOption(value.extensionElementValue);\n    },\n\n    deselect: function(element, node) {\n      var selectBox = getSelectBox(node, id);\n      selectBox.selectedIndex = -1;\n    },\n\n    getSelected: function(element, node) {\n      return getSelected(node, id);\n    },\n\n    setControlValue: function(element, node, option, property, value, idx) {\n      node.value = value;\n\n      if (!setOptionLabelValue) {\n        node.text = value;\n      } else {\n        setOptionLabelValue(element, node, option, property, value, idx);\n      }\n    },\n\n    createElement: function(element, node) {\n      // create option template\n      var generatedId;\n      if (idGeneration) {\n        generatedId = generateElementId(prefix);\n      }\n\n      var selectBox = getSelectBox(node, id);\n      var template = domify(createOption(generatedId));\n\n      // add new empty option as last child element\n      selectBox.appendChild(template);\n\n      // select last child element\n      selectBox.lastChild.selected = 'selected';\n      selectionChanged(element, node);\n\n      // update select box size\n      initSelectionSize(selectBox, selectBox.options.length);\n\n      this.__action = {\n        id: CREATE_EXTENSION_ELEMENT_ACTION,\n        value: generatedId\n      };\n\n      return true;\n    },\n\n    removeElement: function(element, node) {\n      var selection = getSelected(node, id);\n\n      var selectBox = getSelectBox(node, id);\n      selectBox.removeChild(selectBox.options[selection.idx]);\n\n      // update select box size\n      initSelectionSize(selectBox, selectBox.options.length);\n\n      this.__action = {\n        id: REMOVE_EXTENSION_ELEMENT_ACTION,\n        value: selection.value,\n        idx: selection.idx\n      };\n\n      return true;\n    },\n\n    hideElements: function(element, entryNode, node, scopeNode) {\n      return !hideElements(element, entryNode, node, scopeNode);\n    },\n\n    disableRemove: function(element, entryNode, node, scopeNode) {\n      return (getSelected(entryNode, id) || {}).idx < 0;\n    },\n\n    selectElement: selectionChanged\n  };\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\n\nmodule.exports = function(group, element, translate) {\n\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(element, 'activiti:Initiator') && !is(element.parent, 'bpmn:SubProcess')) {\n    group.entries.push(entryFactory.textField({\n      id: 'initiator',\n      label: translate('Initiator'),\n      modelProperty: 'initiator'\n    }));\n  }\n};\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","'use strict';\n\nvar inherits = require('inherits');\n\nvar PropertiesActivator = require('../../PropertiesActivator');\n\nvar asyncCapableHelper = require('../../helper/AsyncCapableHelper'),\n    ImplementationTypeHelper = require('../../helper/ImplementationTypeHelper');\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\n// bpmn properties\nvar processProps = require('../bpmn/parts/ProcessProps'),\n    eventProps = require('../bpmn/parts/EventProps'),\n    linkProps = require('../bpmn/parts/LinkProps'),\n    documentationProps = require('../bpmn/parts/DocumentationProps'),\n    idProps = require('../bpmn/parts/IdProps'),\n    nameProps = require('../bpmn/parts/NameProps'),\n    executableProps = require('../bpmn/parts/ExecutableProps');\n\n// activiti properties\nvar serviceTaskDelegateProps = require('./parts/ServiceTaskDelegateProps'),\n    userTaskProps = require('./parts/UserTaskProps'),\n    asynchronousContinuationProps = require('./parts/AsynchronousContinuationProps'),\n    callActivityProps = require('./parts/CallActivityProps'),\n    multiInstanceProps = require('./parts/MultiInstanceLoopProps'),\n    conditionalProps = require('./parts/ConditionalProps'),\n    scriptProps = require('./parts/ScriptTaskProps'),\n    errorProps = require('./parts/ErrorEventProps'),\n    formProps = require('./parts/FormProps'),\n    startEventInitiator = require('./parts/StartEventInitiator'),\n    variableMapping = require('./parts/VariableMappingProps'),\n    versionTag = require('./parts/VersionTagProps');\n\nvar listenerProps = require('./parts/ListenerProps'),\n    listenerDetails = require('./parts/ListenerDetailProps'),\n    listenerFields = require('./parts/ListenerFieldInjectionProps');\n\nvar elementTemplateChooserProps = require('./element-templates/parts/ChooserProps'),\n    elementTemplateCustomProps = require('./element-templates/parts/CustomProps');\n\n// Input/Output\nvar inputOutput = require('./parts/InputOutputProps'),\n    inputOutputParameter = require('./parts/InputOutputParameterProps');\n\n// Connector\nvar connectorDetails = require('./parts/ConnectorDetailProps'),\n    connectorInputOutput = require('./parts/ConnectorInputOutputProps'),\n    connectorInputOutputParameter = require('./parts/ConnectorInputOutputParameterProps');\n\n// properties\nvar properties = require('./parts/PropertiesProps');\n\n// job configuration\nvar jobConfiguration = require('./parts/JobConfigurationProps');\n\n// history time to live\nvar historyTimeToLive = require('./parts/HistoryTimeToLiveProps');\n\n// candidate starter groups/users\nvar candidateStarter = require('./parts/CandidateStarterProps');\n\n// tasklist\nvar tasklist = require('./parts/TasklistProps');\n\n// external task configuration\nvar externalTaskConfiguration = require('./parts/ExternalTaskConfigurationProps');\n\n// field injection\nvar fieldInjections = require('./parts/FieldInjectionProps');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    eventDefinitionHelper = require('../../helper/EventDefinitionHelper'),\n    implementationTypeHelper = require('../../helper/ImplementationTypeHelper');\n\n// helpers ////////////////////////////////////////\n\nvar isExternalTaskPriorityEnabled = function(element) {\n  var businessObject = getBusinessObject(element);\n\n  // show only if element is a process, a participant ...\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n    return true;\n  }\n\n  var externalBo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element),\n      isExternalTask = ImplementationTypeHelper.getImplementationType(externalBo) === 'external';\n\n  // ... or an external task with selected external implementation type\n  return !!ImplementationTypeHelper.isExternalCapable(externalBo) && isExternalTask;\n};\n\nvar isJobConfigEnabled = function(element) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n    return true;\n  }\n\n  // async behavior\n  var bo = getBusinessObject(element);\n  if (asyncCapableHelper.isAsyncBefore(bo) || asyncCapableHelper.isAsyncAfter(bo)) {\n    return true;\n  }\n\n  // timer definition\n  if (is(element, 'bpmn:Event')) {\n    return !!eventDefinitionHelper.getTimerEventDefinition(element);\n  }\n\n  return false;\n};\n\nvar getInputOutputParameterLabel = function(param, translate) {\n\n  if (is(param, 'activiti:InputParameter')) {\n    return translate('Input Parameter');\n  }\n\n  if (is(param, 'activiti:OutputParameter')) {\n    return translate('Output Parameter');\n  }\n\n  return '';\n};\n\nvar getListenerLabel = function(param, translate) {\n\n  if (is(param, 'activiti:ExecutionListener')) {\n    return translate('Execution Listener');\n  }\n\n  if (is(param, 'activiti:TaskListener')) {\n    return translate('Task Listener');\n  }\n\n  return '';\n};\n\nvar PROCESS_KEY_HINT = 'This maps to the process definition key.';\nvar TASK_KEY_HINT = 'This maps to the task definition key.';\n\nfunction createGeneralTabGroups(\n    element, canvas, bpmnFactory,\n    elementRegistry, elementTemplates, translate) {\n\n  // refer to target element for external labels\n  element = element.labelTarget || element;\n\n  var generalGroup = {\n    id: 'general',\n    label: translate('General'),\n    entries: []\n  };\n\n  var idOptions;\n  var processOptions;\n\n  if (is(element, 'bpmn:Process')) {\n    idOptions = { description: PROCESS_KEY_HINT };\n  }\n\n  if (is(element, 'bpmn:UserTask')) {\n    idOptions = { description: TASK_KEY_HINT };\n  }\n\n  if (is(element, 'bpmn:Participant')) {\n    processOptions = { processIdDescription: PROCESS_KEY_HINT };\n  }\n\n  idProps(generalGroup, element, translate, idOptions);\n  nameProps(generalGroup, element, bpmnFactory, canvas, translate);\n  processProps(generalGroup, element, translate, processOptions);\n  versionTag(generalGroup, element, translate);\n  executableProps(generalGroup, element, translate);\n  elementTemplateChooserProps(generalGroup, element, elementTemplates, translate);\n\n  var customFieldsGroups = elementTemplateCustomProps(element, elementTemplates, bpmnFactory, translate);\n\n  var detailsGroup = {\n    id: 'details',\n    label: translate('Details'),\n    entries: []\n  };\n  serviceTaskDelegateProps(detailsGroup, element, bpmnFactory, translate);\n  userTaskProps(detailsGroup, element, translate);\n  scriptProps(detailsGroup, element, bpmnFactory, translate);\n  linkProps(detailsGroup, element, translate);\n  callActivityProps(detailsGroup, element, bpmnFactory, translate);\n  eventProps(detailsGroup, element, bpmnFactory, elementRegistry, translate);\n  errorProps(detailsGroup, element, bpmnFactory, translate);\n  conditionalProps(detailsGroup, element, bpmnFactory, translate);\n  startEventInitiator(detailsGroup, element, translate); // this must be the last element of the details group!\n\n  var multiInstanceGroup = {\n    id: 'multiInstance',\n    label: translate('Multi Instance'),\n    entries: []\n  };\n  multiInstanceProps(multiInstanceGroup, element, bpmnFactory, translate);\n\n  var asyncGroup = {\n    id : 'async',\n    label: translate('Asynchronous Continuations'),\n    entries : []\n  };\n  asynchronousContinuationProps(asyncGroup, element, bpmnFactory, translate);\n\n  var jobConfigurationGroup = {\n    id : 'jobConfiguration',\n    label : translate('Job Configuration'),\n    entries : [],\n    enabled: isJobConfigEnabled\n  };\n  jobConfiguration(jobConfigurationGroup, element, bpmnFactory, translate);\n\n  var externalTaskGroup = {\n    id : 'externalTaskConfiguration',\n    label : translate('External Task Configuration'),\n    entries : [],\n    enabled: isExternalTaskPriorityEnabled\n  };\n  externalTaskConfiguration(externalTaskGroup, element, bpmnFactory, translate);\n\n\n  var candidateStarterGroup = {\n    id: 'candidateStarterConfiguration',\n    label: translate('Candidate Starter Configuration'),\n    entries: []\n  };\n  candidateStarter(candidateStarterGroup, element, bpmnFactory, translate);\n\n  var historyTimeToLiveGroup = {\n    id: 'historyConfiguration',\n    label: translate('History Configuration'),\n    entries: []\n  };\n  historyTimeToLive(historyTimeToLiveGroup, element, bpmnFactory, translate);\n\n  var tasklistGroup = {\n    id: 'tasklist',\n    label: translate('Tasklist Configuration'),\n    entries: []\n  };\n  tasklist(tasklistGroup, element, bpmnFactory, translate);\n\n  var documentationGroup = {\n    id: 'documentation',\n    label: translate('Documentation'),\n    entries: []\n  };\n  documentationProps(documentationGroup, element, bpmnFactory, translate);\n\n  var groups = [];\n  groups.push(generalGroup);\n  customFieldsGroups.forEach(function(group) {\n    groups.push(group);\n  });\n  groups.push(detailsGroup);\n  groups.push(externalTaskGroup);\n  groups.push(multiInstanceGroup);\n  groups.push(asyncGroup);\n  groups.push(jobConfigurationGroup);\n  groups.push(candidateStarterGroup);\n  groups.push(historyTimeToLiveGroup);\n  groups.push(tasklistGroup);\n  groups.push(documentationGroup);\n\n  return groups;\n}\n\nfunction createVariablesTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var variablesGroup = {\n    id : 'variables',\n    label : translate('Variables'),\n    entries: []\n  };\n  variableMapping(variablesGroup, element, bpmnFactory, translate);\n\n  return [\n    variablesGroup\n  ];\n}\n\nfunction createFormsTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var formGroup = {\n    id : 'forms',\n    label : translate('Forms'),\n    entries: []\n  };\n  formProps(formGroup, element, bpmnFactory, translate);\n\n  return [\n    formGroup\n  ];\n}\n\nfunction createListenersTabGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var listenersGroup = {\n    id : 'listeners',\n    label: translate('Listeners'),\n    entries: []\n  };\n\n  var options = listenerProps(listenersGroup, element, bpmnFactory, translate);\n\n  var listenerDetailsGroup = {\n    id: 'listener-details',\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedListener(element, node);\n    },\n    label: function(element, node) {\n      var param = options.getSelectedListener(element, node);\n      return getListenerLabel(param, translate);\n    }\n  };\n\n  listenerDetails(listenerDetailsGroup, element, bpmnFactory, options, translate);\n\n  var listenerFieldsGroup = {\n    id: 'listener-fields',\n    label: translate('Field Injection'),\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedListener(element, node);\n    }\n  };\n\n  listenerFields(listenerFieldsGroup, element, bpmnFactory, options, translate);\n\n  return [\n    listenersGroup,\n    listenerDetailsGroup,\n    listenerFieldsGroup\n  ];\n}\n\nfunction createInputOutputTabGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var inputOutputGroup = {\n    id: 'input-output',\n    label: translate('Parameters'),\n    entries: []\n  };\n\n  var options = inputOutput(inputOutputGroup, element, bpmnFactory, translate);\n\n  var inputOutputParameterGroup = {\n    id: 'input-output-parameter',\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedParameter(element, node);\n    },\n    label: function(element, node) {\n      var param = options.getSelectedParameter(element, node);\n      return getInputOutputParameterLabel(param, translate);\n    }\n  };\n\n  inputOutputParameter(inputOutputParameterGroup, element, bpmnFactory, options, translate);\n\n  return [\n    inputOutputGroup,\n    inputOutputParameterGroup\n  ];\n}\n\nfunction createConnectorTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var connectorDetailsGroup = {\n    id: 'connector-details',\n    label: translate('Details'),\n    entries: []\n  };\n\n  connectorDetails(connectorDetailsGroup, element, bpmnFactory, translate);\n\n  var connectorInputOutputGroup = {\n    id: 'connector-input-output',\n    label: translate('Input/Output'),\n    entries: []\n  };\n\n  var options = connectorInputOutput(connectorInputOutputGroup, element, bpmnFactory, translate);\n\n  var connectorInputOutputParameterGroup = {\n    id: 'connector-input-output-parameter',\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedParameter(element, node);\n    },\n    label: function(element, node) {\n      var param = options.getSelectedParameter(element, node);\n      return getInputOutputParameterLabel(param, translate);\n    }\n  };\n\n  connectorInputOutputParameter(connectorInputOutputParameterGroup, element, bpmnFactory, options, translate);\n\n  return [\n    connectorDetailsGroup,\n    connectorInputOutputGroup,\n    connectorInputOutputParameterGroup\n  ];\n}\n\nfunction createFieldInjectionsTabGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var fieldGroup = {\n    id: 'field-injections-properties',\n    label: translate('Field Injections'),\n    entries: []\n  };\n\n  fieldInjections(fieldGroup, element, bpmnFactory, translate);\n\n  return [\n    fieldGroup\n  ];\n}\n\nfunction createExtensionElementsGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var propertiesGroup = {\n    id : 'extensionElements-properties',\n    label: translate('Properties'),\n    entries: []\n  };\n  properties(propertiesGroup, element, bpmnFactory, translate);\n\n  return [\n    propertiesGroup\n  ];\n}\n\n// Activiti Properties Provider /////////////////////////////////////\n\n\n/**\n * A properties provider for Activiti related properties.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {BpmnFactory} bpmnFactory\n * @param {ElementRegistry} elementRegistry\n * @param {ElementTemplates} elementTemplates\n * @param {Translate} translate\n */\nfunction ActivitiPropertiesProvider(\n    eventBus, canvas, bpmnFactory,\n    elementRegistry, elementTemplates, translate) {\n\n  PropertiesActivator.call(this, eventBus);\n\n  this.getTabs = function(element) {\n\n    var generalTab = {\n      id: 'general',\n      label: translate('General'),\n      groups: createGeneralTabGroups(\n        element, canvas, bpmnFactory,\n        elementRegistry, elementTemplates, translate)\n    };\n\n    var variablesTab = {\n      id: 'variables',\n      label: translate('Variables'),\n      groups: createVariablesTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var formsTab = {\n      id: 'forms',\n      label: translate('Forms'),\n      groups: createFormsTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var listenersTab = {\n      id: 'listeners',\n      label: translate('Listeners'),\n      groups: createListenersTabGroups(element, bpmnFactory, elementRegistry, translate),\n      enabled: function(element) {\n        return !eventDefinitionHelper.getLinkEventDefinition(element)\n          || (!is(element, 'bpmn:IntermediateThrowEvent')\n          && eventDefinitionHelper.getLinkEventDefinition(element));\n      }\n    };\n\n    var inputOutputTab = {\n      id: 'input-output',\n      label: translate('Input/Output'),\n      groups: createInputOutputTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var connectorTab = {\n      id: 'connector',\n      label: translate('Connector'),\n      groups: createConnectorTabGroups(element, bpmnFactory, elementRegistry, translate),\n      enabled: function(element) {\n        var bo = implementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n        return bo && implementationTypeHelper.getImplementationType(bo) === 'connector';\n      }\n    };\n\n    var fieldInjectionsTab = {\n      id: 'field-injections',\n      label: translate('Field Injections'),\n      groups: createFieldInjectionsTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var extensionsTab = {\n      id: 'extensionElements',\n      label: translate('Extensions'),\n      groups: createExtensionElementsGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    return [\n      generalTab,\n      variablesTab,\n      connectorTab,\n      formsTab,\n      listenersTab,\n      inputOutputTab,\n      fieldInjectionsTab,\n      extensionsTab\n    ];\n  };\n\n}\n\nActivitiPropertiesProvider.$inject = [\n  'eventBus',\n  'canvas',\n  'bpmnFactory',\n  'elementRegistry',\n  'elementTemplates',\n  'translate'\n];\n\ninherits(ActivitiPropertiesProvider, PropertiesActivator);\n\nmodule.exports = ActivitiPropertiesProvider;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var arrayFilter = require('./_arrayFilter'),\n    baseRest = require('./_baseRest'),\n    baseXor = require('./_baseXor'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values that is the\n * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n * of the given arrays. The order of result values is determined by the order\n * they occur in the arrays.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.without\n * @example\n *\n * _.xor([2, 1], [2, 3]);\n * // => [1, 3]\n */\nvar xor = baseRest(function(arrays) {\n  return baseXor(arrayFilter(arrays, isArrayLikeObject));\n});\n\nmodule.exports = xor;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","'use strict';\n\nvar values = require('lodash/values');\n\n/**\n * The guy knowing all configured element templates.\n *\n * This registry won't validate. Use the {@link Validator}\n * to verify a template is valid prior to adding it to\n * this registry.\n */\nfunction ElementTemplates() {\n\n  this._templates = {};\n\n  /**\n   * Sets the known element templates.\n   *\n   * @param {Array<TemplateDescriptor>} descriptors\n   *\n   * @return {ElementTemplates}\n   */\n  this.set = function(descriptors) {\n\n    var templates = this._templates = {};\n\n    descriptors.forEach(function(descriptor) {\n      templates[descriptor.id] = descriptor;\n    });\n\n    return this;\n  };\n\n  /**\n   * Get template descriptor with given id.\n   *\n   * @param {String} id\n   *\n   * @return {TemplateDescriptor}\n   */\n  this.get = function(id) {\n    return this._templates[id];\n  };\n\n  /**\n   * Return all known template descriptors.\n   *\n   * @return {Array<TemplateDescriptor>}\n   */\n  this.getAll = function() {\n    return values(this._templates);\n  };\n\n}\n\nmodule.exports = ElementTemplates;","'use strict';\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    InputOutputHelper = require('../../../helper/InputOutputHelper');\n\nvar utils = require('../../../Utils'),\n    escapeHTML = utils.escapeHTML,\n    triggerClickEvent = utils.triggerClickEvent;\n\nvar implementationType = require('./implementation/ImplementationType'),\n    delegate = require('./implementation/Delegate'),\n    external = require('./implementation/External'),\n    callable = require('./implementation/Callable'),\n    resultVariable = require('./implementation/ResultVariable');\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar domQuery = require('min-dom').query,\n    domClosest = require('min-dom').closest,\n    domClasses = require('min-dom').classes;\n\nfunction getImplementationType(element) {\n  return ImplementationTypeHelper.getImplementationType(element);\n}\n\nfunction getBusinessObject(element) {\n  return ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n}\n\nfunction isDmnCapable(element) {\n  return ImplementationTypeHelper.isDmnCapable(element);\n}\n\nfunction isExternalCapable(element) {\n  return ImplementationTypeHelper.isExternalCapable(element);\n}\n\nfunction isServiceTaskLike(element) {\n  return ImplementationTypeHelper.isServiceTaskLike(element);\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!isServiceTaskLike(getBusinessObject(element))) {\n    return;\n  }\n\n  var hasDmnSupport = isDmnCapable(element);\n  var hasExternalSupport = isExternalCapable(getBusinessObject(element));\n\n  // implementation type ////////////////////////////////////\n\n  group.entries = group.entries.concat(implementationType(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType,\n    hasDmnSupport: hasDmnSupport,\n    hasExternalSupport: hasExternalSupport,\n    hasServiceTaskLikeSupport: true\n  }, translate));\n\n\n  // delegate (class, expression, delegateExpression) //////////\n\n  group.entries = group.entries.concat(delegate(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType\n  }, translate));\n\n\n  // result variable /////////////////////////////////////////\n\n  group.entries = group.entries.concat(resultVariable(element, bpmnFactory, {\n    getBusinessObject: getBusinessObject,\n    getImplementationType: getImplementationType,\n    hideResultVariable: function(element, node) {\n      return getImplementationType(element) !== 'expression';\n    }\n  }, translate));\n\n  // external //////////////////////////////////////////////////\n\n  if (hasExternalSupport) {\n    group.entries = group.entries.concat(external(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject,\n      getImplementationType: getImplementationType\n    }, translate));\n  }\n\n\n  // dmn ////////////////////////////////////////////////////////\n\n  if (hasDmnSupport) {\n    group.entries = group.entries.concat(callable(element, bpmnFactory, {\n      getCallableType: getImplementationType\n    }, translate));\n  }\n\n\n  // connector ////////////////////////////////////////////////\n\n  var isConnector = function(element) {\n    return getImplementationType(element) === 'connector';\n  };\n\n  group.entries.push(entryFactory.link({\n    id: 'configureConnectorLink',\n    label: translate('Configure Connector'),\n    handleClick: function(element, node, event) {\n\n      var connectorTabEl = getTabNode(node, 'connector');\n\n      if (connectorTabEl) {\n        triggerClickEvent(connectorTabEl);\n      }\n\n      // suppress actual link click\n      return false;\n    },\n    showLink: function(element, node) {\n      var link = domQuery('a', node);\n      link.textContent = '';\n\n      domClasses(link).remove('bpp-error-message');\n\n      if (isConnector(element)) {\n        var connectorId = InputOutputHelper.getConnector(element).get('connectorId');\n        if (connectorId) {\n          link.textContent = translate('Configure Connector');\n        } else {\n          link.innerHTML = '<span class=\"bpp-icon-warning\"></span> ' + escapeHTML(translate('Must configure Connector'));\n          domClasses(link).add('bpp-error-message');\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }));\n\n};\n\n\n\n// helpers ///////////////////////////\n\nfunction getTabNode(el, id) {\n  var containerEl = domClosest(el, '.bpp-properties-panel');\n\n  return domQuery('a[data-tab-target=\"' + id + '\"]', containerEl);\n}","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar tasklist = require('./implementation/Tasklist');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  if (is(element, 'activiti:Process') ||\r\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n\r\n    group.entries = group.entries.concat(tasklist(element, bpmnFactory, {\r\n      getBusinessObject: function(element) {\r\n        var bo = getBusinessObject(element);\r\n\r\n        if (!is(bo, 'bpmn:Participant')) {\r\n          return bo;\r\n        }\r\n\r\n        return bo.get('processRef');\r\n      }\r\n    }, translate));\r\n\r\n  }\r\n};\r\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getTemplate = require('../Helper').getTemplate,\n    getTemplateId = require('../Helper').getTemplateId;\n\nvar find = require('lodash/find');\n\nvar TEMPLATE_ATTR = require('../Helper').TEMPLATE_ATTR;\n\nfunction isAny(element, types) {\n  return types.reduce(function(result, type) {\n    return result || is(element, type);\n  }, false);\n}\n\n\nmodule.exports = function(group, element, elementTemplates, translate) {\n\n  var options = getTemplateOptions(element, elementTemplates, translate);\n\n  if (options.length === 1 && !options[0].isDefault) {\n    return;\n  }\n\n  // select element template (via dropdown)\n  group.entries.push(entryFactory.selectBox({\n    id: 'elementTemplate-chooser',\n    label: translate('Element Template'),\n    modelProperty: 'camunda:modelerTemplate',\n    selectOptions: options,\n    set: function(element, properties) {\n      return applyTemplate(element, properties[TEMPLATE_ATTR], elementTemplates);\n    },\n    disabled: function() {\n      var template = getTemplate(element, elementTemplates);\n\n      return template && isDefaultTemplate(template);\n    }\n  }));\n\n};\n\n\n// helpers //////////////////////////////////////\n\nfunction applyTemplate(element, newTemplateId, elementTemplates) {\n\n  // cleanup\n  // clear input output mappings\n  // undo changes to properties defined in template\n\n  // re-establish\n  // set input output mappings\n  // apply changes to properties as defined in new template\n\n  var oldTemplate = getTemplate(element, elementTemplates),\n      newTemplate = elementTemplates.get(newTemplateId);\n\n  if (oldTemplate === newTemplate) {\n    return;\n  }\n\n  return {\n    cmd: 'propertiesPanel.camunda.changeTemplate',\n    context: {\n      element: element,\n      oldTemplate: oldTemplate,\n      newTemplate: newTemplate\n    }\n  };\n}\n\nfunction getTemplateOptions(element, elementTemplates, translate) {\n\n  var currentTemplateId = getTemplateId(element);\n\n  var emptyOption = {\n    name: '',\n    value: ''\n  };\n\n  var allOptions = elementTemplates.getAll().reduce(function(templates, t) {\n    if (!isAny(element, t.appliesTo)) {\n      return templates;\n    }\n\n    return templates.concat({\n      name: translate(t.name),\n      value: t.id,\n      isDefault: t.isDefault\n    });\n  }, [ emptyOption ]);\n\n\n  var defaultOption = find(allOptions, function(option) {\n    return isDefaultTemplate(option);\n  });\n\n  var currentOption = find(allOptions, function(option) {\n    return option.value === currentTemplateId;\n  });\n\n  if (currentTemplateId && !currentOption) {\n    currentOption = unknownTemplate(currentTemplateId, translate);\n\n    allOptions.push(currentOption);\n  }\n\n  if (!defaultOption) {\n\n    // return all options, including empty\n    // and optionally unknownTemplate option\n    return allOptions;\n  }\n\n  // special limited handling for\n  // default options\n\n  var options = [];\n\n  // current template not set\n  if (!currentTemplateId) {\n    options.push({\n      name: '',\n      value: ''\n    });\n  }\n\n  // current template not default\n  if (currentOption && currentOption !== defaultOption) {\n    options.push(currentOption);\n  }\n\n  options.push(defaultOption);\n\n  // [ (empty), (current), defaultOption ]\n  return options;\n}\n\nfunction unknownTemplate(templateId, translate) {\n  return {\n    name: translate('[unknown template: {templateId}]', { templateId: templateId }),\n    value: templateId\n  };\n}\n\nfunction isDefaultTemplate(elementTemplate) {\n  return elementTemplate.isDefault;\n}","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    inputOutputHelper = require('../../../../helper/InputOutputHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    scriptImplementation = require('./Script');\n\n\nfunction createElement(type, parent, factory, properties) {\n  return elementHelper.createElement(type, properties, parent, factory);\n}\n\nfunction isScript(elem) {\n  return is(elem, 'activiti:Script');\n}\n\nfunction isList(elem) {\n  return is(elem, 'activiti:List');\n}\n\nfunction isMap(elem) {\n  return is(elem, 'activiti:Map');\n}\n\nfunction ensureInputOutputSupported(element, insideConnector) {\n  return inputOutputHelper.isInputOutputSupported(element, insideConnector);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var typeInfo = {\n    'activiti:Map': {\n      value: 'map',\n      label: translate('Map')\n    },\n    'activiti:List': {\n      value: 'list',\n      label: translate('List')\n    },\n    'activiti:Script': {\n      value: 'script',\n      label: translate('Script')\n    }\n  };\n\n  options = options || {};\n\n  var insideConnector = !!options.insideConnector,\n      idPrefix = options.idPrefix || '';\n\n  var getSelected = options.getSelectedParameter;\n\n  if (!ensureInputOutputSupported(element, insideConnector)) {\n    return [];\n  }\n\n  var entries = [];\n\n  var isSelected = function(element, node) {\n    return getSelected(element, node);\n  };\n\n\n  // parameter name ////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.validationAwareTextField({\n    id: idPrefix + 'parameterName',\n    label: translate('Name'),\n    modelProperty: 'name',\n\n    getProperty: function(element, node) {\n      return (getSelected(element, node) || {}).name;\n    },\n\n    setProperty: function(element, values, node) {\n      var param = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, param, values);\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelected(element, node);\n\n      var validation = {};\n      if (bo) {\n        var nameValue = values.name;\n\n        if (nameValue) {\n          if (utils.containsSpace(nameValue)) {\n            validation.name = translate('Name must not contain spaces');\n          }\n        } else {\n          validation.name = translate('Parameter must have a name');\n        }\n      }\n\n      return validation;\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n  }));\n\n\n  // parameter type //////////////////////////////////////////////////////\n\n  var selectOptions = [\n    { value: 'text', name: translate('Text') },\n    { value: 'script', name: translate('Script') },\n    { value: 'list', name: translate('List') },\n    { value: 'map', name: translate('Map') }\n  ];\n\n  entries.push(entryFactory.selectBox({\n    id : idPrefix + 'parameterType',\n    label: translate('Type'),\n    selectOptions: selectOptions,\n    modelProperty: 'parameterType',\n\n    get: function(element, node) {\n      var bo = getSelected(element, node);\n\n      var parameterType = 'text';\n\n      if (typeof bo !== 'undefined') {\n        var definition = bo.get('definition');\n        if (typeof definition !== 'undefined') {\n          var type = definition.$type;\n          parameterType = typeInfo[type].value;\n        }\n      }\n\n      return {\n        parameterType: parameterType\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getSelected(element, node);\n\n      var properties = {\n        value: undefined,\n        definition: undefined\n      };\n\n      var createParameterTypeElem = function(type) {\n        return createElement(type, bo, bpmnFactory);\n      };\n\n      var parameterType = values.parameterType;\n\n      if (parameterType === 'script') {\n        properties.definition = createParameterTypeElem('activiti:Script');\n      }\n      else if (parameterType === 'list') {\n        properties.definition = createParameterTypeElem('activiti:List');\n      }\n      else if (parameterType === 'map') {\n        properties.definition = createParameterTypeElem('activiti:Map');\n      }\n\n      return cmdHelper.updateBusinessObject(element, bo, properties);\n    },\n\n    show: function(element, node) {\n      return isSelected(element, node);\n    }\n\n  }));\n\n\n  // parameter value (type = text) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textBox({\n    id : idPrefix + 'parameterType-text',\n    label : translate('Value'),\n    modelProperty: 'value',\n    get: function(element, node) {\n      return {\n        value: (getSelected(element, node) || {}).value\n      };\n    },\n\n    set: function(element, values, node) {\n      var param = getSelected(element, node);\n      values.value = values.value || undefined;\n      return cmdHelper.updateBusinessObject(element, param, values);\n    },\n\n    show: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && !bo.definition;\n    }\n\n  }));\n\n\n  // parameter value (type = script) ///////////////////////////////////////////////////////\n  var script = scriptImplementation('scriptFormat', 'value', true, translate);\n  entries.push({\n    id: idPrefix + 'parameterType-script',\n    html: '<div data-show=\"isScript\">' +\n            script.template +\n          '</div>',\n    get: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && isScript(bo.definition) ? script.get(element, bo.definition) : {};\n    },\n\n    set: function(element, values, node) {\n      var bo = getSelected(element, node);\n      var update = script.set(element, values);\n      return cmdHelper.updateBusinessObject(element, bo.definition, update);\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelected(element, node);\n      return bo && isScript(bo.definition) ? script.validate(element, bo.definition) : {};\n    },\n\n    isScript: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && isScript(bo.definition);\n    },\n\n    script: script\n\n  });\n\n\n  // parameter value (type = list) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.table({\n    id: idPrefix + 'parameterType-list',\n    modelProperties: [ 'value' ],\n    labels: [ translate('Value') ],\n    addLabel: translate('Add Value'),\n\n    getElements: function(element, node) {\n      var bo = getSelected(element, node);\n\n      if (bo && isList(bo.definition)) {\n        return bo.definition.items;\n      }\n\n      return [];\n    },\n\n    updateElement: function(element, values, node, idx) {\n      var bo = getSelected(element, node);\n      var item = bo.definition.items[idx];\n      return cmdHelper.updateBusinessObject(element, item, values);\n    },\n\n    addElement: function(element, node) {\n      var bo = getSelected(element, node);\n      var newValue = createElement('activiti:Value', bo.definition, bpmnFactory, { value: undefined });\n      return cmdHelper.addElementsTolist(element, bo.definition, 'items', [ newValue ]);\n    },\n\n    removeElement: function(element, node, idx) {\n      var bo = getSelected(element, node);\n      return cmdHelper.removeElementsFromList(element, bo.definition, 'items', null, [ bo.definition.items[idx] ]);\n    },\n\n    editable: function(element, node, prop, idx) {\n      var bo = getSelected(element, node);\n      var item = bo.definition.items[idx];\n      return !isMap(item) && !isList(item) && !isScript(item);\n    },\n\n    setControlValue: function(element, node, input, prop, value, idx) {\n      var bo = getSelected(element, node);\n      var item = bo.definition.items[idx];\n\n      if (!isMap(item) && !isList(item) && !isScript(item)) {\n        input.value = value;\n      } else {\n        input.value = typeInfo[item.$type].label;\n      }\n    },\n\n    show: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && bo.definition && isList(bo.definition);\n    }\n\n  }));\n\n\n  // parameter value (type = map) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.table({\n    id: idPrefix + 'parameterType-map',\n    modelProperties: [ 'key', 'value' ],\n    labels: [ translate('Key'), translate('Value') ],\n    addLabel: translate('Add Entry'),\n\n    getElements: function(element, node) {\n      var bo = getSelected(element, node);\n\n      if (bo && isMap(bo.definition)) {\n        return bo.definition.entries;\n      }\n\n      return [];\n    },\n\n    updateElement: function(element, values, node, idx) {\n      var bo = getSelected(element, node);\n      var entry = bo.definition.entries[idx];\n\n      if (isMap(entry.definition) || isList(entry.definition) || isScript(entry.definition)) {\n        values = {\n          key: values.key\n        };\n      }\n\n      return cmdHelper.updateBusinessObject(element, entry, values);\n    },\n\n    addElement: function(element, node) {\n      var bo = getSelected(element, node);\n      var newEntry = createElement('activiti:Entry', bo.definition, bpmnFactory, { key: undefined, value: undefined });\n      return cmdHelper.addElementsTolist(element, bo.definition, 'entries', [ newEntry ]);\n    },\n\n    removeElement: function(element, node, idx) {\n      var bo = getSelected(element, node);\n      return cmdHelper.removeElementsFromList(element, bo.definition, 'entries', null, [ bo.definition.entries[idx] ]);\n    },\n\n    editable: function(element, node, prop, idx) {\n      var bo = getSelected(element, node);\n      var entry = bo.definition.entries[idx];\n      return prop === 'key' || (!isMap(entry.definition) && !isList(entry.definition) && !isScript(entry.definition));\n    },\n\n    setControlValue: function(element, node, input, prop, value, idx) {\n      var bo = getSelected(element, node);\n      var entry = bo.definition.entries[idx];\n\n      if (prop === 'key' || (!isMap(entry.definition) && !isList(entry.definition) && !isScript(entry.definition))) {\n        input.value = value;\n      } else {\n        input.value = typeInfo[entry.definition.$type].label;\n      }\n    },\n\n    show: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && bo.definition && isMap(bo.definition);\n    }\n\n  }));\n\n  return entries;\n\n};\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","'use strict';\n\nvar findExtension = require('../Helper').findExtension,\n    findExtensions = require('../Helper').findExtensions;\n\nvar createCamundaProperty = require('../CreateHelper').createCamundaProperty,\n    createInputParameter = require('../CreateHelper').createInputParameter,\n    createOutputParameter = require('../CreateHelper').createOutputParameter,\n    createCamundaIn = require('../CreateHelper').createCamundaIn,\n    createCamundaOut = require('../CreateHelper').createCamundaOut,\n    createCamundaInWithBusinessKey = require('../CreateHelper').createCamundaInWithBusinessKey,\n    createCamundaExecutionListenerScript = require('../CreateHelper').createCamundaExecutionListenerScript,\n    createCamundaFieldInjection = require('../CreateHelper').createCamundaFieldInjection;\n\nvar forEach = require('lodash/forEach');\n\nvar CAMUNDA_SERVICE_TASK_LIKE = [\n  'camunda:class',\n  'camunda:delegateExpression',\n  'camunda:expression'\n];\n\n/**\n * A handler that changes the modeling template of a BPMN element.\n */\nfunction ChangeElementTemplateHandler(modeling, commandStack, bpmnFactory) {\n\n  function getOrCreateExtensionElements(element) {\n\n    var bo = element.businessObject;\n\n    var extensionElements = bo.extensionElements;\n\n    // add extension elements\n    if (!extensionElements) {\n      extensionElements = bpmnFactory.create('bpmn:ExtensionElements', {\n        values: []\n      });\n\n      modeling.updateProperties(element, {\n        extensionElements: extensionElements\n      });\n    }\n\n    return extensionElements;\n  }\n\n  function updateModelerTemplate(element, newTemplate) {\n    modeling.updateProperties(element, {\n      'camunda:modelerTemplate': newTemplate && newTemplate.id\n    });\n  }\n\n  function updateIoMappings(element, newTemplate, context) {\n\n    var newMappings = createInputOutputMappings(newTemplate, bpmnFactory),\n        oldMappings;\n\n    if (!newMappings) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { inputOutput: newMappings }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldMappings = findExtension(element, 'camunda:InputOutput');\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: [ newMappings ],\n        objectsToRemove: oldMappings ? [ oldMappings ] : []\n      });\n    }\n  }\n\n  function updateCamundaField(element, newTemplate, context) {\n\n    var newMappings = createCamundaFieldInjections(newTemplate, bpmnFactory),\n        oldMappings;\n\n    if (!newMappings) {\n      return;\n    }\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { field: newMappings }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldMappings = findExtensions(element, ['camunda:Field']);\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: newMappings,\n        objectsToRemove: oldMappings ? oldMappings : []\n      });\n    }\n  }\n\n\n  function updateCamundaProperties(element, newTemplate, context) {\n\n    var newProperties = createCamundaProperties(newTemplate, bpmnFactory),\n        oldProperties;\n\n    if (!newProperties) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { properties: newProperties }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldProperties = findExtension(element, 'camunda:Properties');\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: [ newProperties ],\n        objectsToRemove: oldProperties ? [ oldProperties ] : []\n      });\n    }\n  }\n\n  function updateProperties(element, newTemplate, context) {\n\n    var newProperties = createBpmnPropertyUpdates(newTemplate, bpmnFactory);\n\n    var newPropertiesCount = Object.keys(newProperties).length;\n\n    if (!newPropertiesCount) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: newProperties\n      });\n    } else {\n      modeling.updateProperties(element, newProperties);\n    }\n  }\n\n  function updateInOut(element, newTemplate, context) {\n\n    var newInOut = createCamundaInOut(newTemplate, bpmnFactory),\n        oldInOut;\n\n    if (!newInOut) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { inout: newInOut }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldInOut = findExtensions(context, [ 'camunda:In', 'camunda:Out' ]);\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: newInOut,\n        objectsToRemove: oldInOut\n      });\n    }\n  }\n\n  function updateExecutionListener(element, newTemplate, context) {\n\n    var newExecutionListeners = createCamundaExecutionListeners(newTemplate, bpmnFactory),\n        oldExecutionsListeners;\n\n    if (!newExecutionListeners.length) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { executionListener: newExecutionListeners }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldExecutionsListeners = findExtensions(context, [ 'camunda:ExecutionListener' ]);\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: newExecutionListeners,\n        objectsToRemove: oldExecutionsListeners\n      });\n    }\n  }\n\n  /**\n   * Update / recreate a scoped element.\n   *\n   * @param {djs.model.Base} element the diagram parent element\n   * @param {String} scopeName name of the scope, i.e. camunda:Connector\n   * @param {Object} scopeDefinition\n   */\n  function updateScopeElements(element, scopeName, scopeDefinition) {\n\n    var scopeElement = bpmnFactory.create(scopeName);\n\n    // update camunda:inputOutput\n    updateIoMappings(element, scopeDefinition, scopeElement);\n\n    // update camunda:field\n    updateCamundaField(element, scopeDefinition, scopeElement);\n\n    // update camunda:properties\n    updateCamundaProperties(element, scopeDefinition, scopeElement);\n\n    // update other properties (bpmn:condition, camunda:async, ...)\n    updateProperties(element, scopeDefinition, scopeElement);\n\n    // update camunda:in and camunda:out\n    updateInOut(element, scopeDefinition, scopeElement);\n\n    // update camunda:executionListener\n    updateExecutionListener(element, scopeDefinition, scopeElement);\n\n    var extensionElements = getOrCreateExtensionElements(element);\n    var oldScope = findExtension(extensionElements, scopeName);\n\n    commandStack.execute('properties-panel.update-businessobject-list', {\n      element: element,\n      currentObject: extensionElements,\n      propertyName: 'values',\n      objectsToAdd: [ scopeElement ],\n      objectsToRemove: oldScope ? [ oldScope ] : []\n    });\n  }\n\n  /**\n   * Compose an element template change action, updating all\n   * necessary underlying properties.\n   *\n   * @param {Object} context\n   * @param {Object} context.element\n   * @param {Object} context.oldTemplate\n   * @param {Object} context.newTemplate\n   */\n  this.preExecute = function(context) {\n\n    var element = context.element,\n        newTemplate = context.newTemplate;\n\n    // update camunda:modelerTemplate attribute\n    updateModelerTemplate(element, newTemplate);\n\n    if (newTemplate) {\n\n      // update camunda:inputOutput\n      updateIoMappings(element, newTemplate);\n\n      // update camunda:field\n      updateCamundaField(element, newTemplate);\n\n      // update camunda:properties\n      updateCamundaProperties(element, newTemplate);\n\n      // update other properties (bpmn:condition, camunda:async, ...)\n      updateProperties(element, newTemplate);\n\n      // update camunda:in and camunda:out\n      updateInOut(element, newTemplate);\n\n      // update camunda:executionListener\n      updateExecutionListener(element, newTemplate);\n\n      // loop on scopes properties\n      forEach(newTemplate.scopes, function(scopeDefinition, scopeName) {\n        updateScopeElements(element, scopeName, scopeDefinition);\n      });\n\n    }\n  };\n}\n\nChangeElementTemplateHandler.$inject = [ 'modeling', 'commandStack', 'bpmnFactory' ];\n\nmodule.exports = ChangeElementTemplateHandler;\n\n\n\n// helpers /////////////////////////////\n\nfunction createBpmnPropertyUpdates(template, bpmnFactory) {\n\n  var propertyUpdates = {};\n\n  template.properties.forEach(function(p) {\n\n    var binding = p.binding,\n        bindingTarget = binding.name,\n        propertyValue;\n\n    if (binding.type === 'property') {\n\n      if (bindingTarget === 'conditionExpression') {\n        propertyValue = bpmnFactory.create('bpmn:FormalExpression', {\n          body: p.value,\n          language: binding.scriptFormat\n        });\n      } else {\n        propertyValue = p.value;\n      }\n\n      // assigning camunda:async to true|false\n      // assigning bpmn:conditionExpression to { $type: 'bpmn:FormalExpression', ... }\n      propertyUpdates[bindingTarget] = propertyValue;\n\n      // make sure we unset other \"implementation types\"\n      // when applying a camunda:class template onto a preconfigured\n      // camunda:delegateExpression element\n      if (CAMUNDA_SERVICE_TASK_LIKE.indexOf(bindingTarget) !== -1) {\n        CAMUNDA_SERVICE_TASK_LIKE.forEach(function(prop) {\n          if (prop !== bindingTarget) {\n            propertyUpdates[prop] = undefined;\n          }\n        });\n      }\n    }\n  });\n\n  return propertyUpdates;\n}\n\nfunction createCamundaFieldInjections(template, bpmnFactory) {\n  var injections = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n    if (bindingType === 'camunda:field') {\n      injections.push(createCamundaFieldInjection(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  if (injections.length) {\n    return injections;\n  }\n}\n\nfunction createCamundaProperties(template, bpmnFactory) {\n\n  var properties = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n\n    if (bindingType === 'camunda:property') {\n      properties.push(createCamundaProperty(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  if (properties.length) {\n    return bpmnFactory.create('camunda:Properties', {\n      values: properties\n    });\n  }\n}\n\nfunction createInputOutputMappings(template, bpmnFactory) {\n\n  var inputParameters = [],\n      outputParameters = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n\n    if (bindingType === 'camunda:inputParameter') {\n      inputParameters.push(createInputParameter(\n        binding, p.value, bpmnFactory\n      ));\n    }\n\n    if (bindingType === 'camunda:outputParameter') {\n      outputParameters.push(createOutputParameter(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  // do we need to create new ioMappings (?)\n  if (outputParameters.length || inputParameters.length) {\n    return bpmnFactory.create('camunda:InputOutput', {\n      inputParameters: inputParameters,\n      outputParameters: outputParameters\n    });\n  }\n}\n\nfunction createCamundaInOut(template, bpmnFactory) {\n\n  var inOuts = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n\n    if (bindingType === 'camunda:in') {\n      inOuts.push(createCamundaIn(\n        binding, p.value, bpmnFactory\n      ));\n    } else\n    if (bindingType === 'camunda:out') {\n      inOuts.push(createCamundaOut(\n        binding, p.value, bpmnFactory\n      ));\n    } else\n    if (bindingType === 'camunda:in:businessKey') {\n      inOuts.push(createCamundaInWithBusinessKey(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  return inOuts;\n}\n\n\nfunction createCamundaExecutionListeners(template, bpmnFactory) {\n\n  var executionListener = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n\n    if (bindingType === 'camunda:executionListener') {\n      executionListener.push(createCamundaExecutionListenerScript(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  return executionListener;\n}\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar multiInstanceLoopCharacteristics = require('./implementation/MultiInstanceLoopCharacteristics');\n\nvar jobRetryTimeCycle = require('./implementation/JobRetryTimeCycle'),\n    asyncContinuation = require('./implementation/AsyncContinuation');\n\n\nfunction getLoopCharacteristics(element) {\n  var bo = getBusinessObject(element);\n  return bo.loopCharacteristics;\n}\n\n\nfunction ensureMultiInstanceSupported(element) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n  return !!loopCharacteristics && is(loopCharacteristics, 'camunda:Collectable');\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!ensureMultiInstanceSupported(element)) {\n    return;\n  }\n\n  // multi instance properties\n  group.entries = group.entries.concat(multiInstanceLoopCharacteristics(element, bpmnFactory, translate));\n\n  // async continuation ///////////////////////////////////////////////////////\n  group.entries = group.entries.concat(asyncContinuation(element, bpmnFactory, {\n    getBusinessObject: getLoopCharacteristics,\n    idPrefix: 'multiInstance-',\n    labelPrefix: translate('Multi Instance ')\n  }, translate));\n\n\n  // retry time cycle //////////////////////////////////////////////////////////\n  group.entries = group.entries.concat(jobRetryTimeCycle(element, bpmnFactory, {\n    getBusinessObject: getLoopCharacteristics,\n    idPrefix: 'multiInstance-',\n    labelPrefix: translate('Multi Instance ')\n  }, translate));\n};\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\n\nvar textBox = function(options, defaultParameters) {\n\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      canBeShown = !!options.show && typeof options.show === 'function',\n      description = options.description;\n\n  resource.html =\n    '<label for=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n    (canBeShown ? 'data-show=\"isShown\"' : '') +\n    '>' + label + '</label>' +\n    '<div class=\"bpp-field-wrapper\" ' +\n    (canBeShown ? 'data-show=\"isShown\"' : '') +\n    '>' +\n      '<div contenteditable=\"true\" id=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n            'name=\"' + escapeHTML(options.modelProperty) + '\" />' +\n    '</div>';\n\n  // add description below text box entry field\n  if (description) {\n    resource.html += entryFieldDescription(description);\n  }\n\n  if (canBeShown) {\n    resource.isShown = function() {\n      return options.show.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['bpp-textbox'];\n\n  return resource;\n};\n\nmodule.exports = textBox;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","'use strict';\n\nvar assign = require('lodash/assign');\n\n/**\n * Create an input parameter representing the given\n * binding and value.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createInputParameter(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('activiti:Script', {\n      scriptFormat: scriptFormat,\n      value: value\n    });\n  } else {\n    parameterValue = value;\n  }\n\n  return bpmnFactory.create('activiti:InputParameter', {\n    name: binding.name,\n    value: parameterValue,\n    definition: parameterDefinition\n  });\n}\n\nmodule.exports.createInputParameter = createInputParameter;\n\n\n/**\n * Create an output parameter representing the given\n * binding and value.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createOutputParameter(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('activiti:Script', {\n      scriptFormat: scriptFormat,\n      value: binding.source\n    });\n  } else {\n    parameterValue = binding.source;\n  }\n\n  return bpmnFactory.create('activiti:OutputParameter', {\n    name: value,\n    value: parameterValue,\n    definition: parameterDefinition\n  });\n}\n\nmodule.exports.createOutputParameter = createOutputParameter;\n\n\n/**\n * Create activiti property from the given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createActivitiProperty(binding, value, bpmnFactory) {\n  return bpmnFactory.create('activiti:Property', {\n    name: binding.name,\n    value: value || ''\n  });\n}\n\nmodule.exports.createActivitiProperty = createActivitiProperty;\n\n\n/**\n * Create activiti:in element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createActivitiIn(binding, value, bpmnFactory) {\n\n  var properties = createActivitiInOutAttrs(binding, value);\n\n  return bpmnFactory.create('activiti:In', properties);\n}\n\nmodule.exports.createActivitiIn = createActivitiIn;\n\n\n/**\n * Create activiti:in with businessKey element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createActivitiInWithBusinessKey(binding, value, bpmnFactory) {\n  return bpmnFactory.create('activiti:In', {\n    businessKey: value\n  });\n}\n\nmodule.exports.createActivitiInWithBusinessKey = createActivitiInWithBusinessKey;\n\n\n/**\n * Create activiti:out element from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createActivitiOut(binding, value, bpmnFactory) {\n  var properties = createActivitiInOutAttrs(binding, value);\n\n  return bpmnFactory.create('activiti:Out', properties);\n}\n\nmodule.exports.createActivitiOut = createActivitiOut;\n\n\n/**\n * Create activiti:executionListener element containing an inline script from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createActivitiExecutionListenerScript(binding, value, bpmnFactory) {\n  var scriptFormat = binding.scriptFormat,\n      parameterValue,\n      parameterDefinition;\n\n  if (scriptFormat) {\n    parameterDefinition = bpmnFactory.create('activiti:Script', {\n      scriptFormat: scriptFormat,\n      value: value\n    });\n  } else {\n    parameterValue = value;\n  }\n\n  return bpmnFactory.create('activiti:ExecutionListener', {\n    event: binding.event,\n    value: parameterValue,\n    script: parameterDefinition\n  });\n}\n\nmodule.exports.createActivitiExecutionListenerScript = createActivitiExecutionListenerScript;\n\n/**\n * Create activiti:field element containing string or expression from given binding.\n *\n * @param {PropertyBinding} binding\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement}\n */\nfunction createActivitiFieldInjection(binding, value, bpmnFactory) {\n  var DEFAULT_PROPS = {\n    'string': undefined,\n    'expression': undefined,\n    'name': undefined\n  };\n\n  var props = assign({}, DEFAULT_PROPS);\n\n  if (!binding.expression) {\n    props.string = value;\n  } else {\n    props.expression = value;\n  }\n  props.name = binding.name;\n\n  return bpmnFactory.create('activiti:Field', props);\n}\nmodule.exports.createActivitiFieldInjection = createActivitiFieldInjection;\n\n\n// helpers ////////////////////////////\n\n/**\n * Create properties for activiti:in and activiti:out types.\n */\nfunction createActivitiInOutAttrs(binding, value) {\n\n  var properties = {};\n\n  // activiti:in source(Expression) target\n  if (binding.target) {\n\n    properties.target = binding.target;\n\n    if (binding.expression) {\n      properties.sourceExpression = value;\n    } else {\n      properties.source = value;\n    }\n  } else\n\n  // activiti:(in|out) variables local\n  if (binding.variables) {\n    properties.variables = 'all';\n\n    if (binding.variables === 'local') {\n      properties.local = true;\n    }\n  }\n\n  // activiti:out source(Expression) target\n  else {\n    properties.target = value;\n\n    [ 'source', 'sourceExpression' ].forEach(function(k) {\n      if (binding[k]) {\n        properties[k] = binding[k];\n      }\n    });\n  }\n\n  return properties;\n}\n","var getWrapDetails = require('./_getWrapDetails'),\n    insertWrapDetails = require('./_insertWrapDetails'),\n    setToString = require('./_setToString'),\n    updateWrapDetails = require('./_updateWrapDetails');\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nfunction setWrapToString(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n}\n\nmodule.exports = setWrapToString;\n","'use strict';\n\nvar map = require('lodash/map');\n\nvar extensionElementsHelper = require('./ExtensionElementsHelper');\n\n/**\n * Returns true if the attribute 'camunda:asyncBefore' is set\n * to true.\n *\n * @param  {ModdleElement} bo\n *\n * @return {boolean} a boolean value\n */\nfunction isAsyncBefore(bo) {\n  return !!(bo.get('camunda:asyncBefore') || bo.get('camunda:async'));\n}\n\nmodule.exports.isAsyncBefore = isAsyncBefore;\n\n/**\n * Returns true if the attribute 'camunda:asyncAfter' is set\n * to true.\n *\n * @param  {ModdleElement} bo\n *\n * @return {boolean} a boolean value\n */\nfunction isAsyncAfter(bo) {\n  return !!bo.get('camunda:asyncAfter');\n}\n\nmodule.exports.isAsyncAfter = isAsyncAfter;\n\n/**\n * Returns true if the attribute 'camunda:exclusive' is set\n * to true.\n *\n * @param  {ModdleElement} bo\n *\n * @return {boolean} a boolean value\n */\nfunction isExclusive(bo) {\n  return !!bo.get('camunda:exclusive');\n}\n\nmodule.exports.isExclusive = isExclusive;\n\n/**\n * Get first 'camunda:FailedJobRetryTimeCycle' from the business object.\n *\n * @param  {ModdleElement} bo\n *\n * @return {Array<ModdleElement>} a list of 'camunda:FailedJobRetryTimeCycle'\n */\nfunction getFailedJobRetryTimeCycle(bo) {\n  return (extensionElementsHelper.getExtensionElements(bo, 'camunda:FailedJobRetryTimeCycle') || [])[0];\n}\n\nmodule.exports.getFailedJobRetryTimeCycle = getFailedJobRetryTimeCycle;\n\n/**\n * Removes all existing 'camunda:FailedJobRetryTimeCycle' from the business object\n *\n * @param  {ModdleElement} bo\n *\n * @return {Array<ModdleElement>} a list of 'camunda:FailedJobRetryTimeCycle'\n */\nfunction removeFailedJobRetryTimeCycle(bo, element) {\n  var retryTimeCycles = extensionElementsHelper.getExtensionElements(bo, 'camunda:FailedJobRetryTimeCycle');\n  return map(retryTimeCycles, function(cycle) {\n    return extensionElementsHelper.removeEntry(bo, element, cycle);\n  });\n}\n\nmodule.exports.removeFailedJobRetryTimeCycle = removeFailedJobRetryTimeCycle;","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","'use strict';\n\nvar eventDefinitionReference = require('./EventDefinitionReference'),\n    elementReferenceProperty = require('./ElementReferenceProperty');\n\n\nmodule.exports = function(group, element, bpmnFactory, signalEventDefinition, translate) {\n\n  group.entries = group.entries.concat(eventDefinitionReference(element, signalEventDefinition, bpmnFactory, {\n    label: translate('Signal'),\n    elementName: 'signal',\n    elementType: 'bpmn:Signal',\n    referenceProperty: 'signalRef',\n    newElementIdPrefix: 'Signal_'\n  }));\n\n\n  group.entries = group.entries.concat(elementReferenceProperty(element, signalEventDefinition, bpmnFactory, {\n    id: 'signal-element-name',\n    label: translate('Signal Name'),\n    referenceProperty: 'signalRef',\n    modelProperty: 'name',\n    shouldValidate: true\n  }));\n\n};\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar inputOutputParameter = require('./implementation/InputOutputParameter');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  options = assign({\n    idPrefix: 'connector-',\n    insideConnector: true\n  }, options);\n\n  group.entries = group.entries.concat(inputOutputParameter(element, bpmnFactory, options, translate));\n\n};\n","'use strict';\n\nvar forEach = require('lodash/forEach');\n\n/**\n * A handler that implements a BPMN 2.0 property update\n * for business object lists which are not represented in the\n * diagram.\n *\n * This is useful in the context of the properties panel in\n * order to update child elements of elements visible in\n * the diagram.\n *\n * Example: perform an update of a specific event definition\n * of an intermediate event.\n *\n * @class\n * @constructor\n */\nfunction UpdateBusinessObjectListHandler(elementRegistry, bpmnFactory) {\n  this._elementRegistry = elementRegistry;\n  this._bpmnFactory = bpmnFactory;\n}\n\nUpdateBusinessObjectListHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\n\nmodule.exports = UpdateBusinessObjectListHandler;\n\nfunction ensureNotNull(prop, name) {\n  if (!prop) {\n    throw new Error(name + 'required');\n  }\n  return prop;\n}\n\n// api /////////////////////////////////////////////\n\n/**\n * Updates a element under a provided parent.\n */\nUpdateBusinessObjectListHandler.prototype.execute = function(context) {\n\n  var currentObject = ensureNotNull(context.currentObject, 'currentObject'),\n      propertyName = ensureNotNull(context.propertyName, 'propertyName'),\n      updatedObjectList = context.updatedObjectList,\n      objectsToRemove = context.objectsToRemove || [],\n      objectsToAdd = context.objectsToAdd || [],\n      changed = [ context.element], // this will not change any diagram-js elements\n      referencePropertyName;\n\n  if (context.referencePropertyName) {\n    referencePropertyName = context.referencePropertyName;\n  }\n\n  var objectList = currentObject[propertyName];\n  // adjust array reference in the parent business object\n  context.previousList = currentObject[propertyName];\n\n  if (updatedObjectList) {\n    currentObject[propertyName] = updatedObjectList;\n  } else {\n    var listCopy = [];\n    // remove all objects which should be removed\n    forEach(objectList, function(object) {\n      if (objectsToRemove.indexOf(object) == -1) {\n        listCopy.push(object);\n      }\n    });\n    // add all objects which should be added\n    listCopy = listCopy.concat(objectsToAdd);\n\n    // set property to new list\n    if (listCopy.length > 0 || !referencePropertyName) {\n\n      // as long as there are elements in the list update the list\n      currentObject[propertyName] = listCopy;\n    } else if (referencePropertyName) {\n\n      // remove the list when it is empty\n      var parentObject = currentObject.$parent;\n      parentObject.set(referencePropertyName, undefined);\n    }\n  }\n\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n/**\n * Reverts the update\n *\n * @method  CreateBusinessObjectListHandler#revert\n *\n * @param {Object} context\n *\n * @return {djs.mode.Base} the updated element\n */\nUpdateBusinessObjectListHandler.prototype.revert = function(context) {\n\n  var currentObject = context.currentObject,\n      propertyName = context.propertyName,\n      previousList = context.previousList,\n      parentObject = currentObject.$parent;\n\n  if (context.referencePropertyName) {\n    parentObject.set(context.referencePropertyName, currentObject);\n  }\n\n  // remove new element\n  currentObject.set(propertyName, previousList);\n\n  return context.changed;\n};\n","'use strict';\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    is = ModelUtil.is,\n    getBusinessObject = ModelUtil.getBusinessObject;\n\nvar extensionElementsHelper = require('./ExtensionElementsHelper'),\n    implementationTypeHelper = require('./ImplementationTypeHelper');\n\nvar InputOutputHelper = {};\n\nmodule.exports = InputOutputHelper;\n\nfunction getElements(bo, type, prop) {\n  var elems = extensionElementsHelper.getExtensionElements(bo, type) || [];\n  return !prop ? elems : (elems[0] || {})[prop] || [];\n}\n\nfunction getParameters(element, prop, insideConnector) {\n  var inputOutput = InputOutputHelper.getInputOutput(element, insideConnector);\n  return (inputOutput && inputOutput.get(prop)) || [];\n}\n\n/**\n * Get a inputOutput from the business object\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {ModdleElement} the inputOutput object\n */\nInputOutputHelper.getInputOutput = function(element, insideConnector) {\n  if (!insideConnector) {\n    var bo = getBusinessObject(element);\n    return (getElements(bo, 'camunda:InputOutput') || [])[0];\n  }\n  var connector = this.getConnector(element);\n  return connector && connector.get('inputOutput');\n};\n\n/**\n * Get a connector from the business object\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement} the connector object\n */\nInputOutputHelper.getConnector = function(element) {\n  var bo = implementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n  return bo && (getElements(bo, 'camunda:Connector') || [])[0];\n};\n\n/**\n * Return all input parameters existing in the business object, and\n * an empty array if none exist.\n *\n * @param  {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {Array} a list of input parameter objects\n */\nInputOutputHelper.getInputParameters = function(element, insideConnector) {\n  return getParameters.apply(this, [ element, 'inputParameters', insideConnector ]);\n};\n\n/**\n * Return all output parameters existing in the business object, and\n * an empty array if none exist.\n *\n * @param  {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {Array} a list of output parameter objects\n */\nInputOutputHelper.getOutputParameters = function(element, insideConnector) {\n  return getParameters.apply(this, [ element, 'outputParameters', insideConnector ]);\n};\n\n/**\n * Get a input parameter from the business object at given index\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n * @param {number} idx\n *\n * @return {ModdleElement} input parameter\n */\nInputOutputHelper.getInputParameter = function(element, insideConnector, idx) {\n  return this.getInputParameters(element, insideConnector)[idx];\n};\n\n/**\n * Get a output parameter from the business object at given index\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n * @param {number} idx\n *\n * @return {ModdleElement} output parameter\n */\nInputOutputHelper.getOutputParameter = function(element, insideConnector, idx) {\n  return this.getOutputParameters(element, insideConnector)[idx];\n};\n\n/**\n * Returns 'true' if the given element supports inputOutput\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {boolean} a boolean value\n */\nInputOutputHelper.isInputOutputSupported = function(element, insideConnector) {\n\n  if (insideConnector) {\n    return true;\n  }\n\n  var bo = getBusinessObject(element);\n\n  return (\n    is(bo, 'bpmn:FlowNode') && !(\n      is(bo, 'bpmn:StartEvent') ||\n      is(bo, 'bpmn:Gateway') ||\n      is(bo, 'bpmn:BoundaryEvent') ||\n      (\n        is(bo, 'bpmn:SubProcess') && bo.get('triggeredByEvent')\n      )\n    )\n  );\n};\n\n/**\n * Returns 'true' if the given element supports output parameters\n *\n * @param {djs.model.Base} element\n * @param  {boolean} insideConnector\n *\n * @return {boolean} a boolean value\n */\nInputOutputHelper.areOutputParametersSupported = function(element, insideConnector) {\n  var bo = getBusinessObject(element);\n  return insideConnector || (!is(bo, 'bpmn:EndEvent') && !bo.loopCharacteristics);\n};\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementReferenceProperty = require('../../../bpmn/parts/implementation/ElementReferenceProperty');\n\nmodule.exports = function(\n    group, element, bpmnFactory, errorEventDefinition,\n    showErrorCodeVariable, showErrorMessageVariable, translate\n) {\n\n\n  var getValue = function(modelProperty) {\n    return function(element) {\n      var modelPropertyValue = errorEventDefinition.get('camunda:' + modelProperty);\n      var value = {};\n\n      value[modelProperty] = modelPropertyValue;\n      return value;\n    };\n  };\n\n  var setValue = function(modelProperty) {\n    return function(element, values) {\n      var props = {};\n\n      props['camunda:' + modelProperty] = values[modelProperty] || undefined;\n\n      return cmdHelper.updateBusinessObject(element, errorEventDefinition, props);\n    };\n  };\n\n\n  group.entries = group.entries.concat(\n    elementReferenceProperty(element, errorEventDefinition, bpmnFactory, {\n      id: 'error-element-message',\n      label: translate('Error Message'),\n      referenceProperty: 'errorRef',\n      modelProperty: 'errorMessage'\n    })\n  );\n\n  if (showErrorCodeVariable) {\n    group.entries.push(entryFactory.textField({\n      id: 'errorCodeVariable',\n      label: translate('Error Code Variable'),\n      modelProperty : 'errorCodeVariable',\n\n      get: getValue('errorCodeVariable'),\n      set: setValue('errorCodeVariable')\n    }));\n  }\n\n  if (showErrorMessageVariable) {\n    group.entries.push(entryFactory.textField({\n      id: 'errorMessageVariable',\n      label: translate('Error Message Variable'),\n      modelProperty: 'errorMessageVariable',\n\n      get: getValue('errorMessageVariable'),\n      set: setValue('errorMessageVariable')\n    }));\n  }\n\n};\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar cmdHelper = require('../helper/CmdHelper');\n\nvar domQuery = require('min-dom').query,\n    domAttr = require('min-dom').attr,\n    domClosest = require('min-dom').closest;\n\nvar filter = require('lodash/filter'),\n    forEach = require('lodash/forEach'),\n    keys = require('lodash/keys');\n\nvar domify = require('min-dom').domify;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\nvar updateSelection = require('selection-update');\n\nvar TABLE_ROW_DIV_SNIPPET = '<div class=\"bpp-field-wrapper bpp-table-row\">';\nvar DELETE_ROW_BUTTON_SNIPPET = '<button class=\"clear\" data-action=\"deleteElement\">' +\n                                  '<span>X</span>' +\n                                '</button>';\n\nfunction createInputRowTemplate(properties, canRemove) {\n  var template = TABLE_ROW_DIV_SNIPPET;\n  template += createInputTemplate(properties, canRemove);\n  template += canRemove ? DELETE_ROW_BUTTON_SNIPPET : '';\n  template += '</div>';\n\n  return template;\n}\n\nfunction createInputTemplate(properties, canRemove) {\n  var columns = properties.length;\n  var template = '';\n  forEach(properties, function(prop) {\n    template += '<input class=\"bpp-table-row-columns-' + columns + ' ' +\n                               (canRemove ? 'bpp-table-row-removable' : '') + '\" ' +\n                       'id=\"camunda-table-row-cell-input-value\" ' +\n                       'type=\"text\" ' +\n                       'name=\"' + escapeHTML(prop) + '\" />';\n  });\n  return template;\n}\n\nfunction createLabelRowTemplate(labels) {\n  var template = TABLE_ROW_DIV_SNIPPET;\n  template += createLabelTemplate(labels);\n  template += '</div>';\n\n  return template;\n}\n\nfunction createLabelTemplate(labels) {\n  var columns = labels.length;\n  var template = '';\n  forEach(labels, function(label) {\n    template += '<label class=\"bpp-table-row-columns-' + columns + '\">' + escapeHTML(label) + '</label>';\n  });\n  return template;\n}\n\nfunction pick(elements, properties) {\n  return (elements || []).map(function(elem) {\n    var newElement = {};\n    forEach(properties, function(prop) {\n      newElement[prop] = elem[prop] || '';\n    });\n    return newElement;\n  });\n}\n\nfunction diff(element, node, values, oldValues, editable) {\n  return filter(values, function(value, idx) {\n    return !valueEqual(element, node, value, oldValues[idx], editable, idx);\n  });\n}\n\nfunction valueEqual(element, node, value, oldValue, editable, idx) {\n  if (value && !oldValue) {\n    return false;\n  }\n  var allKeys = keys(value).concat(keys(oldValue));\n\n  return allKeys.every(function(key) {\n    var n = value[key] || undefined;\n    var o = oldValue[key] || undefined;\n    return !editable(element, node, key, idx) || n === o;\n  });\n}\n\nfunction getEntryNode(node) {\n  return domClosest(node, '[data-entry]', true);\n}\n\nfunction getContainer(node) {\n  return domQuery('div[data-list-entry-container]', node);\n}\n\nfunction getSelection(node) {\n  return {\n    start: node.selectionStart,\n    end: node.selectionEnd\n  };\n}\n\nfunction setSelection(node, selection) {\n  node.selectionStart = selection.start;\n  node.selectionEnd = selection.end;\n}\n\n/**\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} options.description\n * @param  {Array<string>} options.modelProperties\n * @param  {Array<string>} options.labels\n * @param  {Function} options.getElements - this callback function must return a list of business object items\n * @param  {Function} options.removeElement\n * @param  {Function} options.addElement\n * @param  {Function} options.updateElement\n * @param  {Function} options.editable\n * @param  {Function} options.setControlValue\n * @param  {Function} options.show\n *\n * @return {Object}\n */\nmodule.exports = function(options) {\n\n  var id = options.id,\n      modelProperties = options.modelProperties,\n      labels = options.labels,\n      description = options.description;\n\n  var labelRow = createLabelRowTemplate(labels);\n\n  var getElements = options.getElements;\n\n  var removeElement = options.removeElement,\n      canRemove = typeof removeElement === 'function';\n\n  var addElement = options.addElement,\n      canAdd = typeof addElement === 'function',\n      addLabel = options.addLabel || 'Add Value';\n\n  var updateElement = options.updateElement,\n      canUpdate = typeof updateElement === 'function';\n\n  var editable = options.editable || function() { return true; },\n      setControlValue = options.setControlValue;\n\n  var show = options.show,\n      canBeShown = typeof show === 'function';\n\n  var elements = function(element, node) {\n    return pick(getElements(element, node), modelProperties);\n  };\n\n  var factory = {\n    id: id,\n    html: (canAdd ?\n      '<div class=\"bpp-table-add-row\" ' + (canBeShown ? 'data-show=\"show\"' : '') + '>' +\n            '<label>' + escapeHTML(addLabel) + '</label>' +\n            '<button class=\"add\" data-action=\"addElement\"><span>+</span></button>' +\n          '</div>' : '') +\n          '<div class=\"bpp-table\" data-show=\"showTable\">' +\n            '<div class=\"bpp-field-wrapper bpp-table-row\">' +\n               labelRow +\n            '</div>' +\n            '<div data-list-entry-container>' +\n            '</div>' +\n          '</div>' +\n\n          // add description below table entry field\n          (description ? entryFieldDescription(description) : ''),\n\n    get: function(element, node) {\n      var boElements = elements(element, node, this.__invalidValues);\n\n      var invalidValues = this.__invalidValues;\n\n      delete this.__invalidValues;\n\n      forEach(invalidValues, function(value, idx) {\n        var element = boElements[idx];\n\n        forEach(modelProperties, function(prop) {\n          element[prop] = value[prop];\n        });\n      });\n\n      return boElements;\n    },\n\n    set: function(element, values, node) {\n      var action = this.__action || {};\n      delete this.__action;\n\n      if (action.id === 'delete-element') {\n        return removeElement(element, node, action.idx);\n      }\n      else if (action.id === 'add-element') {\n        return addElement(element, node);\n      }\n      else if (canUpdate) {\n        var commands = [],\n            valuesToValidate = values;\n\n        if (typeof options.validate !== 'function') {\n          valuesToValidate = diff(element, node, values, elements(element, node), editable);\n        }\n\n        var self = this;\n\n        forEach(valuesToValidate, function(value) {\n          var validationError,\n              idx = values.indexOf(value);\n\n          if (typeof options.validate === 'function') {\n            validationError = options.validate(element, value, node, idx);\n          }\n\n          if (!validationError) {\n            var cmd = updateElement(element, value, node, idx);\n\n            if (cmd) {\n              commands.push(cmd);\n            }\n          } else {\n            // cache invalid value in an object by index as key\n            self.__invalidValues = self.__invalidValues || {};\n            self.__invalidValues[idx] = value;\n\n            // execute a command, which does not do anything\n            commands.push(cmdHelper.updateProperties(element, {}));\n          }\n        });\n\n        return commands;\n      }\n    },\n    createListEntryTemplate: function(value, index, selectBox) {\n      return createInputRowTemplate(modelProperties, canRemove);\n    },\n\n    addElement: function(element, node, event, scopeNode) {\n      var template = domify(createInputRowTemplate(modelProperties, canRemove));\n\n      var container = getContainer(node);\n      container.appendChild(template);\n\n      this.__action = {\n        id: 'add-element'\n      };\n\n      return true;\n    },\n\n    deleteElement: function(element, node, event, scopeNode) {\n      var container = getContainer(node);\n      var rowToDelete = event.delegateTarget.parentNode;\n      var idx = parseInt(domAttr(rowToDelete, 'data-index'), 10);\n\n      container.removeChild(rowToDelete);\n\n      this.__action = {\n        id: 'delete-element',\n        idx: idx\n      };\n\n      return true;\n    },\n\n    editable: function(element, rowNode, input, prop, value, idx) {\n      var entryNode = domClosest(rowNode, '[data-entry]');\n      return editable(element, entryNode, prop, idx);\n    },\n\n    show: function(element, entryNode, node, scopeNode) {\n      entryNode = getEntryNode(entryNode);\n      return show(element, entryNode, node, scopeNode);\n    },\n\n    showTable: function(element, entryNode, node, scopeNode) {\n      entryNode = getEntryNode(entryNode);\n      var elems = elements(element, entryNode);\n      return elems && elems.length && (!canBeShown || show(element, entryNode, node, scopeNode));\n    },\n\n    validateListItem: function(element, value, node, idx) {\n      if (typeof options.validate === 'function') {\n        return options.validate(element, value, node, idx);\n      }\n    }\n\n  };\n\n  // Update/set the selection on the correct position.\n  // It's the same code like for an input value in the PropertiesPanel.js.\n  if (setControlValue) {\n    factory.setControlValue = function(element, rowNode, input, prop, value, idx) {\n      var entryNode = getEntryNode(rowNode);\n\n      var isReadOnly = domAttr(input, 'readonly');\n      var oldValue = input.value;\n\n      var selection;\n\n      // prevents input fields from having the value 'undefined'\n      if (value === undefined) {\n        value = '';\n      }\n\n      // when the attribute 'readonly' exists, ignore the comparison\n      // with 'oldValue' and 'value'\n      if (!!isReadOnly && oldValue === value) {\n        return;\n      }\n\n      // update selection on undo/redo\n      if (document.activeElement === input) {\n        selection = updateSelection(getSelection(input), oldValue, value);\n      }\n\n      setControlValue(element, entryNode, input, prop, value, idx);\n\n      if (selection) {\n        setSelection(input, selection);\n      }\n\n    };\n  }\n\n  return factory;\n\n};\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nmodule.exports = getHolder;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    getExtensionElements = require('../../../helper/ExtensionElementsHelper').getExtensionElements,\n    removeEntry = require('../../../helper/ExtensionElementsHelper').removeEntry,\n    extensionElements = require('./implementation/ExtensionElements'),\n    properties = require('./implementation/Properties'),\n    entryFactory = require('../../../factory/EntryFactory'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    formHelper = require('../../../helper/FormHelper'),\n    utils = require('../../../Utils'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    find = require('lodash/find'),\n    each = require('lodash/forEach');\n\nfunction generateValueId() {\n  return utils.nextId('Value_');\n}\n\n/**\n * Generate a form field specific textField using entryFactory.\n *\n * @param  {string} options.id\n * @param  {string} options.label\n * @param  {string} options.modelProperty\n * @param  {function} options.validate\n *\n * @return {Object} an entryFactory.textField object\n */\nfunction formFieldTextField(options, getSelectedFormField) {\n\n  var id = options.id,\n      label = options.label,\n      modelProperty = options.modelProperty,\n      validate = options.validate;\n\n  return entryFactory.textField({\n    id: id,\n    label: label,\n    modelProperty: modelProperty,\n    get: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node) || {},\n          values = {};\n\n      values[modelProperty] = selectedFormField[modelProperty];\n\n      return values;\n    },\n\n    set: function(element, values, node) {\n      var commands = [];\n\n      if (typeof options.set === 'function') {\n        var cmd = options.set(element, values, node);\n\n        if (cmd) {\n          commands.push(cmd);\n        }\n      }\n\n      var formField = getSelectedFormField(element, node),\n          properties = {};\n\n      properties[modelProperty] = values[modelProperty] || undefined;\n\n      commands.push(cmdHelper.updateBusinessObject(element, formField, properties));\n\n      return commands;\n    },\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    },\n    validate: validate\n  });\n}\n\nfunction ensureFormKeyAndDataSupported(element) {\n  return (\n    is(element, 'bpmn:StartEvent') && !is(element.parent, 'bpmn:SubProcess')\n  ) || is(element, 'bpmn:UserTask');\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!ensureFormKeyAndDataSupported(element)) {\n    return;\n  }\n\n\n  /**\n   * Return the currently selected form field querying the form field select box\n   * from the DOM.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {DOMElement} node - DOM element of any form field text input\n   *\n   * @return {ModdleElement} the currently selected form field\n   */\n  function getSelectedFormField(element, node) {\n    var selected = formFieldsEntry.getSelected(element, node.parentNode);\n\n    if (selected.idx === -1) {\n      return;\n    }\n\n    return formHelper.getFormField(element, selected.idx);\n  }\n\n  // [FormKey] form key text input field\n  group.entries.push(entryFactory.textField({\n    id : 'form-key',\n    label : translate('Form Key'),\n    modelProperty: 'formKey',\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n\n      return {\n        formKey: bo.get('activiti:formKey')\n      };\n    },\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element),\n          formKey = values.formKey || undefined;\n\n      return cmdHelper.updateBusinessObject(element, bo, { 'activiti:formKey': formKey });\n    }\n  }));\n\n  // [FormData] form field select box\n  var formFieldsEntry = extensionElements(element, bpmnFactory, {\n    id: 'form-fields',\n    label: translate('Form Fields'),\n    modelProperty: 'id',\n    prefix: 'FormField',\n    createExtensionElement: function(element, extensionElements, value) {\n      var bo = getBusinessObject(element), commands = [];\n\n      if (!extensionElements) {\n        extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n        commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));\n      }\n\n      var formData = formHelper.getFormData(element);\n\n      if (!formData) {\n        formData = elementHelper.createElement('activiti:FormData', { fields: [] }, extensionElements, bpmnFactory);\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\n          element,\n          extensionElements,\n          'values',\n          'extensionElements',\n          [formData],\n          []\n        ));\n      }\n\n      var field = elementHelper.createElement('activiti:FormField', { id: value }, formData, bpmnFactory);\n      if (typeof formData.fields !== 'undefined') {\n        commands.push(cmdHelper.addElementsTolist(element, formData, 'fields', [ field ]));\n      } else {\n        commands.push(cmdHelper.updateBusinessObject(element, formData, {\n          fields: [ field ]\n        }));\n      }\n      return commands;\n    },\n    removeExtensionElement: function(element, extensionElements, value, idx) {\n      var formData = getExtensionElements(getBusinessObject(element), 'activiti:FormData')[0],\n          entry = formData.fields[idx],\n          commands = [];\n\n      if (formData.fields.length < 2) {\n        commands.push(removeEntry(getBusinessObject(element), element, formData));\n      } else {\n        commands.push(cmdHelper.removeElementsFromList(element, formData, 'fields', null, [entry]));\n\n        if (entry.id === formData.get('businessKey')) {\n          commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n        }\n      }\n\n      return commands;\n    },\n    getExtensionElements: function(element) {\n      return formHelper.getFormFields(element);\n    },\n    hideExtensionElements: function(element, node) {\n      return false;\n    }\n  });\n  group.entries.push(formFieldsEntry);\n\n  // [FormData] business key form field select box\n  var formBusinessKeyFormFieldEntry = entryFactory.selectBox({\n    id: 'form-business-key',\n    label: translate('Business Key'),\n    modelProperty: 'businessKey',\n    selectOptions: function(element, inputNode) {\n      var selectOptions = [{ name: '', value: '' }];\n      var formFields = formHelper.getFormFields(element);\n      each(formFields, function(field) {\n        if (field.type !== 'boolean') {\n          selectOptions.push({ name: field.id, value: field.id });\n        }\n      });\n      return selectOptions;\n    },\n    get: function(element, node) {\n      var result = { businessKey: '' };\n      var bo = getBusinessObject(element);\n      var formDataExtension = getExtensionElements(bo, 'activiti:FormData');\n      if (formDataExtension) {\n        var formData = formDataExtension[0];\n        var storedValue = formData.get('businessKey');\n        result = { businessKey: storedValue };\n      }\n      return result;\n    },\n    set: function(element, values, node) {\n      var formData = getExtensionElements(getBusinessObject(element), 'activiti:FormData')[0];\n      return cmdHelper.updateBusinessObject(element, formData, { 'businessKey': values.businessKey || undefined });\n    },\n    hidden: function(element, node) {\n      var isStartEvent = is(element,'bpmn:StartEvent');\n      return !(isStartEvent && formHelper.getFormFields(element).length > 0);\n    }\n  });\n  group.entries.push(formBusinessKeyFormFieldEntry);\n\n  // [FormData] Form Field label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-header',\n    labelText: translate('Form Field'),\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] form field id text input field\n  group.entries.push(entryFactory.validationAwareTextField({\n    id: 'form-field-id',\n    label: translate('ID'),\n    modelProperty: 'id',\n\n    getProperty: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node) || {};\n\n      return selectedFormField.id;\n    },\n\n    setProperty: function(element, properties, node) {\n      var formField = getSelectedFormField(element, node);\n\n      return cmdHelper.updateBusinessObject(element, formField, properties);\n    },\n\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    },\n\n    validate: function(element, values, node) {\n\n      var formField = getSelectedFormField(element, node);\n\n      if (formField) {\n\n        var idValue = values.id;\n\n        if (!idValue || idValue.trim() === '') {\n          return { id: 'Form field id must not be empty' };\n        }\n\n        var formFields = formHelper.getFormFields(element);\n\n        var existingFormField = find(formFields, function(f) {\n          return f !== formField && f.id === idValue;\n        });\n\n        if (existingFormField) {\n          return { id: 'Form field id already used in form data.' };\n        }\n      }\n    }\n  }));\n\n  // [FormData] form field type combo box\n  group.entries.push(entryFactory.comboBox({\n    id: 'form-field-type',\n    label: translate('Type'),\n    selectOptions: [\n      { name: 'string', value: 'string' },\n      { name: 'long', value: 'long' },\n      { name: 'boolean', value: 'boolean' },\n      { name: 'date', value: 'date' },\n      { name: 'enum', value: 'enum' }\n    ],\n    modelProperty: 'type',\n    emptyParameter: true,\n\n    get: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      if (selectedFormField) {\n        return { type: selectedFormField.type };\n      } else {\n        return {};\n      }\n    },\n    set: function(element, values, node) {\n      var selectedFormField = getSelectedFormField(element, node),\n          formData = getExtensionElements(getBusinessObject(element), 'activiti:FormData')[0],\n          commands = [];\n\n      if (selectedFormField.type === 'enum' && values.type !== 'enum') {\n        // delete activiti:value objects from formField.values when switching from type enum\n        commands.push(cmdHelper.updateBusinessObject(element, selectedFormField, { values: undefined }));\n      }\n      if (values.type === 'boolean' && selectedFormField.get('id') === formData.get('businessKey')) {\n        commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n      }\n      commands.push(cmdHelper.updateBusinessObject(element, selectedFormField, values));\n\n      return commands;\n    },\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] form field label text input field\n  group.entries.push(formFieldTextField({\n    id: 'form-field-label',\n    label: translate('Label'),\n    modelProperty: 'label'\n  }, getSelectedFormField));\n\n  // [FormData] form field defaultValue text input field\n  group.entries.push(formFieldTextField({\n    id: 'form-field-defaultValue',\n    label: translate('Default Value'),\n    modelProperty: 'defaultValue'\n  }, getSelectedFormField));\n\n\n  // [FormData] form field enum values label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-enum-values-header',\n    labelText: translate('Values'),\n    divider: true,\n    showLabel: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return selectedFormField && selectedFormField.type === 'enum';\n    }\n  }));\n\n  // [FormData] form field enum values table\n  group.entries.push(entryFactory.table({\n    id: 'form-field-enum-values',\n    labels: [ translate('Id'), translate('Name') ],\n    modelProperties: [ 'id', 'name' ],\n    show: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return selectedFormField && selectedFormField.type === 'enum';\n    },\n    getElements: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return formHelper.getEnumValues(selectedFormField);\n    },\n    addElement: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node),\n          id = generateValueId();\n\n      var enumValue = elementHelper.createElement(\n        'activiti:Value',\n        { id: id, name: undefined },\n        getBusinessObject(element),\n        bpmnFactory\n      );\n\n      return cmdHelper.addElementsTolist(element, selectedFormField, 'values', [enumValue]);\n    },\n    removeElement: function(element, node, idx) {\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      return cmdHelper.removeElementsFromList(element, selectedFormField, 'values', null, [enumValue]);\n    },\n    updateElement: function(element, value, node, idx) {\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      value.name = value.name || undefined;\n      return cmdHelper.updateBusinessObject(element, enumValue, value);\n    },\n    validate: function(element, value, node, idx) {\n\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      if (enumValue) {\n        // check if id is valid\n        var validationError = utils.isIdValid(enumValue, value.id, translate);\n\n        if (validationError) {\n          return { id: validationError };\n        }\n      }\n    }\n  }));\n\n  // [FormData] Validation label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-validation-header',\n    labelText: translate('Validation'),\n    divider: true,\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] form field constraints table\n  group.entries.push(entryFactory.table({\n    id: 'constraints-list',\n    modelProperties: [ 'name', 'config' ],\n    labels: [ translate('Name'), translate('Config') ],\n    addLabel: translate('Add Constraint'),\n    getElements: function(element, node) {\n      var formField = getSelectedFormField(element, node);\n\n      return formHelper.getConstraints(formField);\n    },\n    addElement: function(element, node) {\n\n      var commands = [],\n          formField = getSelectedFormField(element, node),\n          validation = formField.validation;\n\n      if (!validation) {\n        // create validation business object and add it to form data, if it doesn't exist\n        validation = elementHelper.createElement('activiti:Validation', {}, getBusinessObject(element), bpmnFactory);\n\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { 'validation': validation }));\n      }\n\n      var newConstraint = elementHelper.createElement(\n        'activiti:Constraint',\n        { name: undefined, config: undefined },\n        validation,\n        bpmnFactory\n      );\n\n      commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n      return commands;\n    },\n    updateElement: function(element, value, node, idx) {\n      var formField = getSelectedFormField(element, node),\n          constraint = formHelper.getConstraints(formField)[idx];\n\n      value.name = value.name || undefined;\n      value.config = value.config || undefined;\n\n      return cmdHelper.updateBusinessObject(element, constraint, value);\n    },\n    removeElement: function(element, node, idx) {\n      var commands = [],\n          formField = getSelectedFormField(element, node),\n          constraints = formHelper.getConstraints(formField),\n          currentConstraint = constraints[idx];\n\n      commands.push(cmdHelper.removeElementsFromList(\n        element,\n        formField.validation,\n        'constraints',\n        null,\n        [ currentConstraint ]\n      ));\n\n      if (constraints.length === 1) {\n        // remove activiti:validation if the last existing constraint has been removed\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { validation: undefined }));\n      }\n\n      return commands;\n    },\n    show: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] Properties label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-properties-header',\n    labelText: translate('Properties'),\n    divider: true,\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] activiti:properties table\n  group.entries.push(properties(element, bpmnFactory, {\n    id: 'form-field-properties',\n    modelProperties: [ 'id', 'value' ],\n    labels: [ translate('Id'), translate('Value') ],\n    getParent: function(element, node) {\n      return getSelectedFormField(element, node);\n    },\n    show: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }, translate));\n};\n","'use strict';\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper');\n\nvar fieldInjection = require('./implementation/FieldInjection');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var bo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  var fieldInjectionEntry = fieldInjection(element, bpmnFactory, translate, { businessObject: bo });\n\n  if (fieldInjectionEntry && fieldInjectionEntry.length > 0) {\n    group.entries = group.entries.concat(fieldInjectionEntry);\n  }\n\n};\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    scriptImplementation = require('./implementation/Script');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var bo;\n\n  if (is(element, 'bpmn:ScriptTask')) {\n    bo = getBusinessObject(element);\n  }\n\n  if (!bo) {\n    return;\n  }\n\n  var script = scriptImplementation('scriptFormat', 'script', false, translate);\n  group.entries.push({\n    id: 'script-implementation',\n    label: translate('Script'),\n    html: script.template,\n\n    get: function(element) {\n      return script.get(element, bo);\n    },\n\n    set: function(element, values, containerElement) {\n      var properties = script.set(element, values, containerElement);\n\n      return cmdHelper.updateProperties(element, properties);\n    },\n\n    validate: function(element, values) {\n      return script.validate(element, values);\n    },\n\n    script : script,\n\n    cssClasses: ['bpp-textfield']\n\n  });\n\n  group.entries.push(entryFactory.textField({\n    id : 'scriptResultVariable',\n    label : translate('Result Variable'),\n    modelProperty : 'scriptResultVariable',\n\n    get: function(element, propertyName) {\n      var boResultVariable = bo.get('camunda:resultVariable');\n\n      return { scriptResultVariable : boResultVariable };\n    },\n\n    set: function(element, values, containerElement) {\n      return cmdHelper.updateProperties(element, {\n        'camunda:resultVariable': values.scriptResultVariable.length\n          ? values.scriptResultVariable\n          : undefined\n      });\n    }\n\n  }));\n\n};\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","'use strict';\n\n/**\n * The label factory provides a label entry. For the label text\n * it expects either a string provided by the options.labelText\n * parameter or it could be generated programmatically using a\n * function passed as the options.get parameter.\n *\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} [options.labelText]\n * @param  {Function} [options.get]\n * @param  {Function} [options.showLabel]\n * @param  {Boolean} [options.divider] adds a divider at the top of the label if true; default: false\n */\nvar label = function(options) {\n  return {\n    id: options.id,\n    html: '<label data-value=\"label\" ' +\n            'data-show=\"showLabel\" ' +\n            'class=\"entry-label' + (options.divider ? ' divider' : '') + '\">' +\n          '</label>',\n    get: function(element, node) {\n      if (typeof options.get === 'function') {\n        return options.get(element, node);\n      }\n      return { label: options.labelText };\n    },\n    showLabel: function(element, node) {\n      if (typeof options.showLabel === 'function') {\n        return options.showLabel(element, node);\n      }\n      return true;\n    }\n  };\n};\n\nmodule.exports = label;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    escapeHTML = require('../../../Utils').escapeHTML,\n    domQuery = require('min-dom').query,\n    cmdHelper = require('../../../helper/CmdHelper'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\n    scriptImplementation = require('./implementation/Script');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\n\n  if (!(is(element, 'bpmn:SequenceFlow') && isConditionalSource(element.source))\n    && !conditionalEventDefinition) {\n    return;\n  }\n\n  var script = scriptImplementation('language', 'body', true, translate);\n  group.entries.push({\n    id: 'condition',\n    label: translate('Condition'),\n    html: '<div class=\"bpp-row\">' +\n              '<label for=\"cam-condition-type\">'+ escapeHTML(translate('Condition Type')) + '</label>' +\n              '<div class=\"bpp-field-wrapper\">' +\n                '<select id=\"cam-condition-type\" name=\"conditionType\" data-value>' +\n                  '<option value=\"expression\">'+ escapeHTML(translate('Expression')) + '</option>' +\n                  '<option value=\"script\">'+ escapeHTML(translate('Script')) + '</option>' +\n                  '<option value=\"\" selected></option>' +\n                '</select>' +\n              '</div>' +\n            '</div>' +\n\n            // expression\n            '<div class=\"bpp-row\">' +\n              '<label for=\"cam-condition\" data-show=\"isExpression\">' + escapeHTML(translate('Expression')) + '</label>' +\n              '<div class=\"bpp-field-wrapper\" data-show=\"isExpression\">' +\n                '<input id=\"cam-condition\" type=\"text\" name=\"condition\" />' +\n                '<button class=\"clear\" data-action=\"clear\" data-show=\"canClear\">' +\n                  '<span>X</span>' +\n                '</button>' +\n              '</div>' +\n              '<div data-show=\"isScript\">' +\n                script.template +\n              '</div>' +\n            '</div>',\n\n    get: function(element, propertyName) {\n      var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\n\n      var conditionExpression = conditionalEventDefinition\n        ? conditionalEventDefinition.condition\n        : bo.conditionExpression;\n\n      var values = {},\n          conditionType = '';\n\n      if (conditionExpression) {\n        var conditionLanguage = conditionExpression.language;\n        if (typeof conditionLanguage !== 'undefined') {\n          conditionType = 'script';\n          values = script.get(element, conditionExpression);\n        } else {\n          conditionType = 'expression';\n          values.condition = conditionExpression.get('body');\n        }\n      }\n\n      values.conditionType = conditionType;\n\n      return values;\n\n    },\n\n    set: function(element, values, containerElement) {\n      var conditionType = values.conditionType;\n      var commands = [];\n\n      var conditionProps = {\n        body: undefined\n      };\n\n      if (conditionType === 'script') {\n        conditionProps = script.set(element, values, containerElement);\n      } else {\n        var condition = values.condition;\n\n        conditionProps.body = condition;\n      }\n\n      var conditionOrConditionExpression;\n\n      if (conditionType) {\n        conditionOrConditionExpression = elementHelper.createElement(\n          'bpmn:FormalExpression',\n          conditionProps,\n          conditionalEventDefinition || bo,\n          bpmnFactory\n        );\n\n        var source = element.source;\n\n        // if default-flow, remove default-property from source\n        if (source && source.businessObject.default === bo) {\n          commands.push(cmdHelper.updateProperties(source, { 'default': undefined }));\n        }\n      }\n\n      var update = conditionalEventDefinition\n        ? { condition: conditionOrConditionExpression }\n        : { conditionExpression: conditionOrConditionExpression };\n\n      commands.push(cmdHelper.updateBusinessObject(element, conditionalEventDefinition || bo, update));\n\n      return commands;\n    },\n\n    validate: function(element, values) {\n      var validationResult = {};\n\n      if (!values.condition && values.conditionType === 'expression') {\n        validationResult.condition = translate('Must provide a value');\n      }\n      else if (values.conditionType === 'script') {\n        validationResult = script.validate(element, values);\n      }\n\n      return validationResult;\n    },\n\n    isExpression: function(element, inputNode) {\n      var conditionType = domQuery('select[name=conditionType]', inputNode);\n      if (conditionType.selectedIndex >= 0) {\n        return conditionType.options[conditionType.selectedIndex].value === 'expression';\n      }\n    },\n\n    isScript: function(element, inputNode) {\n      var conditionType = domQuery('select[name=conditionType]', inputNode);\n      if (conditionType.selectedIndex >= 0) {\n        return conditionType.options[conditionType.selectedIndex].value === 'script';\n      }\n    },\n\n    clear: function(element, inputNode) {\n      // clear text input\n      domQuery('input[name=condition]', inputNode).value='';\n\n      return true;\n    },\n\n    canClear: function(element, inputNode) {\n      var input = domQuery('input[name=condition]', inputNode);\n\n      return input.value !== '';\n    },\n\n    script : script,\n\n    cssClasses: [ 'bpp-textfield' ]\n  });\n};\n\n\n// utilities //////////////////////////\n\nvar CONDITIONAL_SOURCES = [\n  'bpmn:Activity',\n  'bpmn:ExclusiveGateway',\n  'bpmn:InclusiveGateway',\n  'bpmn:ComplexGateway'\n];\n\nfunction isConditionalSource(element) {\n  return isAny(element, CONDITIONAL_SOURCES);\n}\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var jobPriorityEntry = entryFactory.textField({\n    id: 'jobPriority',\n    label: translate('Job Priority'),\n    modelProperty: 'jobPriority',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        jobPriority: bo.get('camunda:jobPriority')\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:jobPriority': values.jobPriority || undefined\n      });\n    }\n\n  });\n\n  return [ jobPriorityEntry ];\n\n};\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","module.exports = {\n  __depends__: [\n    require('./cmd'),\n    require('diagram-js/lib/i18n/translate').default\n  ],\n  __init__: [\n    'customElementsPropertiesActivator',\n    'elementTemplatesLoader'\n  ],\n  customElementsPropertiesActivator: [ 'type', require('./CustomElementsPropertiesActivator') ],\n  elementTemplates: [ 'type', require('./ElementTemplates') ],\n  elementTemplatesLoader: [ 'type', require('./ElementTemplatesLoader') ]\n};\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","'use strict';\n\nvar findExtension = require('../Helper').findExtension,\n    findExtensions = require('../Helper').findExtensions;\n\nvar createActivitiProperty = require('../CreateHelper').createActivitiProperty,\n    createInputParameter = require('../CreateHelper').createInputParameter,\n    createOutputParameter = require('../CreateHelper').createOutputParameter,\n    createActivitiIn = require('../CreateHelper').createActivitiIn,\n    createActivitiOut = require('../CreateHelper').createActivitiOut,\n    createActivitiInWithBusinessKey = require('../CreateHelper').createActivitiInWithBusinessKey,\n    createActivitiExecutionListenerScript = require('../CreateHelper').createActivitiExecutionListenerScript,\n    createActivitiFieldInjection = require('../CreateHelper').createActivitiFieldInjection;\n\nvar forEach = require('lodash/forEach');\n\nvar ACTIVITI_SERVICE_TASK_LIKE = [\n  'activiti:class',\n  'activiti:delegateExpression',\n  'activiti:expression'\n];\n\n/**\n * A handler that changes the modeling template of a BPMN element.\n */\nfunction ChangeElementTemplateHandler(modeling, commandStack, bpmnFactory) {\n\n  function getOrCreateExtensionElements(element) {\n\n    var bo = element.businessObject;\n\n    var extensionElements = bo.extensionElements;\n\n    // add extension elements\n    if (!extensionElements) {\n      extensionElements = bpmnFactory.create('bpmn:ExtensionElements', {\n        values: []\n      });\n\n      modeling.updateProperties(element, {\n        extensionElements: extensionElements\n      });\n    }\n\n    return extensionElements;\n  }\n\n  function updateModelerTemplate(element, newTemplate) {\n    modeling.updateProperties(element, {\n      'activiti:modelerTemplate': newTemplate && newTemplate.id\n    });\n  }\n\n  function updateIoMappings(element, newTemplate, context) {\n\n    var newMappings = createInputOutputMappings(newTemplate, bpmnFactory),\n        oldMappings;\n\n    if (!newMappings) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { inputOutput: newMappings }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldMappings = findExtension(element, 'activiti:InputOutput');\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: [ newMappings ],\n        objectsToRemove: oldMappings ? [ oldMappings ] : []\n      });\n    }\n  }\n\n  function updateActivitiField(element, newTemplate, context) {\n\n    var newMappings = createActivitiFieldInjections(newTemplate, bpmnFactory),\n        oldMappings;\n\n    if (!newMappings) {\n      return;\n    }\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { field: newMappings }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldMappings = findExtensions(element, ['activiti:Field']);\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: newMappings,\n        objectsToRemove: oldMappings ? oldMappings : []\n      });\n    }\n  }\n\n\n  function updateActivitiProperties(element, newTemplate, context) {\n\n    var newProperties = createActivitiProperties(newTemplate, bpmnFactory),\n        oldProperties;\n\n    if (!newProperties) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { properties: newProperties }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldProperties = findExtension(element, 'activiti:Properties');\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: [ newProperties ],\n        objectsToRemove: oldProperties ? [ oldProperties ] : []\n      });\n    }\n  }\n\n  function updateProperties(element, newTemplate, context) {\n\n    var newProperties = createBpmnPropertyUpdates(newTemplate, bpmnFactory);\n\n    var newPropertiesCount = Object.keys(newProperties).length;\n\n    if (!newPropertiesCount) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: newProperties\n      });\n    } else {\n      modeling.updateProperties(element, newProperties);\n    }\n  }\n\n  function updateInOut(element, newTemplate, context) {\n\n    var newInOut = createActivitiInOut(newTemplate, bpmnFactory),\n        oldInOut;\n\n    if (!newInOut) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { inout: newInOut }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldInOut = findExtensions(context, [ 'activiti:In', 'activiti:Out' ]);\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: newInOut,\n        objectsToRemove: oldInOut\n      });\n    }\n  }\n\n  function updateExecutionListener(element, newTemplate, context) {\n\n    var newExecutionListeners = createActivitiExecutionListeners(newTemplate, bpmnFactory),\n        oldExecutionsListeners;\n\n    if (!newExecutionListeners.length) {\n      return;\n    }\n\n    if (context) {\n      commandStack.execute('properties-panel.update-businessobject', {\n        element: element,\n        businessObject: context,\n        properties: { executionListener: newExecutionListeners }\n      });\n    } else {\n      context = getOrCreateExtensionElements(element);\n      oldExecutionsListeners = findExtensions(context, [ 'activiti:ExecutionListener' ]);\n\n      commandStack.execute('properties-panel.update-businessobject-list', {\n        element: element,\n        currentObject: context,\n        propertyName: 'values',\n        objectsToAdd: newExecutionListeners,\n        objectsToRemove: oldExecutionsListeners\n      });\n    }\n  }\n\n  /**\n   * Update / recreate a scoped element.\n   *\n   * @param {djs.model.Base} element the diagram parent element\n   * @param {String} scopeName name of the scope, i.e. activiti:Connector\n   * @param {Object} scopeDefinition\n   */\n  function updateScopeElements(element, scopeName, scopeDefinition) {\n\n    var scopeElement = bpmnFactory.create(scopeName);\n\n    // update activiti:inputOutput\n    updateIoMappings(element, scopeDefinition, scopeElement);\n\n    // update activiti:field\n    updateActivitiField(element, scopeDefinition, scopeElement);\n\n    // update activiti:properties\n    updateActivitiProperties(element, scopeDefinition, scopeElement);\n\n    // update other properties (bpmn:condition, activiti:async, ...)\n    updateProperties(element, scopeDefinition, scopeElement);\n\n    // update activiti:in and activiti:out\n    updateInOut(element, scopeDefinition, scopeElement);\n\n    // update activiti:executionListener\n    updateExecutionListener(element, scopeDefinition, scopeElement);\n\n    var extensionElements = getOrCreateExtensionElements(element);\n    var oldScope = findExtension(extensionElements, scopeName);\n\n    commandStack.execute('properties-panel.update-businessobject-list', {\n      element: element,\n      currentObject: extensionElements,\n      propertyName: 'values',\n      objectsToAdd: [ scopeElement ],\n      objectsToRemove: oldScope ? [ oldScope ] : []\n    });\n  }\n\n  /**\n   * Compose an element template change action, updating all\n   * necessary underlying properties.\n   *\n   * @param {Object} context\n   * @param {Object} context.element\n   * @param {Object} context.oldTemplate\n   * @param {Object} context.newTemplate\n   */\n  this.preExecute = function(context) {\n\n    var element = context.element,\n        newTemplate = context.newTemplate;\n\n    // update activiti:modelerTemplate attribute\n    updateModelerTemplate(element, newTemplate);\n\n    if (newTemplate) {\n\n      // update activiti:inputOutput\n      updateIoMappings(element, newTemplate);\n\n      // update activiti:field\n      updateActivitiField(element, newTemplate);\n\n      // update activiti:properties\n      updateActivitiProperties(element, newTemplate);\n\n      // update other properties (bpmn:condition, activiti:async, ...)\n      updateProperties(element, newTemplate);\n\n      // update activiti:in and activiti:out\n      updateInOut(element, newTemplate);\n\n      // update activiti:executionListener\n      updateExecutionListener(element, newTemplate);\n\n      // loop on scopes properties\n      forEach(newTemplate.scopes, function(scopeDefinition, scopeName) {\n        updateScopeElements(element, scopeName, scopeDefinition);\n      });\n\n    }\n  };\n}\n\nChangeElementTemplateHandler.$inject = [ 'modeling', 'commandStack', 'bpmnFactory' ];\n\nmodule.exports = ChangeElementTemplateHandler;\n\n\n\n// helpers /////////////////////////////\n\nfunction createBpmnPropertyUpdates(template, bpmnFactory) {\n\n  var propertyUpdates = {};\n\n  template.properties.forEach(function(p) {\n\n    var binding = p.binding,\n        bindingTarget = binding.name,\n        propertyValue;\n\n    if (binding.type === 'property') {\n\n      if (bindingTarget === 'conditionExpression') {\n        propertyValue = bpmnFactory.create('bpmn:FormalExpression', {\n          body: p.value,\n          language: binding.scriptFormat\n        });\n      } else {\n        propertyValue = p.value;\n      }\n\n      // assigning activiti:async to true|false\n      // assigning bpmn:conditionExpression to { $type: 'bpmn:FormalExpression', ... }\n      propertyUpdates[bindingTarget] = propertyValue;\n\n      // make sure we unset other \"implementation types\"\n      // when applying a activiti:class template onto a preconfigured\n      // activiti:delegateExpression element\n      if (ACTIVITI_SERVICE_TASK_LIKE.indexOf(bindingTarget) !== -1) {\n        ACTIVITI_SERVICE_TASK_LIKE.forEach(function(prop) {\n          if (prop !== bindingTarget) {\n            propertyUpdates[prop] = undefined;\n          }\n        });\n      }\n    }\n  });\n\n  return propertyUpdates;\n}\n\nfunction createActivitiFieldInjections(template, bpmnFactory) {\n  var injections = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n    if (bindingType === 'activiti:field') {\n      injections.push(createActivitiFieldInjection(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  if (injections.length) {\n    return injections;\n  }\n}\n\nfunction createActivitiProperties(template, bpmnFactory) {\n\n  var properties = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n\n    if (bindingType === 'activiti:property') {\n      properties.push(createActivitiProperty(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  if (properties.length) {\n    return bpmnFactory.create('activiti:Properties', {\n      values: properties\n    });\n  }\n}\n\nfunction createInputOutputMappings(template, bpmnFactory) {\n\n  var inputParameters = [],\n      outputParameters = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n\n    if (bindingType === 'activiti:inputParameter') {\n      inputParameters.push(createInputParameter(\n        binding, p.value, bpmnFactory\n      ));\n    }\n\n    if (bindingType === 'activiti:outputParameter') {\n      outputParameters.push(createOutputParameter(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  // do we need to create new ioMappings (?)\n  if (outputParameters.length || inputParameters.length) {\n    return bpmnFactory.create('activiti:InputOutput', {\n      inputParameters: inputParameters,\n      outputParameters: outputParameters\n    });\n  }\n}\n\nfunction createActivitiInOut(template, bpmnFactory) {\n\n  var inOuts = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n\n    if (bindingType === 'activiti:in') {\n      inOuts.push(createActivitiIn(\n        binding, p.value, bpmnFactory\n      ));\n    } else\n    if (bindingType === 'activiti:out') {\n      inOuts.push(createActivitiOut(\n        binding, p.value, bpmnFactory\n      ));\n    } else\n    if (bindingType === 'activiti:in:businessKey') {\n      inOuts.push(createActivitiInWithBusinessKey(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  return inOuts;\n}\n\n\nfunction createActivitiExecutionListeners(template, bpmnFactory) {\n\n  var executionListener = [];\n\n  template.properties.forEach(function(p) {\n    var binding = p.binding,\n        bindingType = binding.type;\n\n    if (bindingType === 'activiti:executionListener') {\n      executionListener.push(createActivitiExecutionListenerScript(\n        binding, p.value, bpmnFactory\n      ));\n    }\n  });\n\n  return executionListener;\n}\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar tasklist = require('./implementation/Tasklist');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  if (is(element, 'camunda:Process') ||\r\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n\r\n    group.entries = group.entries.concat(tasklist(element, bpmnFactory, {\r\n      getBusinessObject: function(element) {\r\n        var bo = getBusinessObject(element);\r\n\r\n        if (!is(bo, 'bpmn:Participant')) {\r\n          return bo;\r\n        }\r\n\r\n        return bo.get('processRef');\r\n      }\r\n    }, translate));\r\n\r\n  }\r\n};\r\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nvar forEach = require('lodash/forEach');\n\nfunction getLinkEventDefinition(element) {\n\n  var bo = getBusinessObject(element);\n\n  var linkEventDefinition = null;\n  if (bo.eventDefinitions) {\n    forEach(bo.eventDefinitions, function(eventDefinition) {\n      if (is(eventDefinition, 'bpmn:LinkEventDefinition')) {\n        linkEventDefinition = eventDefinition;\n      }\n    });\n  }\n\n  return linkEventDefinition;\n}\n\nmodule.exports = function(group, element, translate) {\n  var linkEvents = [ 'bpmn:IntermediateThrowEvent', 'bpmn:IntermediateCatchEvent' ];\n\n  forEach(linkEvents, function(event) {\n    if (is(element, event)) {\n\n      var linkEventDefinition = getLinkEventDefinition(element);\n\n      if (linkEventDefinition) {\n        var entry = entryFactory.textField({\n          id: 'link-event',\n          label: translate('Link Name'),\n          modelProperty: 'link-name'\n        });\n\n        entry.get = function() {\n          return { 'link-name': linkEventDefinition.get('name') };\n        };\n\n        entry.set = function(element, values) {\n          var newProperties = {\n            name: values['link-name']\n          };\n          return cmdHelper.updateBusinessObject(element, linkEventDefinition, newProperties);\n        };\n\n        group.entries.push(entry);\n      }\n    }\n  });\n};\n\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","'use strict';\n\nvar Validator = require('./Validator');\n\n/**\n * The guy responsible for template loading.\n *\n * Provide the actual templates via the `config.elementTemplates`.\n *\n * That configuration can either be an array of template\n * descriptors or a node style callback to retrieve\n * the templates asynchronously.\n *\n * @param {Array<TemplateDescriptor>|Function} loadTemplates\n * @param {EventBus} eventBus\n * @param {ElementTemplates} elementTemplates\n */\nfunction ElementTemplatesLoader(loadTemplates, eventBus, elementTemplates) {\n  this._loadTemplates = loadTemplates;\n  this._eventBus = eventBus;\n  this._elementTemplates = elementTemplates;\n\n  var self = this;\n\n  eventBus.on('diagram.init', function() {\n    self.reload();\n  });\n}\n\nmodule.exports = ElementTemplatesLoader;\n\nElementTemplatesLoader.$inject = [\n  'config.elementTemplates',\n  'eventBus',\n  'elementTemplates'\n];\n\n\nElementTemplatesLoader.prototype.reload = function() {\n\n  var self = this;\n\n  var loadTemplates = this._loadTemplates;\n\n  // no templates specified\n  if (typeof loadTemplates === 'undefined') {\n    return;\n  }\n\n  // template loader function specified\n  if (typeof loadTemplates === 'function') {\n\n    return loadTemplates(function(err, templates) {\n\n      if (err) {\n        return self.templateErrors([ err ]);\n      }\n\n      self.setTemplates(templates);\n    });\n  }\n\n  // templates array specified\n  if (loadTemplates.length) {\n    return this.setTemplates(loadTemplates);\n  }\n\n};\n\nElementTemplatesLoader.prototype.setTemplates = function(templates) {\n\n  var elementTemplates = this._elementTemplates;\n\n  var validator = new Validator().addAll(templates);\n\n  var errors = validator.getErrors(),\n      validTemplates = validator.getValidTemplates();\n\n  elementTemplates.set(validTemplates);\n\n  if (errors.length) {\n    this.templateErrors(errors);\n  }\n\n  this.templatesChanged();\n};\n\nElementTemplatesLoader.prototype.templatesChanged = function() {\n  this._eventBus.fire('elementTemplates.changed');\n};\n\nElementTemplatesLoader.prototype.templateErrors = function(errors) {\n  this._eventBus.fire('elementTemplates.errors', {\n    errors: errors\n  });\n};","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","'use strict';\n\nvar assign = require('lodash/assign'),\n    find = require('lodash/find');\n\nvar domQuery = require('min-dom').query;\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar selectEntryFactory = require('./SelectEntryFactory'),\n    entryFieldDescription = require('./EntryFieldDescription');\n\n\n/**\n * The combo box is a special implementation of the select entry and adds the option 'custom' to the\n * select box. If 'custom' is selected, an additional text input field is shown which allows to define\n * a custom value.\n *\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} options.label\n * @param  {Array<Object>} options.selectOptions list of name/value pairs\n * @param  {string} options.modelProperty\n * @param  {function} options.get\n * @param  {function} options.set\n * @param  {string} [options.customValue] custom select option value (default: 'custom')\n * @param  {string} [options.customName] custom select option name visible in the select box (default: 'custom')\n *\n * @return {Object}\n */\nvar comboBox = function(options) {\n\n  var selectOptions = options.selectOptions,\n      modelProperty = options.modelProperty,\n      customValue = options.customValue || 'custom',\n      customName = options.customName || 'custom ' + modelProperty,\n      description = options.description;\n\n  // check if a value is not a built in value\n  var isCustomValue = function(value) {\n    if (typeof value[modelProperty] === 'undefined') {\n      return false;\n    }\n\n    var isCustom = !find(selectOptions, function(option) {\n      return value[modelProperty] === option.value;\n    });\n\n    return isCustom;\n  };\n\n  var comboOptions = assign({}, options);\n\n  // true if the selected value in the select box is customValue\n  comboOptions.showCustomInput = function(element, node) {\n    var selectBox = domQuery('[data-entry=\"'+ options.id +'\"] select', node.parentNode);\n\n    if (selectBox) {\n      return selectBox.value === customValue;\n    }\n\n    return false;\n  };\n\n  comboOptions.get = function(element, node) {\n    var value = options.get(element, node);\n\n    var modifiedValues = {};\n\n    if (!isCustomValue(value)) {\n      modifiedValues[modelProperty] = value[modelProperty] || '';\n\n      return modifiedValues;\n    }\n\n    modifiedValues[modelProperty] = customValue;\n    modifiedValues['custom-'+modelProperty] = value[modelProperty];\n\n    return modifiedValues;\n  };\n\n  comboOptions.set = function(element, values, node) {\n    var modifiedValues = {};\n\n    // if the custom select option has been selected\n    // take the value from the text input field\n    if (values[modelProperty] === customValue) {\n      modifiedValues[modelProperty] = values['custom-' + modelProperty] || '';\n    }\n    else if (options.emptyParameter && values[modelProperty] === '') {\n      modifiedValues[modelProperty] = undefined;\n    } else {\n      modifiedValues[modelProperty] = values[modelProperty];\n    }\n    return options.set(element, modifiedValues, node);\n  };\n\n  comboOptions.selectOptions.push({ name: customName, value: customValue });\n\n  var comboBoxEntry = assign({}, selectEntryFactory(comboOptions, comboOptions));\n\n  comboBoxEntry.html += '<div class=\"bpp-field-wrapper bpp-combo-input\" ' +\n    'data-show=\"showCustomInput\"' +\n    '>' +\n    '<input id=\"camunda-' + escapeHTML(options.id) + '-input\" type=\"text\" name=\"custom-' +\n      escapeHTML(modelProperty) + '\" ' +\n    ' />' +\n  '</div>';\n\n  // add description below combo box entry field\n  if (description) {\n    comboBoxEntry.html += entryFieldDescription(description);\n  }\n\n  return comboBoxEntry;\n};\n\nmodule.exports = comboBox;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper');\n\nvar externalTaskPriority = require('./implementation/ExternalTaskPriority');\n\nfunction getServiceTaskLikeBusinessObject(element) {\n  var bo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n\n  // if the element is not a serviceTaskLike element, fetch the normal business object\n  // This avoids the loss of the process / participant business object\n  if (!bo) {\n    bo = getBusinessObject(element);\n  }\n\n  return bo;\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var bo = getServiceTaskLikeBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(bo, 'camunda:TaskPriorized') || (is(bo, 'bpmn:Participant')) && bo.get('processRef')) {\n    group.entries = group.entries.concat(externalTaskPriority(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n        return bo.get('processRef');\n      }\n    }, translate));\n  }\n};","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar domQuery = require('min-dom').query,\n    domClosest = require('min-dom').closest,\n    domify = require('min-dom').domify,\n    forEach = require('lodash/forEach');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils'),\n    escapeHTML = utils.escapeHTML;\n\nfunction getSelectBox(node, id) {\n  var currentTab = domClosest(node, 'div.bpp-properties-tab');\n  var query = 'select[name=selectedExtensionElement]' + (id ? '[id=cam-extensionElements-' + id + ']' : '');\n  return domQuery(query, currentTab);\n}\n\nfunction getSelected(node, id) {\n  var selectBox = getSelectBox(node, id);\n  return {\n    value: (selectBox || {}).value,\n    idx: (selectBox || {}).selectedIndex\n  };\n}\n\nfunction generateElementId(prefix) {\n  prefix = prefix + '_';\n  return utils.nextId(prefix);\n}\n\nvar CREATE_EXTENSION_ELEMENT_ACTION = 'create-extension-element',\n    REMOVE_EXTENSION_ELEMENT_ACTION = 'remove-extension-element';\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var id = options.id,\n      prefix = options.prefix || 'elem',\n      label = options.label || id,\n      idGeneration = (options.idGeneration === false) ? options.idGeneration : true,\n      businessObject = options.businessObject || getBusinessObject(element);\n\n  var modelProperty = options.modelProperty || 'id';\n\n  var getElements = options.getExtensionElements;\n\n  var createElement = options.createExtensionElement,\n      canCreate = typeof createElement === 'function';\n\n  var removeElement = options.removeExtensionElement,\n      canRemove = typeof removeElement === 'function';\n\n  var onSelectionChange = options.onSelectionChange;\n\n  var hideElements = options.hideExtensionElements,\n      canBeHidden = typeof hideElements === 'function';\n\n  var setOptionLabelValue = options.setOptionLabelValue;\n\n  var defaultSize = options.size || 5,\n      resizable = options.resizable;\n\n  var reference = options.reference || undefined;\n\n  var selectionChanged = function(element, node, event, scope) {\n    if (typeof onSelectionChange === 'function') {\n      return onSelectionChange(element, node, event, scope);\n    }\n  };\n\n  var createOption = function(value) {\n    return '<option value=\"' + escapeHTML(value) + '\" data-value data-name=\"extensionElementValue\">' + escapeHTML(value) + '</option>';\n  };\n\n  var initSelectionSize = function(selectBox, optionsLength) {\n    if (resizable) {\n      selectBox.size = optionsLength > defaultSize ? optionsLength : defaultSize;\n    }\n  };\n\n  return {\n    id: id,\n    html: '<div class=\"bpp-row bpp-element-list\" ' +\n            (canBeHidden ? 'data-show=\"hideElements\"' : '') + '>' +\n            '<label for=\"cam-extensionElements-' + escapeHTML(id) + '\">' + escapeHTML(label) + '</label>' +\n            '<div class=\"bpp-field-wrapper\">' +\n              '<select id=\"cam-extensionElements-' + escapeHTML(id) + '\"' +\n                      'name=\"selectedExtensionElement\" ' +\n                      'size=\"' + escapeHTML(defaultSize) + '\" ' +\n                      'data-list-entry-container ' +\n                      'data-on-change=\"selectElement\">' +\n              '</select>' +\n              (canCreate ? '<button class=\"add\" ' +\n                                   'id=\"cam-extensionElements-create-' + escapeHTML(id) + '\" ' +\n                                   'data-action=\"createElement\">' +\n                             '<span>+</span>' +\n                           '</button>' : '') +\n              (canRemove ? '<button class=\"clear\" ' +\n                                   'id=\"cam-extensionElements-remove-' + escapeHTML(id) + '\" ' +\n                                   'data-action=\"removeElement\" ' +\n                                   'data-disable=\"disableRemove\">' +\n                             '<span>-</span>' +\n                           '</button>' : '') +\n            '</div>' +\n          '</div>',\n\n    get: function(element, node) {\n      var elements = getElements(element, node);\n\n      var result = [];\n      forEach(elements, function(elem) {\n        result.push({\n          extensionElementValue: elem.get(modelProperty)\n        });\n      });\n\n      var selectBox = getSelectBox(node.parentNode, id);\n      initSelectionSize(selectBox, result.length);\n\n      return result;\n    },\n\n    set: function(element, values, node) {\n      var action = this.__action;\n      delete this.__action;\n\n      businessObject = businessObject || getBusinessObject(element);\n\n      var bo =\n        (reference && businessObject.get(reference))\n          ? businessObject.get(reference)\n          : businessObject;\n\n      var extensionElements = bo.get('extensionElements');\n\n      if (action.id === CREATE_EXTENSION_ELEMENT_ACTION) {\n        var commands = [];\n        if (!extensionElements) {\n          extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n        }\n        commands.push(createElement(element, extensionElements, action.value, node));\n        return commands;\n\n      }\n      else if (action.id === REMOVE_EXTENSION_ELEMENT_ACTION) {\n        return removeElement(element, extensionElements, action.value, action.idx, node);\n      }\n\n    },\n\n    createListEntryTemplate: function(value, index, selectBox) {\n      initSelectionSize(selectBox, selectBox.options.length + 1);\n      return createOption(value.extensionElementValue);\n    },\n\n    deselect: function(element, node) {\n      var selectBox = getSelectBox(node, id);\n      selectBox.selectedIndex = -1;\n    },\n\n    getSelected: function(element, node) {\n      return getSelected(node, id);\n    },\n\n    setControlValue: function(element, node, option, property, value, idx) {\n      node.value = value;\n\n      if (!setOptionLabelValue) {\n        node.text = value;\n      } else {\n        setOptionLabelValue(element, node, option, property, value, idx);\n      }\n    },\n\n    createElement: function(element, node) {\n      // create option template\n      var generatedId;\n      if (idGeneration) {\n        generatedId = generateElementId(prefix);\n      }\n\n      var selectBox = getSelectBox(node, id);\n      var template = domify(createOption(generatedId));\n\n      // add new empty option as last child element\n      selectBox.appendChild(template);\n\n      // select last child element\n      selectBox.lastChild.selected = 'selected';\n      selectionChanged(element, node);\n\n      // update select box size\n      initSelectionSize(selectBox, selectBox.options.length);\n\n      this.__action = {\n        id: CREATE_EXTENSION_ELEMENT_ACTION,\n        value: generatedId\n      };\n\n      return true;\n    },\n\n    removeElement: function(element, node) {\n      var selection = getSelected(node, id);\n\n      var selectBox = getSelectBox(node, id);\n      selectBox.removeChild(selectBox.options[selection.idx]);\n\n      // update select box size\n      initSelectionSize(selectBox, selectBox.options.length);\n\n      this.__action = {\n        id: REMOVE_EXTENSION_ELEMENT_ACTION,\n        value: selection.value,\n        idx: selection.idx\n      };\n\n      return true;\n    },\n\n    hideElements: function(element, entryNode, node, scopeNode) {\n      return !hideElements(element, entryNode, node, scopeNode);\n    },\n\n    disableRemove: function(element, entryNode, node, scopeNode) {\n      return (getSelected(entryNode, id) || {}).idx < 0;\n    },\n\n    selectElement: selectionChanged\n  };\n\n};\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar extensionElementsEntry = require('./ExtensionElements'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    ImplementationTypeHelper = require('../../../../helper/ImplementationTypeHelper');\n\n\nfunction getListeners(bo, type) {\n  return bo && extensionElementsHelper.getExtensionElements(bo, type) || [];\n}\n\nvar CAMUNDA_EXECUTION_LISTENER_ELEMENT = 'camunda:ExecutionListener';\nvar CAMUNDA_TASK_LISTENER_ELEMENT = 'camunda:TaskListener';\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var LISTENER_TYPE_LABEL = {\n    class: translate('Java Class'),\n    expression: translate('Expression'),\n    delegateExpression: translate('Delegate Expression'),\n    script: translate('Script')\n  };\n\n  var bo;\n\n  var result = {\n    getSelectedListener: getSelectedListener\n  };\n\n  var entries = result.entries = [];\n\n  var isSequenceFlow = ImplementationTypeHelper.isSequenceFlow(element);\n\n  function getSelectedListener(element, node) {\n    var selection = (executionListenerEntry && executionListenerEntry.getSelected(element, node)) || { idx: -1 };\n\n    var listener = getListeners(bo, CAMUNDA_EXECUTION_LISTENER_ELEMENT)[selection.idx];\n    if (!listener && taskListenerEntry) {\n      selection = taskListenerEntry.getSelected(element, node);\n      listener = getListeners(bo, CAMUNDA_TASK_LISTENER_ELEMENT)[selection.idx];\n    }\n    return listener;\n  }\n\n  var setOptionLabelValue = function(type) {\n    return function(element, node, option, property, value, idx) {\n      var listeners = getListeners(bo, type);\n      var listener = listeners[idx];\n      var listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      var event = (listener.get('event')) ? listener.get('event') : '<empty>';\n\n      var label = (event || '*') + ' : ' + (LISTENER_TYPE_LABEL[listenerType] || '');\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function(element, type, initialEvent) {\n    return function(element, extensionElements, value) {\n      var props = {\n        event: initialEvent,\n        class: ''\n      };\n\n      var newElem = elementHelper.createElement(type, props, extensionElements, bpmnFactory);\n\n      return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newElem ]);\n    };\n  };\n\n  var removeElement = function(element, type) {\n    return function(element, extensionElements, value, idx) {\n      var listeners = getListeners(bo, type);\n      var listener = listeners[idx];\n      if (listener) {\n        return extensionElementsHelper.removeEntry(bo, element, listener);\n      }\n    };\n  };\n\n\n  // Execution Listener\n\n  if (is(element, 'bpmn:FlowElement') || is(element, 'bpmn:Process') || is(element, 'bpmn:Participant')) {\n    bo = getBusinessObject(element);\n    if (is(element, 'bpmn:Participant')) {\n      element = element.processRef;\n      bo = bo.get('processRef');\n    }\n\n    if (bo) {\n\n      var executionListenerEntry = extensionElementsEntry(element, bpmnFactory, {\n        id : 'executionListeners',\n        label : translate('Execution Listener'),\n        modelProperty: 'name',\n        idGeneration: 'false',\n        reference: 'processRef',\n\n        createExtensionElement: newElement(element, CAMUNDA_EXECUTION_LISTENER_ELEMENT, (isSequenceFlow) ? 'take' : 'start'),\n        removeExtensionElement: removeElement(element, CAMUNDA_EXECUTION_LISTENER_ELEMENT),\n\n        getExtensionElements: function(element) {\n          return getListeners(bo, CAMUNDA_EXECUTION_LISTENER_ELEMENT);\n        },\n\n        onSelectionChange: function(element, node, event, scope) {\n          taskListenerEntry && taskListenerEntry.deselect(element, node);\n        },\n\n        setOptionLabelValue: setOptionLabelValue(CAMUNDA_EXECUTION_LISTENER_ELEMENT)\n\n      });\n      entries.push(executionListenerEntry);\n\n    }\n  }\n\n\n  // Task Listener\n\n  if (is(element, 'bpmn:UserTask')) {\n    bo = getBusinessObject(element);\n\n    var taskListenerEntry = extensionElementsEntry(element, bpmnFactory, {\n      id : 'taskListeners',\n      label : translate('Task Listener'),\n      modelProperty: 'name',\n      idGeneration: 'false',\n\n      createExtensionElement: newElement(element, CAMUNDA_TASK_LISTENER_ELEMENT, 'create'),\n      removeExtensionElement: removeElement(element, CAMUNDA_TASK_LISTENER_ELEMENT),\n\n      getExtensionElements: function(element) {\n        return getListeners(bo, CAMUNDA_TASK_LISTENER_ELEMENT);\n      },\n\n      onSelectionChange: function(element, node, event, scope) {\n        executionListenerEntry.deselect(element, node);\n      },\n\n      setOptionLabelValue: setOptionLabelValue(CAMUNDA_TASK_LISTENER_ELEMENT)\n\n    });\n    entries.push(taskListenerEntry);\n  }\n\n  return result;\n\n};\n","'use strict';\n\nvar ChangeElementTemplateHandler = require('./ChangeElementTemplateHandler');\n\nvar getTemplate = require('../Helper').getTemplate,\n    getDefaultTemplate = require('../Helper').getDefaultTemplate;\n\nfunction registerHandlers(commandStack, elementTemplates, eventBus, elementRegistry) {\n  commandStack.registerHandler(\n    'propertiesPanel.camunda.changeTemplate',\n    ChangeElementTemplateHandler\n  );\n\n  // apply default element templates on shape creation\n  eventBus.on([ 'commandStack.shape.create.postExecuted' ], function(context) {\n    applyDefaultTemplate(context.context.shape, elementTemplates, commandStack);\n  });\n\n  // apply default element templates on connection creation\n  eventBus.on([ 'commandStack.connection.create.postExecuted' ], function(context) {\n    applyDefaultTemplate(context.context.connection, elementTemplates, commandStack);\n  });\n}\n\nregisterHandlers.$inject = [ 'commandStack', 'elementTemplates', 'eventBus', 'elementRegistry' ];\n\n\nmodule.exports = {\n  __init__: [ registerHandlers ]\n};\n\n\nfunction applyDefaultTemplate(element, elementTemplates, commandStack) {\n\n  if (!getTemplate(element, elementTemplates)\n      && getDefaultTemplate(element, elementTemplates)) {\n\n    var command = 'propertiesPanel.camunda.changeTemplate';\n    var commandContext = {\n      element: element,\n      newTemplate: getDefaultTemplate(element, elementTemplates)\n    };\n\n    commandStack.execute(command, commandContext);\n  }\n}\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","'use strict';\n\nvar inherits = require('inherits');\n\nvar getTemplate = require('./Helper').getTemplate;\n\nvar PropertiesActivator = require('../../../PropertiesActivator');\n\nvar HIGHER_PRIORITY = 1100;\n\n/**\n * Applies template visibility settings.\n *\n * Controlled using `entriesVisible` on template config object:\n *\n * ```json\n *     \"entriesVisible\": {\n *       \"_all\": true|false,\n *       \"entryName\": true|false,\n *       ...\n *     }\n * ```\n *\n * @param {EventBus} eventBus\n * @param {ElementTemplates} elementTemplates\n */\nfunction CustomElementsPropertiesActivator(eventBus, elementTemplates) {\n  PropertiesActivator.call(this, eventBus, HIGHER_PRIORITY);\n\n  this.isEntryVisible = function(entry, element) {\n\n    var template = getTemplate(element, elementTemplates);\n\n    if (template && !isEntryVisible(entry, template)) {\n      return false;\n    }\n  };\n\n  this.isPropertyEditable = function(entry, propertyName, element) {\n\n    var template = getTemplate(element, elementTemplates);\n\n    if (template && !isEntryEditable(entry, template)) {\n      return false;\n    }\n  };\n}\n\nCustomElementsPropertiesActivator.$inject = [ 'eventBus', 'elementTemplates' ];\n\ninherits(CustomElementsPropertiesActivator, PropertiesActivator);\n\nmodule.exports = CustomElementsPropertiesActivator;\n\n\n\n// helpers ////////////////////////////////////\n\n\nvar CUSTOM_PROPERTIES_PATTERN = /^custom-/;\n\nvar DEFAULT_ENTRIES_VISIBLE = {\n  _all: false,\n  id: true,\n  name: true\n};\n\nfunction isCustomEntry(entry) {\n  return CUSTOM_PROPERTIES_PATTERN.test(entry.id);\n}\n\nfunction isEntryVisible(entry, template) {\n\n  var entryId = entry.id;\n\n  if (entryId === 'elementTemplate-chooser' || isCustomEntry(entry)) {\n    return true;\n  }\n\n  var entriesVisible = template.entriesVisible || DEFAULT_ENTRIES_VISIBLE;\n\n  if (typeof entriesVisible === 'boolean') {\n    return entriesVisible;\n  }\n\n  var defaultVisible = entriesVisible._all || false,\n      entryVisible = entriesVisible[entryId];\n\n  // d = true, e = false => false\n  // d = false, e = true => true\n  // d = false, e = false\n  return (\n    (defaultVisible === true && entryVisible !== false) ||\n    (defaultVisible === false && entryVisible === true)\n  );\n}\n\nfunction isEntryEditable(entry, template) {\n\n  var property;\n\n  if (isCustomEntry(entry)) {\n    property = getProperty(template, entry);\n\n    return property && property.editable !== false;\n  }\n\n  return true;\n}\n\nfunction getProperty(template, entry) {\n\n  var index;\n  var idx = entry.id.replace('custom-' + template.id + '-', '');\n  if (idx.indexOf('-') !== -1) {\n    var indexes = idx.split('-');\n    if (indexes.length == 2) {\n      var scopeName = indexes[0].replace(/_/g, ':');\n      index = parseInt(indexes[1], 10);\n      if (scopeName && !isNaN(index)) {\n        return template.scopes[scopeName].properties[index];\n      }\n    }\n  } else {\n    index = parseInt(idx, 10);\n    if (!isNaN(index)) {\n      return template.properties[index];\n    }\n  }\n\n  throw new Error('cannot extract property index for entry <' + entry.id + '>');\n}\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","'use strict';\n\nvar inputOutput = require('./implementation/InputOutput');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var inputOutputEntry = inputOutput(element, bpmnFactory, {}, translate);\n\n  group.entries = group.entries.concat(inputOutputEntry.entries);\n\n  return {\n    getSelectedParameter: inputOutputEntry.getSelectedParameter\n  };\n\n};\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","'use strict';\n\n/**\n * Calculate the selection update for the given\n * current and new input values.\n *\n * @param {Object} currentSelection as {start, end}\n * @param {String} currentValue\n * @param {String} newValue\n *\n * @return {Object} newSelection as {start, end}\n */\nfunction calculateUpdate(currentSelection, currentValue, newValue) {\n\n  var currentCursor = currentSelection.start,\n      newCursor = currentCursor,\n      diff = newValue.length - currentValue.length,\n      idx;\n\n  var lengthDelta = newValue.length - currentValue.length;\n\n  var currentTail = currentValue.substring(currentCursor);\n\n  // check if we can remove common ending from the equation\n  // to be able to properly detect a selection change for\n  // the following scenarios:\n  //\n  //  * (AAATTT|TF) => (AAAT|TF)\n  //  * (AAAT|TF) =>  (AAATTT|TF)\n  //\n  if (newValue.lastIndexOf(currentTail) === newValue.length - currentTail.length) {\n    currentValue = currentValue.substring(0, currentValue.length - currentTail.length);\n    newValue = newValue.substring(0, newValue.length - currentTail.length);\n  }\n\n  // diff\n  var diff = createDiff(currentValue, newValue);\n\n  if (diff) {\n    if (diff.type === 'remove') {\n      newCursor = diff.newStart;\n    } else {\n      newCursor = diff.newEnd;\n    }\n  }\n\n  return range(newCursor);\n}\n\nmodule.exports = calculateUpdate;\n\n\nfunction createDiff(currentValue, newValue) {\n\n  var insert;\n\n  var l_str, l_char, l_idx = 0,\n      s_str, s_char, s_idx = 0;\n\n  if (newValue.length > currentValue.length) {\n    l_str = newValue;\n    s_str = currentValue;\n  } else {\n    l_str = currentValue;\n    s_str = newValue;\n  }\n\n  // assume there will be only one insert / remove and\n  // detect that _first_ edit operation only\n  while (l_idx < l_str.length) {\n\n    l_char = l_str.charAt(l_idx);\n    s_char = s_str.charAt(s_idx);\n\n    // chars no not equal\n    if (l_char !== s_char) {\n\n      if (!insert) {\n        insert = {\n          l_start: l_idx,\n          s_start: s_idx\n        };\n      }\n\n      l_idx++;\n    }\n\n    // chars equal (again?)\n    else {\n\n      if (insert && !insert.complete) {\n        insert.l_end = l_idx;\n        insert.s_end = s_idx;\n        insert.complete = true;\n      }\n\n      s_idx++;\n      l_idx++;\n    }\n  }\n\n  if (insert && !insert.complete) {\n    insert.complete = true;\n    insert.s_end = s_str.length;\n    insert.l_end = l_str.length;\n  }\n\n  // no diff\n  if (!insert) {\n    return;\n  }\n\n  if (newValue.length > currentValue.length) {\n    return {\n      newStart: insert.l_start,\n      newEnd: insert.l_end,\n      type: 'add'\n    };\n  } else {\n    return {\n      newStart: insert.s_start,\n      newEnd: insert.s_end,\n      type: newValue.length < currentValue.length ? 'remove' : 'replace'\n    };\n  }\n}\n\n/**\n * Utility method for creating a new selection range {start, end} object.\n *\n * @param {Number} start\n * @param {Number} [end]\n *\n * @return {Object} selection range as {start, end}\n */\nfunction range(start, end) {\n  return {\n    start: start,\n    end: end === undefined ? start : end\n  };\n}\n\nmodule.exports.range = range;\n\n\nfunction splitStr(str, position) {\n  return {\n    before: str.substring(0, position),\n    after: str.substring(position)\n  };\n}","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./processEdit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./processEdit.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar asyncCapableHelper = require('../../../../helper/AsyncCapableHelper');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nfunction isAsyncBefore(bo) {\n  return asyncCapableHelper.isAsyncBefore(bo);\n}\n\nfunction isAsyncAfter(bo) {\n  return asyncCapableHelper.isAsyncAfter(bo);\n}\n\nfunction getFailedJobRetryTimeCycle(bo) {\n  return asyncCapableHelper.getFailedJobRetryTimeCycle(bo);\n}\n\nfunction removeFailedJobRetryTimeCycle(bo, element) {\n  return asyncCapableHelper.removeFailedJobRetryTimeCycle(bo, element);\n}\n\nfunction createExtensionElements(parent, bpmnFactory) {\n  return elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, parent, bpmnFactory);\n}\n\nfunction createFailedJobRetryTimeCycle(parent, bpmnFactory, cycle) {\n  return elementHelper.createElement('activiti:FailedJobRetryTimeCycle', { body: cycle }, parent, bpmnFactory);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var idPrefix = options.idPrefix || '',\n      labelPrefix = options.labelPrefix || '';\n\n  var retryTimeCycleEntry = entryFactory.textField({\n    id: idPrefix + 'retryTimeCycle',\n    label: labelPrefix + translate('Retry Time Cycle'),\n    modelProperty: 'cycle',\n\n    get: function(element, node) {\n      var retryTimeCycle = getFailedJobRetryTimeCycle(getBusinessObject(element));\n      var value = retryTimeCycle && retryTimeCycle.get('body');\n      return {\n        cycle: value\n      };\n    },\n\n    set: function(element, values, node) {\n      var newCycle = values.cycle;\n      var bo = getBusinessObject(element);\n\n      if (newCycle === '' || typeof newCycle === 'undefined') {\n        // remove retry time cycle element(s)\n        return removeFailedJobRetryTimeCycle(bo, element);\n      }\n\n      var retryTimeCycle = getFailedJobRetryTimeCycle(bo);\n\n      if (!retryTimeCycle) {\n        // add new retry time cycle element\n        var commands = [];\n\n        var extensionElements = bo.get('extensionElements');\n        if (!extensionElements) {\n          extensionElements = createExtensionElements(bo, bpmnFactory);\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n        }\n\n        retryTimeCycle = createFailedJobRetryTimeCycle(extensionElements, bpmnFactory, newCycle);\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\n          element,\n          extensionElements,\n          'values',\n          'extensionElements',\n          [ retryTimeCycle ],\n          []\n        ));\n\n        return commands;\n      }\n\n      // update existing retry time cycle element\n      return cmdHelper.updateBusinessObject(element, retryTimeCycle, { body: newCycle });\n    },\n\n    hidden: function(element) {\n      var bo = getBusinessObject(element);\n\n      if (bo && (isAsyncBefore(bo) || isAsyncAfter(bo))) {\n        return false;\n      }\n\n      if (is(element, 'bpmn:Event')) {\n        return !eventDefinitionHelper.getTimerEventDefinition(element);\n      }\n\n      return true;\n    }\n\n  });\n\n  return [ retryTimeCycleEntry ];\n\n};\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","module.exports = {\n  __depends__: [\n    require('./cmd'),\n    require('diagram-js/lib/i18n/translate').default\n  ],\n  __init__: [ 'propertiesPanel' ],\n  propertiesPanel: [ 'type', require('./PropertiesPanel') ]\n};\n","'use strict';\n\nvar inherits = require('inherits');\n\nvar PropertiesActivator = require('../../PropertiesActivator');\n\nvar asyncCapableHelper = require('../../helper/AsyncCapableHelper'),\n    ImplementationTypeHelper = require('../../helper/ImplementationTypeHelper');\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\n// bpmn properties\nvar processProps = require('../bpmn/parts/ProcessProps'),\n    eventProps = require('../bpmn/parts/EventProps'),\n    linkProps = require('../bpmn/parts/LinkProps'),\n    documentationProps = require('../bpmn/parts/DocumentationProps'),\n    idProps = require('../bpmn/parts/IdProps'),\n    nameProps = require('../bpmn/parts/NameProps'),\n    executableProps = require('../bpmn/parts/ExecutableProps');\n\n// camunda properties\nvar serviceTaskDelegateProps = require('./parts/ServiceTaskDelegateProps'),\n    userTaskProps = require('./parts/UserTaskProps'),\n    asynchronousContinuationProps = require('./parts/AsynchronousContinuationProps'),\n    callActivityProps = require('./parts/CallActivityProps'),\n    multiInstanceProps = require('./parts/MultiInstanceLoopProps'),\n    conditionalProps = require('./parts/ConditionalProps'),\n    scriptProps = require('./parts/ScriptTaskProps'),\n    errorProps = require('./parts/ErrorEventProps'),\n    formProps = require('./parts/FormProps'),\n    startEventInitiator = require('./parts/StartEventInitiator'),\n    variableMapping = require('./parts/VariableMappingProps'),\n    versionTag = require('./parts/VersionTagProps');\n\nvar listenerProps = require('./parts/ListenerProps'),\n    listenerDetails = require('./parts/ListenerDetailProps'),\n    listenerFields = require('./parts/ListenerFieldInjectionProps');\n\nvar elementTemplateChooserProps = require('./element-templates/parts/ChooserProps'),\n    elementTemplateCustomProps = require('./element-templates/parts/CustomProps');\n\n// Input/Output\nvar inputOutput = require('./parts/InputOutputProps'),\n    inputOutputParameter = require('./parts/InputOutputParameterProps');\n\n// Connector\nvar connectorDetails = require('./parts/ConnectorDetailProps'),\n    connectorInputOutput = require('./parts/ConnectorInputOutputProps'),\n    connectorInputOutputParameter = require('./parts/ConnectorInputOutputParameterProps');\n\n// properties\nvar properties = require('./parts/PropertiesProps');\n\n// job configuration\nvar jobConfiguration = require('./parts/JobConfigurationProps');\n\n// history time to live\nvar historyTimeToLive = require('./parts/HistoryTimeToLiveProps');\n\n// candidate starter groups/users\nvar candidateStarter = require('./parts/CandidateStarterProps');\n\n// tasklist\nvar tasklist = require('./parts/TasklistProps');\n\n// external task configuration\nvar externalTaskConfiguration = require('./parts/ExternalTaskConfigurationProps');\n\n// field injection\nvar fieldInjections = require('./parts/FieldInjectionProps');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    eventDefinitionHelper = require('../../helper/EventDefinitionHelper'),\n    implementationTypeHelper = require('../../helper/ImplementationTypeHelper');\n\n// helpers ////////////////////////////////////////\n\nvar isExternalTaskPriorityEnabled = function(element) {\n  var businessObject = getBusinessObject(element);\n\n  // show only if element is a process, a participant ...\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n    return true;\n  }\n\n  var externalBo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element),\n      isExternalTask = ImplementationTypeHelper.getImplementationType(externalBo) === 'external';\n\n  // ... or an external task with selected external implementation type\n  return !!ImplementationTypeHelper.isExternalCapable(externalBo) && isExternalTask;\n};\n\nvar isJobConfigEnabled = function(element) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n    return true;\n  }\n\n  // async behavior\n  var bo = getBusinessObject(element);\n  if (asyncCapableHelper.isAsyncBefore(bo) || asyncCapableHelper.isAsyncAfter(bo)) {\n    return true;\n  }\n\n  // timer definition\n  if (is(element, 'bpmn:Event')) {\n    return !!eventDefinitionHelper.getTimerEventDefinition(element);\n  }\n\n  return false;\n};\n\nvar getInputOutputParameterLabel = function(param, translate) {\n\n  if (is(param, 'camunda:InputParameter')) {\n    return translate('Input Parameter');\n  }\n\n  if (is(param, 'camunda:OutputParameter')) {\n    return translate('Output Parameter');\n  }\n\n  return '';\n};\n\nvar getListenerLabel = function(param, translate) {\n\n  if (is(param, 'camunda:ExecutionListener')) {\n    return translate('Execution Listener');\n  }\n\n  if (is(param, 'camunda:TaskListener')) {\n    return translate('Task Listener');\n  }\n\n  return '';\n};\n\nvar PROCESS_KEY_HINT = 'This maps to the process definition key.';\nvar TASK_KEY_HINT = 'This maps to the task definition key.';\n\nfunction createGeneralTabGroups(\n    element, canvas, bpmnFactory,\n    elementRegistry, elementTemplates, translate) {\n\n  // refer to target element for external labels\n  element = element.labelTarget || element;\n\n  var generalGroup = {\n    id: 'general',\n    label: translate('General'),\n    entries: []\n  };\n\n  var idOptions;\n  var processOptions;\n\n  if (is(element, 'bpmn:Process')) {\n    idOptions = { description: PROCESS_KEY_HINT };\n  }\n\n  if (is(element, 'bpmn:UserTask')) {\n    idOptions = { description: TASK_KEY_HINT };\n  }\n\n  if (is(element, 'bpmn:Participant')) {\n    processOptions = { processIdDescription: PROCESS_KEY_HINT };\n  }\n\n  idProps(generalGroup, element, translate, idOptions);\n  nameProps(generalGroup, element, bpmnFactory, canvas, translate);\n  processProps(generalGroup, element, translate, processOptions);\n  versionTag(generalGroup, element, translate);\n  executableProps(generalGroup, element, translate);\n  elementTemplateChooserProps(generalGroup, element, elementTemplates, translate);\n\n  var customFieldsGroups = elementTemplateCustomProps(element, elementTemplates, bpmnFactory, translate);\n\n  var detailsGroup = {\n    id: 'details',\n    label: translate('Details'),\n    entries: []\n  };\n  serviceTaskDelegateProps(detailsGroup, element, bpmnFactory, translate);\n  userTaskProps(detailsGroup, element, translate);\n  scriptProps(detailsGroup, element, bpmnFactory, translate);\n  linkProps(detailsGroup, element, translate);\n  callActivityProps(detailsGroup, element, bpmnFactory, translate);\n  eventProps(detailsGroup, element, bpmnFactory, elementRegistry, translate);\n  errorProps(detailsGroup, element, bpmnFactory, translate);\n  conditionalProps(detailsGroup, element, bpmnFactory, translate);\n  startEventInitiator(detailsGroup, element, translate); // this must be the last element of the details group!\n\n  var multiInstanceGroup = {\n    id: 'multiInstance',\n    label: translate('Multi Instance'),\n    entries: []\n  };\n  multiInstanceProps(multiInstanceGroup, element, bpmnFactory, translate);\n\n  var asyncGroup = {\n    id : 'async',\n    label: translate('Asynchronous Continuations'),\n    entries : []\n  };\n  asynchronousContinuationProps(asyncGroup, element, bpmnFactory, translate);\n\n  var jobConfigurationGroup = {\n    id : 'jobConfiguration',\n    label : translate('Job Configuration'),\n    entries : [],\n    enabled: isJobConfigEnabled\n  };\n  jobConfiguration(jobConfigurationGroup, element, bpmnFactory, translate);\n\n  var externalTaskGroup = {\n    id : 'externalTaskConfiguration',\n    label : translate('External Task Configuration'),\n    entries : [],\n    enabled: isExternalTaskPriorityEnabled\n  };\n  externalTaskConfiguration(externalTaskGroup, element, bpmnFactory, translate);\n\n\n  var candidateStarterGroup = {\n    id: 'candidateStarterConfiguration',\n    label: translate('Candidate Starter Configuration'),\n    entries: []\n  };\n  candidateStarter(candidateStarterGroup, element, bpmnFactory, translate);\n\n  var historyTimeToLiveGroup = {\n    id: 'historyConfiguration',\n    label: translate('History Configuration'),\n    entries: []\n  };\n  historyTimeToLive(historyTimeToLiveGroup, element, bpmnFactory, translate);\n\n  var tasklistGroup = {\n    id: 'tasklist',\n    label: translate('Tasklist Configuration'),\n    entries: []\n  };\n  tasklist(tasklistGroup, element, bpmnFactory, translate);\n\n  var documentationGroup = {\n    id: 'documentation',\n    label: translate('Documentation'),\n    entries: []\n  };\n  documentationProps(documentationGroup, element, bpmnFactory, translate);\n\n  var groups = [];\n  groups.push(generalGroup);\n  customFieldsGroups.forEach(function(group) {\n    groups.push(group);\n  });\n  groups.push(detailsGroup);\n  groups.push(externalTaskGroup);\n  groups.push(multiInstanceGroup);\n  groups.push(asyncGroup);\n  groups.push(jobConfigurationGroup);\n  groups.push(candidateStarterGroup);\n  groups.push(historyTimeToLiveGroup);\n  groups.push(tasklistGroup);\n  groups.push(documentationGroup);\n\n  return groups;\n}\n\nfunction createVariablesTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var variablesGroup = {\n    id : 'variables',\n    label : translate('Variables'),\n    entries: []\n  };\n  variableMapping(variablesGroup, element, bpmnFactory, translate);\n\n  return [\n    variablesGroup\n  ];\n}\n\nfunction createFormsTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var formGroup = {\n    id : 'forms',\n    label : translate('Forms'),\n    entries: []\n  };\n  formProps(formGroup, element, bpmnFactory, translate);\n\n  return [\n    formGroup\n  ];\n}\n\nfunction createListenersTabGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var listenersGroup = {\n    id : 'listeners',\n    label: translate('Listeners'),\n    entries: []\n  };\n\n  var options = listenerProps(listenersGroup, element, bpmnFactory, translate);\n\n  var listenerDetailsGroup = {\n    id: 'listener-details',\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedListener(element, node);\n    },\n    label: function(element, node) {\n      var param = options.getSelectedListener(element, node);\n      return getListenerLabel(param, translate);\n    }\n  };\n\n  listenerDetails(listenerDetailsGroup, element, bpmnFactory, options, translate);\n\n  var listenerFieldsGroup = {\n    id: 'listener-fields',\n    label: translate('Field Injection'),\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedListener(element, node);\n    }\n  };\n\n  listenerFields(listenerFieldsGroup, element, bpmnFactory, options, translate);\n\n  return [\n    listenersGroup,\n    listenerDetailsGroup,\n    listenerFieldsGroup\n  ];\n}\n\nfunction createInputOutputTabGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var inputOutputGroup = {\n    id: 'input-output',\n    label: translate('Parameters'),\n    entries: []\n  };\n\n  var options = inputOutput(inputOutputGroup, element, bpmnFactory, translate);\n\n  var inputOutputParameterGroup = {\n    id: 'input-output-parameter',\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedParameter(element, node);\n    },\n    label: function(element, node) {\n      var param = options.getSelectedParameter(element, node);\n      return getInputOutputParameterLabel(param, translate);\n    }\n  };\n\n  inputOutputParameter(inputOutputParameterGroup, element, bpmnFactory, options, translate);\n\n  return [\n    inputOutputGroup,\n    inputOutputParameterGroup\n  ];\n}\n\nfunction createConnectorTabGroups(element, bpmnFactory, elementRegistry, translate) {\n  var connectorDetailsGroup = {\n    id: 'connector-details',\n    label: translate('Details'),\n    entries: []\n  };\n\n  connectorDetails(connectorDetailsGroup, element, bpmnFactory, translate);\n\n  var connectorInputOutputGroup = {\n    id: 'connector-input-output',\n    label: translate('Input/Output'),\n    entries: []\n  };\n\n  var options = connectorInputOutput(connectorInputOutputGroup, element, bpmnFactory, translate);\n\n  var connectorInputOutputParameterGroup = {\n    id: 'connector-input-output-parameter',\n    entries: [],\n    enabled: function(element, node) {\n      return options.getSelectedParameter(element, node);\n    },\n    label: function(element, node) {\n      var param = options.getSelectedParameter(element, node);\n      return getInputOutputParameterLabel(param, translate);\n    }\n  };\n\n  connectorInputOutputParameter(connectorInputOutputParameterGroup, element, bpmnFactory, options, translate);\n\n  return [\n    connectorDetailsGroup,\n    connectorInputOutputGroup,\n    connectorInputOutputParameterGroup\n  ];\n}\n\nfunction createFieldInjectionsTabGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var fieldGroup = {\n    id: 'field-injections-properties',\n    label: translate('Field Injections'),\n    entries: []\n  };\n\n  fieldInjections(fieldGroup, element, bpmnFactory, translate);\n\n  return [\n    fieldGroup\n  ];\n}\n\nfunction createExtensionElementsGroups(element, bpmnFactory, elementRegistry, translate) {\n\n  var propertiesGroup = {\n    id : 'extensionElements-properties',\n    label: translate('Properties'),\n    entries: []\n  };\n  properties(propertiesGroup, element, bpmnFactory, translate);\n\n  return [\n    propertiesGroup\n  ];\n}\n\n// Camunda Properties Provider /////////////////////////////////////\n\n\n/**\n * A properties provider for Camunda related properties.\n *\n * @param {EventBus} eventBus\n * @param {Canvas} canvas\n * @param {BpmnFactory} bpmnFactory\n * @param {ElementRegistry} elementRegistry\n * @param {ElementTemplates} elementTemplates\n * @param {Translate} translate\n */\nfunction CamundaPropertiesProvider(\n    eventBus, canvas, bpmnFactory,\n    elementRegistry, elementTemplates, translate) {\n\n  PropertiesActivator.call(this, eventBus);\n\n  this.getTabs = function(element) {\n\n    var generalTab = {\n      id: 'general',\n      label: translate('General'),\n      groups: createGeneralTabGroups(\n        element, canvas, bpmnFactory,\n        elementRegistry, elementTemplates, translate)\n    };\n\n    var variablesTab = {\n      id: 'variables',\n      label: translate('Variables'),\n      groups: createVariablesTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var formsTab = {\n      id: 'forms',\n      label: translate('Forms'),\n      groups: createFormsTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var listenersTab = {\n      id: 'listeners',\n      label: translate('Listeners'),\n      groups: createListenersTabGroups(element, bpmnFactory, elementRegistry, translate),\n      enabled: function(element) {\n        return !eventDefinitionHelper.getLinkEventDefinition(element)\n          || (!is(element, 'bpmn:IntermediateThrowEvent')\n          && eventDefinitionHelper.getLinkEventDefinition(element));\n      }\n    };\n\n    var inputOutputTab = {\n      id: 'input-output',\n      label: translate('Input/Output'),\n      groups: createInputOutputTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var connectorTab = {\n      id: 'connector',\n      label: translate('Connector'),\n      groups: createConnectorTabGroups(element, bpmnFactory, elementRegistry, translate),\n      enabled: function(element) {\n        var bo = implementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n        return bo && implementationTypeHelper.getImplementationType(bo) === 'connector';\n      }\n    };\n\n    var fieldInjectionsTab = {\n      id: 'field-injections',\n      label: translate('Field Injections'),\n      groups: createFieldInjectionsTabGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    var extensionsTab = {\n      id: 'extensionElements',\n      label: translate('Extensions'),\n      groups: createExtensionElementsGroups(element, bpmnFactory, elementRegistry, translate)\n    };\n\n    return [\n      generalTab,\n      variablesTab,\n      connectorTab,\n      formsTab,\n      listenersTab,\n      inputOutputTab,\n      fieldInjectionsTab,\n      extensionsTab\n    ];\n  };\n\n}\n\nCamundaPropertiesProvider.$inject = [\n  'eventBus',\n  'canvas',\n  'bpmnFactory',\n  'elementRegistry',\n  'elementTemplates',\n  'translate'\n];\n\ninherits(CamundaPropertiesProvider, PropertiesActivator);\n\nmodule.exports = CamundaPropertiesProvider;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar filter = require('lodash/filter');\n\nvar extensionElementsHelper = require('../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper');\n\nvar extensionElementsEntry = require('./implementation/ExtensionElements');\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\n/**\n  * return depend on parameter 'type' activiti:in or activiti:out extension elements\n  */\nfunction getActivitiInOutMappings(element, type) {\n  var bo = getBusinessObject(element);\n\n  var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(bo);\n\n  return extensionElementsHelper.getExtensionElements(signalEventDefinition || bo, type) || [];\n}\n\n/**\n  * return depend on parameter 'type' activiti:in or activiti:out extension elements\n  * with source or sourceExpression attribute\n  */\nfunction getVariableMappings(element, type) {\n  var activitiMappings = getActivitiInOutMappings(element, type);\n\n  return filter(activitiMappings, function(mapping) {\n    return !mapping.businessKey;\n  });\n}\n\nfunction getInOutType(mapping) {\n  var inOutType = 'source';\n\n  if (mapping.variables === 'all') {\n    inOutType = 'variables';\n  }\n  else if (typeof mapping.source !== 'undefined') {\n    inOutType = 'source';\n  }\n  else if (typeof mapping.sourceExpression !== 'undefined') {\n    inOutType = 'sourceExpression';\n  }\n\n  return inOutType;\n}\n\nvar ACTIVITI_IN_EXTENSION_ELEMENT = 'activiti:In',\n    ACTIVITI_OUT_EXTENSION_ELEMENT = 'activiti:Out';\n\nvar WHITESPACE_REGEX = /\\s/;\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var inOutTypeOptions = [\n    {\n      name: translate('Source'),\n      value: 'source'\n    },\n    {\n      name: translate('Source Expression'),\n      value: 'sourceExpression'\n    },\n    {\n      name: translate('All'),\n      value: 'variables'\n    }\n  ];\n\n  var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(element);\n\n  if (!is(element, 'activiti:CallActivity') && !signalEventDefinition) {\n    return;\n  }\n\n  if (signalEventDefinition && !(isAny(element, [\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:EndEvent'\n  ]))) {\n    return;\n  }\n\n  var isSelected = function(element, node) {\n    return !!getSelected(element, node);\n  };\n\n  var getSelected = function(element, node) {\n    var parentNode = node.parentNode;\n    var selection = inEntry.getSelected(element, parentNode);\n\n    var parameter = getVariableMappings(element, ACTIVITI_IN_EXTENSION_ELEMENT)[selection.idx];\n\n    if (!parameter && outEntry) {\n      selection = outEntry.getSelected(element, parentNode);\n      parameter = getVariableMappings(element, ACTIVITI_OUT_EXTENSION_ELEMENT)[selection.idx];\n    }\n\n    return parameter;\n  };\n\n  var setOptionLabelValue = function(type) {\n    return function(element, node, option, property, value, idx) {\n      var variableMappings = getVariableMappings(element, type);\n      var mappingValue = variableMappings[idx];\n      var label = (mappingValue.target || '<undefined>') + ' := ';\n      var mappingType = getInOutType(mappingValue);\n\n      if (mappingType === 'variables') {\n        label = 'all';\n      }\n      else if (mappingType === 'source') {\n        label = label + (mappingValue.source || '<empty>');\n      }\n      else if (mappingType === 'sourceExpression') {\n        label = label + (mappingValue.sourceExpression || '<empty>');\n      } else {\n        label = label + '<empty>';\n      }\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function(type) {\n    return function(element, extensionElements, value) {\n      var newElem = elementHelper.createElement(type, { source: '' }, extensionElements, bpmnFactory);\n\n      return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newElem ]);\n    };\n  };\n\n  var removeElement = function(type) {\n    return function(element, extensionElements, value, idx) {\n      var variablesMappings= getVariableMappings(element, type);\n      var mapping = variablesMappings[idx];\n\n      if (mapping) {\n        return extensionElementsHelper\n          .removeEntry(signalEventDefinition || getBusinessObject(element), element, mapping);\n      }\n    };\n  };\n\n  // in mapping for source and sourceExpression ///////////////////////////////////////////////////////////////\n\n  var inEntry = extensionElementsEntry(element, bpmnFactory, {\n    id: 'variableMapping-in',\n    label: translate('In Mapping'),\n    modelProperty: 'source',\n    prefix: 'In',\n    idGeneration: false,\n    resizable: true,\n    businessObject: signalEventDefinition || getBusinessObject(element),\n\n    createExtensionElement: newElement(ACTIVITI_IN_EXTENSION_ELEMENT),\n    removeExtensionElement: removeElement(ACTIVITI_IN_EXTENSION_ELEMENT),\n\n    getExtensionElements: function(element) {\n      return getVariableMappings(element, ACTIVITI_IN_EXTENSION_ELEMENT);\n    },\n\n    onSelectionChange: function(element, node, event, scope) {\n      outEntry && outEntry.deselect(element, node.parentNode);\n    },\n\n    setOptionLabelValue: setOptionLabelValue(ACTIVITI_IN_EXTENSION_ELEMENT)\n  });\n  group.entries.push(inEntry);\n\n  // out mapping for source and sourceExpression ///////////////////////////////////////////////////////\n\n  if (!signalEventDefinition) {\n    var outEntry = extensionElementsEntry(element, bpmnFactory, {\n      id: 'variableMapping-out',\n      label: translate('Out Mapping'),\n      modelProperty: 'source',\n      prefix: 'Out',\n      idGeneration: false,\n      resizable: true,\n\n      createExtensionElement: newElement(ACTIVITI_OUT_EXTENSION_ELEMENT),\n      removeExtensionElement: removeElement(ACTIVITI_OUT_EXTENSION_ELEMENT),\n\n      getExtensionElements: function(element) {\n        return getVariableMappings(element, ACTIVITI_OUT_EXTENSION_ELEMENT);\n      },\n\n      onSelectionChange: function(element, node, event, scope) {\n        inEntry.deselect(element, node.parentNode);\n      },\n\n      setOptionLabelValue: setOptionLabelValue(ACTIVITI_OUT_EXTENSION_ELEMENT)\n    });\n    group.entries.push(outEntry);\n  }\n\n  // label for selected mapping ///////////////////////////////////////////////////////\n\n  group.entries.push(entryFactory.label({\n    id: 'variableMapping-typeLabel',\n    get: function(element, node) {\n      var mapping = getSelected(element, node);\n\n      var value = '';\n      if (is(mapping, ACTIVITI_IN_EXTENSION_ELEMENT)) {\n        value = translate('In Mapping');\n      }\n      else if (is(mapping, ACTIVITI_OUT_EXTENSION_ELEMENT)) {\n        value = translate('Out Mapping');\n      }\n\n      return {\n        label: value\n      };\n    },\n\n    showLabel: function(element, node) {\n      return isSelected(element, node);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.selectBox({\n    id: 'variableMapping-inOutType',\n    label: translate('Type'),\n    selectOptions: inOutTypeOptions,\n    modelProperty: 'inOutType',\n    get: function(element, node) {\n      var mapping = getSelected(element, node) || {};\n      return {\n        inOutType: getInOutType(mapping)\n      };\n    },\n    set: function(element, values, node) {\n      var inOutType = values.inOutType;\n\n      var props = {\n        'source' : undefined,\n        'sourceExpression' : undefined,\n        'variables' : undefined\n      };\n\n      if (inOutType === 'source') {\n        props.source = '';\n      }\n      else if (inOutType === 'sourceExpression') {\n        props.sourceExpression = '';\n      }\n      else if (inOutType === 'variables') {\n        props.variables = 'all';\n        props.target = undefined;\n      }\n\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, props);\n    },\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  group.entries.push(entryFactory.textField({\n    id: 'variableMapping-source',\n    dataValueLabel: 'sourceLabel',\n    modelProperty: 'source',\n    get: function(element, node) {\n      var mapping = getSelected(element, node) || {};\n\n      var label = '';\n      var inOutType = getInOutType(mapping);\n      if (inOutType === 'source') {\n        label = translate('Source');\n      }\n      else if (inOutType === 'sourceExpression') {\n        label = translate('Source Expression');\n      }\n\n      return {\n        source: mapping[inOutType],\n        sourceLabel: label\n      };\n    },\n    set: function(element, values, node) {\n      values.source = values.source || undefined;\n\n      var mapping = getSelected(element, node);\n      var inOutType = getInOutType(mapping);\n\n      var props = {};\n      props[inOutType] = values.source || '';\n\n      return cmdHelper.updateBusinessObject(element, mapping, props);\n    },\n    // one of both (source or sourceExpression) must have a value to make\n    // the configuration easier and more understandable\n    // it is not engine conform\n    validate: function(element, values, node) {\n      var mapping = getSelected(element, node);\n\n      var validation = {};\n      if (mapping) {\n        if (!values.source) {\n          validation.source =\n          validation.source = values.sourceLabel ?\n            translate('Mapping must have a {value}', { value: values.sourceLabel.toLowerCase() }) :\n            translate('Mapping must have a value');\n        }\n\n        var inOutType = getInOutType(mapping);\n\n        if (WHITESPACE_REGEX.test(values.source) && inOutType !== 'sourceExpression') {\n          validation.source = translate('{label} must not contain whitespace', { label: values.sourceLabel });\n        }\n      }\n\n      return validation;\n    },\n    hidden: function(element, node) {\n      var selectedMapping = getSelected(element, node);\n      return !selectedMapping || (selectedMapping && selectedMapping.variables);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.textField({\n    id: 'variableMapping-target',\n    label: translate('Target'),\n    modelProperty: 'target',\n    get: function(element, node) {\n      return {\n        target: (getSelected(element, node) || {}).target\n      };\n    },\n    set: function(element, values, node) {\n      values.target = values.target || undefined;\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, values);\n    },\n    validate: function(element, values, node) {\n      var mapping = getSelected(element, node);\n\n      var validation = {};\n      if (mapping) {\n        var mappingType = getInOutType(mapping);\n\n        if (!values.target && mappingType !== 'variables') {\n          validation.target = translate('Mapping must have a target');\n        }\n\n        if (values.target\n          && WHITESPACE_REGEX.test(values.target)\n          && mappingType !== 'variables') {\n          validation.target = translate('Target must not contain whitespace');\n        }\n      }\n\n      return validation;\n    },\n    hidden: function(element, node) {\n      var selectedMapping = getSelected(element, node);\n      return !selectedMapping || (selectedMapping && selectedMapping.variables);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.checkbox({\n    id: 'variableMapping-local',\n    label: translate('Local'),\n    modelProperty: 'local',\n    get: function(element, node) {\n      return {\n        local: (getSelected(element, node) || {}).local\n      };\n    },\n    set: function(element, values, node) {\n      values.local = values.local || false;\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, values);\n    },\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n  }));\n\n};\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","'use strict';\n\nvar forEach = require('lodash/forEach');\n\nvar HANDLERS = {\n  'properties-panel.update-businessobject': require('./UpdateBusinessObjectHandler'),\n  'properties-panel.create-and-reference': require('./CreateAndReferenceHandler'),\n  'properties-panel.create-businessobject-list': require('./CreateBusinessObjectListHandler'),\n  'properties-panel.update-businessobject-list': require('./UpdateBusinessObjectListHandler'),\n  'properties-panel.multi-command-executor': require('./MultiCommandHandler')\n};\n\n\nfunction CommandInitializer(eventBus, commandStack) {\n\n  eventBus.on('diagram.init', function() {\n    forEach(HANDLERS, function(handler, id) {\n      commandStack.registerHandler(id, handler);\n    });\n  });\n}\n\nCommandInitializer.$inject = [ 'eventBus', 'commandStack' ];\n\nmodule.exports = {\n  __init__: [ CommandInitializer ]\n};","'use strict';\n\nvar inputOutput = require('./implementation/InputOutput');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var inputOutputEntry = inputOutput(element, bpmnFactory, {}, translate);\n\n  group.entries = group.entries.concat(inputOutputEntry.entries);\n\n  return {\n    getSelectedParameter: inputOutputEntry.getSelectedParameter\n  };\n\n};\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\n/**\n * Create a linkified and HTML escaped entry field description.\n *\n * As a special feature, this description may contain both markdown,\n * plain <a href> links and <br />\n *\n * @param {String} description\n */\nmodule.exports = function entryFieldDescription(description) {\n\n  // we tokenize the description to extract text, HTML and markdown links\n  // text, links and new lines are handled seperately\n\n  var escaped = [];\n\n  // match markdown [{TEXT}]({URL}) and HTML links <a href=\"{URL}\">{TEXT}</a>\n  var pattern = /(?:\\[([^\\]]+)\\]\\((https?:\\/\\/[^)]+)\\))|(?:<a href=\"(https?:\\/\\/[^\"]+)\">(.+?(?=<\\/))<\\/a>)/gi;\n\n  var index = 0;\n  var match;\n  var link, text;\n\n  while ((match = pattern.exec(description))) {\n\n    // escape + insert text before match\n    if (match.index > index) {\n      escaped.push(escapeText(description.substring(index, match.index)));\n    }\n\n    link = match[2] && encodeURI(match[2]) || match[3];\n    text = match[1] || match[4];\n\n    // insert safe link\n    escaped.push('<a href=\"' + link + '\" target=\"_blank\">' + escapeText(text) + '</a>');\n\n    index = match.index + match[0].length;\n  }\n\n  // escape and insert text after last match\n  if (index < description.length) {\n    escaped.push(escapeText(description.substring(index)));\n  }\n\n  return '<div class=\"bpp-field-description\">' + escaped.join('') + '</div>';\n};\n\nfunction escapeText(text) {\n  var match, index = 0, escaped = [];\n\n  // match new line <br/> <br /> <br.... /> etc.\n  var pattern = /<br\\s*\\/?>/gi;\n\n  while ((match = pattern.exec(text))) {\n\n    if (match.index > index) {\n      escaped.push(escapeHTML(text.substring(index, match.index)));\n    }\n\n    escaped.push('<br />');\n\n    index = match.index + match[0].length;\n  }\n\n  if (index < text.length) {\n    escaped.push(escapeHTML(text.substring(index)));\n  }\n\n  return escaped.join('');\n}\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar extensionElementsEntry = require('./ExtensionElements'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    ImplementationTypeHelper = require('../../../../helper/ImplementationTypeHelper');\n\n\nfunction getListeners(bo, type) {\n  return bo && extensionElementsHelper.getExtensionElements(bo, type) || [];\n}\n\nvar ACTIVITI_EXECUTION_LISTENER_ELEMENT = 'activiti:ExecutionListener';\nvar ACTIVITI_TASK_LISTENER_ELEMENT = 'activiti:TaskListener';\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var LISTENER_TYPE_LABEL = {\n    class: translate('Java Class'),\n    expression: translate('Expression'),\n    delegateExpression: translate('Delegate Expression'),\n    script: translate('Script')\n  };\n\n  var bo;\n\n  var result = {\n    getSelectedListener: getSelectedListener\n  };\n\n  var entries = result.entries = [];\n\n  var isSequenceFlow = ImplementationTypeHelper.isSequenceFlow(element);\n\n  function getSelectedListener(element, node) {\n    var selection = (executionListenerEntry && executionListenerEntry.getSelected(element, node)) || { idx: -1 };\n\n    var listener = getListeners(bo, ACTIVITI_EXECUTION_LISTENER_ELEMENT)[selection.idx];\n    if (!listener && taskListenerEntry) {\n      selection = taskListenerEntry.getSelected(element, node);\n      listener = getListeners(bo, ACTIVITI_TASK_LISTENER_ELEMENT)[selection.idx];\n    }\n    return listener;\n  }\n\n  var setOptionLabelValue = function(type) {\n    return function(element, node, option, property, value, idx) {\n      var listeners = getListeners(bo, type);\n      var listener = listeners[idx];\n      var listenerType = ImplementationTypeHelper.getImplementationType(listener);\n\n      var event = (listener.get('event')) ? listener.get('event') : '<empty>';\n\n      var label = (event || '*') + ' : ' + (LISTENER_TYPE_LABEL[listenerType] || '');\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function(element, type, initialEvent) {\n    return function(element, extensionElements, value) {\n      var props = {\n        event: initialEvent,\n        class: ''\n      };\n\n      var newElem = elementHelper.createElement(type, props, extensionElements, bpmnFactory);\n\n      return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newElem ]);\n    };\n  };\n\n  var removeElement = function(element, type) {\n    return function(element, extensionElements, value, idx) {\n      var listeners = getListeners(bo, type);\n      var listener = listeners[idx];\n      if (listener) {\n        return extensionElementsHelper.removeEntry(bo, element, listener);\n      }\n    };\n  };\n\n\n  // Execution Listener\n\n  if (is(element, 'bpmn:FlowElement') || is(element, 'bpmn:Process') || is(element, 'bpmn:Participant')) {\n    bo = getBusinessObject(element);\n    if (is(element, 'bpmn:Participant')) {\n      element = element.processRef;\n      bo = bo.get('processRef');\n    }\n\n    if (bo) {\n\n      var executionListenerEntry = extensionElementsEntry(element, bpmnFactory, {\n        id : 'executionListeners',\n        label : translate('Execution Listener'),\n        modelProperty: 'name',\n        idGeneration: 'false',\n        reference: 'processRef',\n\n        createExtensionElement: newElement(element, ACTIVITI_EXECUTION_LISTENER_ELEMENT, (isSequenceFlow) ? 'take' : 'start'),\n        removeExtensionElement: removeElement(element, ACTIVITI_EXECUTION_LISTENER_ELEMENT),\n\n        getExtensionElements: function(element) {\n          return getListeners(bo, ACTIVITI_EXECUTION_LISTENER_ELEMENT);\n        },\n\n        onSelectionChange: function(element, node, event, scope) {\n          taskListenerEntry && taskListenerEntry.deselect(element, node);\n        },\n\n        setOptionLabelValue: setOptionLabelValue(ACTIVITI_EXECUTION_LISTENER_ELEMENT)\n\n      });\n      entries.push(executionListenerEntry);\n\n    }\n  }\n\n\n  // Task Listener\n\n  if (is(element, 'bpmn:UserTask')) {\n    bo = getBusinessObject(element);\n\n    var taskListenerEntry = extensionElementsEntry(element, bpmnFactory, {\n      id : 'taskListeners',\n      label : translate('Task Listener'),\n      modelProperty: 'name',\n      idGeneration: 'false',\n\n      createExtensionElement: newElement(element, ACTIVITI_TASK_LISTENER_ELEMENT, 'create'),\n      removeExtensionElement: removeElement(element, ACTIVITI_TASK_LISTENER_ELEMENT),\n\n      getExtensionElements: function(element) {\n        return getListeners(bo, ACTIVITI_TASK_LISTENER_ELEMENT);\n      },\n\n      onSelectionChange: function(element, node, event, scope) {\n        executionListenerEntry.deselect(element, node);\n      },\n\n      setOptionLabelValue: setOptionLabelValue(ACTIVITI_TASK_LISTENER_ELEMENT)\n\n    });\n    entries.push(taskListenerEntry);\n  }\n\n  return result;\n\n};\n","'use strict';\n\nvar listener = require('./implementation/Listener');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var listenerEntry = listener(element, bpmnFactory, {}, translate);\n\n  group.entries = group.entries.concat(listenerEntry.entries);\n\n  return {\n    getSelectedListener: listenerEntry.getSelectedListener\n  };\n\n};\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    escapeHTML = require('../../../../Utils').escapeHTML;\n\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar domClasses = require('min-dom').classes;\n\n/**\n * Get a property value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n * @param {string} propertyName\n *\n * @return {any} the property value\n */\nfunction getProperty(element, propertyName) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n  return loopCharacteristics && loopCharacteristics.get(propertyName);\n}\n\n/**\n * Get the body of a given expression.\n *\n * @param {ModdleElement<bpmn:FormalExpression>} expression\n *\n * @return {string} the body (value) of the expression\n */\nfunction getBody(expression) {\n  return expression && expression.get('body');\n}\n\n\n/**\n * Get the loop characteristics of an element.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:MultiInstanceLoopCharacteristics>} the loop characteristics\n */\nfunction getLoopCharacteristics(element) {\n  var bo = getBusinessObject(element);\n  return bo.loopCharacteristics;\n}\n\n/**\n * Get the loop cardinality of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:FormalExpression>} an expression representing the loop cardinality\n */\nfunction getLoopCardinality(element) {\n  return getProperty(element, 'loopCardinality');\n}\n\n/**\n * Get the loop cardinality value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the loop cardinality value\n */\nfunction getLoopCardinalityValue(element) {\n  var loopCardinality = getLoopCardinality(element);\n  return getBody(loopCardinality);\n}\n\n/**\n * Get the completion condition of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement<bpmn:FormalExpression>} an expression representing the completion condition\n */\nfunction getCompletionCondition(element) {\n  return getProperty(element, 'completionCondition');\n}\n\n/**\n * Get the completion condition value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the completion condition value\n */\nfunction getCompletionConditionValue(element) {\n  var completionCondition = getCompletionCondition(element);\n  return getBody(completionCondition);\n}\n\n/**\n * Get the 'camunda:collection' attribute value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the 'camunda:collection' value\n */\nfunction getCollection(element) {\n  return getProperty(element, 'camunda:collection');\n}\n\n/**\n * Get the 'camunda:elementVariable' attribute value of the loop characteristics.\n *\n * @param {djs.model.Base} element\n *\n * @return {string} the 'camunda:elementVariable' value\n */\nfunction getElementVariable(element) {\n  return getProperty(element, 'camunda:elementVariable');\n}\n\n\n/**\n * Creates 'bpmn:FormalExpression' element.\n *\n * @param {ModdleElement} parent\n * @param {string} body\n * @param {BpmnFactory} bpmnFactory\n *\n * @result {ModdleElement<bpmn:FormalExpression>} a formal expression\n */\nfunction createFormalExpression(parent, body, bpmnFactory) {\n  return elementHelper.createElement('bpmn:FormalExpression', { body: body }, parent, bpmnFactory);\n}\n\n/**\n * Updates a specific formal expression of the loop characteristics.\n *\n * @param {djs.model.Base} element\n * @param {string} propertyName\n * @param {string} newValue\n * @param {BpmnFactory} bpmnFactory\n */\nfunction updateFormalExpression(element, propertyName, newValue, bpmnFactory) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n\n  var expressionProps = {};\n\n  if (!newValue) {\n    // remove formal expression\n    expressionProps[propertyName] = undefined;\n    return cmdHelper.updateBusinessObject(element, loopCharacteristics, expressionProps);\n  }\n\n  var existingExpression = loopCharacteristics.get(propertyName);\n\n  if (!existingExpression) {\n    // add formal expression\n    expressionProps[propertyName] = createFormalExpression(loopCharacteristics, newValue, bpmnFactory);\n    return cmdHelper.updateBusinessObject(element, loopCharacteristics, expressionProps);\n  }\n\n  // edit existing formal expression\n  return cmdHelper.updateBusinessObject(element, existingExpression, {\n    body: newValue\n  });\n}\n\n\nmodule.exports = function(element, bpmnFactory, translate) {\n\n  var entries = [];\n\n  // error message /////////////////////////////////////////////////////////////////\n\n  entries.push({\n    id: 'multiInstance-errorMessage',\n    html: '<div data-show=\"isValid\">' +\n             '<span class=\"bpp-icon-warning\"></span> ' +\n             escapeHTML(translate('Must provide either loop cardinality or collection')) +\n          '</div>',\n\n    isValid: function(element, node, notification, scope) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n\n      var isValid = true;\n      if (loopCharacteristics) {\n        var loopCardinality = getLoopCardinalityValue(element);\n        var collection = getCollection(element);\n\n        isValid = !loopCardinality && !collection;\n      }\n\n      domClasses(node).toggle('bpp-hidden', !isValid);\n      domClasses(notification).toggle('bpp-error-message', isValid);\n\n      return isValid;\n    }\n  });\n\n  // loop cardinality //////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField({\n    id: 'multiInstance-loopCardinality',\n    label: translate('Loop Cardinality'),\n    modelProperty: 'loopCardinality',\n\n    get: function(element, node) {\n      return {\n        loopCardinality: getLoopCardinalityValue(element)\n      };\n    },\n\n    set: function(element, values) {\n      return updateFormalExpression(element, 'loopCardinality', values.loopCardinality, bpmnFactory);\n    }\n  }));\n\n\n  // collection //////////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField({\n    id: 'multiInstance-collection',\n    label: translate('Collection'),\n    modelProperty: 'collection',\n\n    get: function(element, node) {\n      return {\n        collection: getCollection(element)\n      };\n    },\n\n    set: function(element, values) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n      return cmdHelper.updateBusinessObject(element, loopCharacteristics, {\n        'camunda:collection': values.collection || undefined\n      });\n    },\n\n    validate: function(element, values, node) {\n      var collection = getCollection(element);\n      var elementVariable = getElementVariable(element);\n\n      if (!collection && elementVariable) {\n        return { collection : 'Must provide a value' };\n      }\n    }\n  }));\n\n\n  // element variable ////////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField({\n    id: 'multiInstance-elementVariable',\n    label: translate('Element Variable'),\n    modelProperty: 'elementVariable',\n\n    get: function(element, node) {\n      return {\n        elementVariable: getElementVariable(element)\n      };\n    },\n\n    set: function(element, values) {\n      var loopCharacteristics = getLoopCharacteristics(element);\n      return cmdHelper.updateBusinessObject(element, loopCharacteristics, {\n        'camunda:elementVariable': values.elementVariable || undefined\n      });\n    }\n  }));\n\n\n  // Completion Condition //////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textField({\n    id: 'multiInstance-completionCondition',\n    label: translate('Completion Condition'),\n    modelProperty: 'completionCondition',\n\n    get: function(element) {\n      return {\n        completionCondition: getCompletionConditionValue(element)\n      };\n    },\n\n    set: function(element, values) {\n      return updateFormalExpression(element, 'completionCondition', values.completionCondition, bpmnFactory);\n    }\n  }));\n\n  return entries;\n\n};\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","'use strict';\n\nvar eventDefinitionReference = require('./EventDefinitionReference'),\n    elementReferenceProperty = require('./ElementReferenceProperty');\n\n\nmodule.exports = function(group, element, bpmnFactory, errorEventDefinition, translate) {\n\n\n  group.entries = group.entries.concat(eventDefinitionReference(element, errorEventDefinition, bpmnFactory, {\n    label: translate('Error'),\n    elementName: 'error',\n    elementType: 'bpmn:Error',\n    referenceProperty: 'errorRef',\n    newElementIdPrefix: 'Error_'\n  }));\n\n\n  group.entries = group.entries.concat(elementReferenceProperty(element, errorEventDefinition, bpmnFactory, {\n    id: 'error-element-name',\n    label: translate('Error Name'),\n    referenceProperty: 'errorRef',\n    modelProperty: 'name',\n    shouldValidate: true\n  }));\n\n\n  group.entries = group.entries.concat(elementReferenceProperty(element, errorEventDefinition, bpmnFactory, {\n    id: 'error-element-code',\n    label: translate('Error Code'),\n    referenceProperty: 'errorRef',\n    modelProperty: 'errorCode'\n  }));\n\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    cmdHelper = require('../helper/CmdHelper'),\n    escapeHTML = require('../Utils').escapeHTML;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\n\nvar checkbox = function(options, defaultParameters) {\n  var resource = defaultParameters,\n      id = resource.id,\n      label = options.label || id,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n  resource.html =\n    '<input id=\"camunda-' + escapeHTML(id) + '\" ' +\n         'type=\"checkbox\" ' +\n         'name=\"' + escapeHTML(options.modelProperty) + '\" ' +\n         (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n         (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n         ' />' +\n    '<label for=\"camunda-' + escapeHTML(id) + '\" ' +\n         (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n         (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n         '>' + escapeHTML(label) + '</label>';\n\n  // add description below checkbox entry field\n  if (description) {\n    resource.html += entryFieldDescription(description);\n  }\n\n  resource.get = function(element) {\n    var bo = getBusinessObject(element),\n        res = {};\n\n    res[options.modelProperty] = bo.get(options.modelProperty);\n\n    return res;\n  };\n\n  resource.set = function(element, values) {\n    var res = {};\n\n    res[options.modelProperty] = !!values[options.modelProperty];\n\n    return cmdHelper.updateProperties(element, res);\n  };\n\n  if (typeof options.set === 'function') {\n    resource.set = options.set;\n  }\n\n  if (typeof options.get === 'function') {\n    resource.get = options.get;\n  }\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['bpp-checkbox'];\n\n  return resource;\n};\n\nmodule.exports = checkbox;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var isStartableInTasklistEntry = entryFactory.checkbox({\r\n    id: 'isStartableInTasklist',\r\n    label: translate('Startable'),\r\n    modelProperty: 'isStartableInTasklist',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var isStartableInTasklist = bo.get('activiti:isStartableInTasklist');\r\n\r\n      return {\r\n        isStartableInTasklist: isStartableInTasklist ? isStartableInTasklist : ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'activiti:isStartableInTasklist': !!values.isStartableInTasklist\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return [\r\n    isStartableInTasklistEntry\r\n  ];\r\n};\r\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar candidateStarter = require('./implementation/CandidateStarter');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'activiti:Process') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(candidateStarter(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n\n  }\n};\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    asyncContinuation = require('./implementation/AsyncContinuation');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (is(element, 'camunda:AsyncCapable')) {\n\n    group.entries = group.entries.concat(asyncContinuation(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject\n    }, translate));\n\n  }\n};","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","'use strict';\n\nvar collectionAdd = require('diagram-js/lib/util/Collections').add,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar CategoryHelper = {};\n\nmodule.exports = CategoryHelper;\n\n/**\n * Creates a new bpmn:CategoryValue inside a new bpmn:Category\n *\n * @param {ModdleElement} definitions\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {ModdleElement} categoryValue.\n */\nCategoryHelper.createCategoryValue = function(definitions, bpmnFactory) {\n  var categoryValue = bpmnFactory.create('bpmn:CategoryValue'),\n      category = bpmnFactory.create('bpmn:Category', {\n        categoryValue: [ categoryValue ]\n      });\n\n  // add to correct place\n  collectionAdd(definitions.get('rootElements'), category);\n  getBusinessObject(category).$parent = definitions;\n  getBusinessObject(categoryValue).$parent = category;\n\n  return categoryValue;\n\n};","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    elementHelper = require('../../../../helper/ElementHelper');\n\nvar assign = require('lodash/assign');\nvar map = require('lodash/map');\n\nvar DEFAULT_DELEGATE_PROPS = [ 'class', 'expression', 'delegateExpression' ];\n\nvar DELEGATE_PROPS = {\n  'camunda:class': undefined,\n  'camunda:expression': undefined,\n  'camunda:delegateExpression': undefined,\n  'camunda:resultVariable': undefined\n};\n\nvar DMN_CAPABLE_PROPS = {\n  'camunda:decisionRef': undefined,\n  'camunda:decisionRefBinding': 'latest',\n  'camunda:decisionRefVersion': undefined,\n  'camunda:mapDecisionResult': 'resultList',\n  'camunda:decisionRefTenantId': undefined\n};\n\n\nvar EXTERNAL_CAPABLE_PROPS = {\n  'camunda:type': undefined,\n  'camunda:topic': undefined\n};\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var DEFAULT_OPTIONS = [\n    { value: 'class', name: translate('Java Class') },\n    { value: 'expression', name: translate('Expression') },\n    { value: 'delegateExpression', name: translate('Delegate Expression') }\n  ];\n\n  var DMN_OPTION = [\n    { value: 'dmn', name: translate('DMN') }\n  ];\n\n  var EXTERNAL_OPTION = [\n    { value: 'external', name: translate('External') }\n  ];\n\n  var CONNECTOR_OPTION = [\n    { value: 'connector', name: translate('Connector') }\n  ];\n\n  var SCRIPT_OPTION = [\n    { value: 'script', name: translate('Script') }\n  ];\n\n  var getType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  var hasDmnSupport = options.hasDmnSupport,\n      hasExternalSupport = options.hasExternalSupport,\n      hasServiceTaskLikeSupport = options.hasServiceTaskLikeSupport,\n      hasScriptSupport = options.hasScriptSupport;\n\n  var entries = [];\n\n  var selectOptions = DEFAULT_OPTIONS.concat([]);\n\n  if (hasDmnSupport) {\n    selectOptions = selectOptions.concat(DMN_OPTION);\n  }\n\n  if (hasExternalSupport) {\n    selectOptions = selectOptions.concat(EXTERNAL_OPTION);\n  }\n\n  if (hasServiceTaskLikeSupport) {\n    selectOptions = selectOptions.concat(CONNECTOR_OPTION);\n  }\n\n  if (hasScriptSupport) {\n    selectOptions = selectOptions.concat(SCRIPT_OPTION);\n  }\n\n  selectOptions.push({ value: '' });\n\n  entries.push(entryFactory.selectBox({\n    id : 'implementation',\n    label: translate('Implementation'),\n    selectOptions: selectOptions,\n    modelProperty: 'implType',\n\n    get: function(element, node) {\n      return {\n        implType: getType(element) || ''\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var oldType = getType(element);\n      var newType = values.implType;\n\n      var props = assign({}, DELEGATE_PROPS);\n\n      if (DEFAULT_DELEGATE_PROPS.indexOf(newType) !== -1) {\n\n        var newValue = '';\n        if (DEFAULT_DELEGATE_PROPS.indexOf(oldType) !== -1) {\n          newValue = bo.get('camunda:' + oldType);\n        }\n        props['camunda:' + newType] = newValue;\n      }\n\n      if (hasDmnSupport) {\n        props = assign(props, DMN_CAPABLE_PROPS);\n        if (newType === 'dmn') {\n          props['camunda:decisionRef'] = '';\n        }\n      }\n\n      if (hasExternalSupport) {\n        props = assign(props, EXTERNAL_CAPABLE_PROPS);\n        if (newType === 'external') {\n          props['camunda:type'] = 'external';\n          props['camunda:topic'] = '';\n        }\n      }\n\n      if (hasScriptSupport) {\n        props['camunda:script'] = undefined;\n\n        if (newType === 'script') {\n          props['camunda:script'] = elementHelper.createElement('camunda:Script', {}, bo, bpmnFactory);\n        }\n      }\n\n      var commands = [];\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n\n      if (hasServiceTaskLikeSupport) {\n        var connectors = extensionElementsHelper.getExtensionElements(bo, 'camunda:Connector');\n        commands.push(map(connectors, function(connector) {\n          return extensionElementsHelper.removeEntry(bo, element, connector);\n        }));\n\n        if (newType === 'connector') {\n          var extensionElements = bo.get('extensionElements');\n          if (!extensionElements) {\n            extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n            commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n          }\n          var connector = elementHelper.createElement('camunda:Connector', {}, extensionElements, bpmnFactory);\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\n            element,\n            extensionElements,\n            'values',\n            'extensionElements',\n            [ connector ],\n            []\n          ));\n        }\n      }\n\n      return commands;\n\n    }\n  }));\n\n  return entries;\n\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    entryFactory = require('../../../factory/EntryFactory'),\n    participantHelper = require('../../../helper/ParticipantHelper'),\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    nameEntryFactory = require('./implementation/Name'),\n    utils = require('../../../Utils');\n\nmodule.exports = function(group, element, translate, options) {\n  var businessObject = getBusinessObject(element);\n\n  var processIdDescription = options && options.processIdDescription;\n\n  if (is(element, 'bpmn:Process') || (is(element, 'bpmn:Participant') && businessObject.get('processRef'))) {\n\n    /**\n     * processId\n     */\n    if (is(element, 'bpmn:Participant')) {\n      var idEntry = entryFactory.validationAwareTextField({\n        id: 'process-id',\n        label: translate('Process Id'),\n        description: processIdDescription && translate(processIdDescription),\n        modelProperty: 'processId'\n      });\n\n      // in participants we have to change the default behavior of set and get\n      idEntry.get = function(element) {\n        var properties = participantHelper.getProcessBusinessObject(element, 'id');\n        return { processId: properties.id };\n      };\n\n      idEntry.set = function(element, values) {\n        return participantHelper.modifyProcessBusinessObject(element, 'id', { id: values.processId });\n      };\n\n      idEntry.validate = function(element, values) {\n        var idValue = values.processId;\n\n        var bo = getBusinessObject(element);\n\n        var processIdError = utils.isIdValid(bo.processRef, idValue, translate);\n\n        return processIdError ? { processId: processIdError } : {};\n      };\n\n      group.entries.push(idEntry);\n\n\n      /**\n       * process name\n       */\n      var processNameEntry = nameEntryFactory(element, {\n        id: 'process-name',\n        label: translate('Process Name')\n      })[0];\n\n      // in participants we have to change the default behavior of set and get\n      processNameEntry.get = function(element) {\n        return participantHelper.getProcessBusinessObject(element, 'name');\n      };\n\n      processNameEntry.set = function(element, values) {\n        return participantHelper.modifyProcessBusinessObject(element, 'name', values);\n      };\n\n      group.entries.push(processNameEntry);\n    }\n  }\n};\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar jobPriority = require('./implementation/JobPriority'),\n    jobRetryTimeCycle = require('./implementation/JobRetryTimeCycle');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'activiti:JobPriorized') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(jobPriority(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n  }\n\n  if (is(element, 'activiti:AsyncCapable')) {\n    group.entries = group.entries.concat(jobRetryTimeCycle(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject\n    }, translate));\n  }\n\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    getExtensionElements = require('./ExtensionElementsHelper').getExtensionElements;\n\nvar FormHelper = {};\n\nmodule.exports = FormHelper;\n\n/**\n * Return form data from business object or undefined if none exist\n *\n * @param  {djs.model.Base} element\n *\n * @return {ModdleElement|undefined} formData\n */\nFormHelper.getFormData = function(element) {\n  var bo = getBusinessObject(element);\n\n  var formData = getExtensionElements(bo, 'camunda:FormData');\n\n  if (typeof formData !== 'undefined') {\n    return formData[0];\n  }\n};\n\n\n/**\n * Return all form fields existing in the business object, and\n * an empty array if none exist.\n *\n * @param  {djs.model.Base} element\n *\n * @return {Array} a list of form field objects\n */\nFormHelper.getFormFields = function(element) {\n  var formData = this.getFormData(element);\n\n  if (typeof formData === 'undefined') {\n    return [];\n  }\n\n  return formData.fields || [];\n};\n\n\n/**\n * Get a form field from the business object at given index\n *\n * @param {djs.model.Base} element\n * @param {number} idx\n *\n * @return {ModdleElement} the form field\n */\nFormHelper.getFormField = function(element, idx) {\n\n  var formFields = this.getFormFields(element);\n\n  return formFields[idx];\n};\n\n\n/**\n * Get all constraints for a specific form field from the business object\n *\n * @param  {ModdleElement} formField\n *\n * @return {Array<ModdleElement>} a list of constraint objects\n */\nFormHelper.getConstraints = function(formField) {\n  if (formField && formField.validation && formField.validation.constraints) {\n    return formField.validation.constraints;\n  }\n  return [];\n};\n\n\n/**\n * Get all camunda:value objects for a specific form field from the business object\n *\n * @param  {ModdleElement} formField\n *\n * @return {Array<ModdleElement>} a list of camunda:value objects\n */\nFormHelper.getEnumValues = function(formField) {\n  if (formField && formField.values) {\n    return formField.values;\n  }\n  return [];\n};\n\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var baseFlatten = require('./_baseFlatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    getTemplate = require('../Helper').getTemplate,\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    elementHelper = require('../../../../helper/ElementHelper');\n\nvar findExtension = require('../Helper').findExtension,\n    findExtensions = require('../Helper').findExtensions,\n    findInputParameter = require('../Helper').findInputParameter,\n    findOutputParameter = require('../Helper').findOutputParameter,\n    findCamundaProperty = require('../Helper').findCamundaProperty,\n    findCamundaInOut = require('../Helper').findCamundaInOut;\n\nvar createCamundaProperty = require('../CreateHelper').createCamundaProperty,\n    createInputParameter = require('../CreateHelper').createInputParameter,\n    createOutputParameter = require('../CreateHelper').createOutputParameter,\n    createCamundaIn = require('../CreateHelper').createCamundaIn,\n    createCamundaOut = require('../CreateHelper').createCamundaOut,\n    createCamundaInWithBusinessKey = require('../CreateHelper').createCamundaInWithBusinessKey,\n    createCamundaFieldInjection = require('../CreateHelper').createCamundaFieldInjection;\n\nvar CAMUNDA_PROPERTY_TYPE = 'camunda:property',\n    CAMUNDA_INPUT_PARAMETER_TYPE = 'camunda:inputParameter',\n    CAMUNDA_OUTPUT_PARAMETER_TYPE = 'camunda:outputParameter',\n    CAMUNDA_IN_TYPE = 'camunda:in',\n    CAMUNDA_OUT_TYPE = 'camunda:out',\n    CAMUNDA_IN_BUSINESS_KEY_TYPE = 'camunda:in:businessKey',\n    CAMUNDA_EXECUTION_LISTENER_TYPE = 'camunda:executionListener',\n    CAMUNDA_FIELD = 'camunda:field';\n\nvar BASIC_MODDLE_TYPES = [\n  'Boolean',\n  'Integer',\n  'String'\n];\n\nvar EXTENSION_BINDING_TYPES = [\n  CAMUNDA_PROPERTY_TYPE,\n  CAMUNDA_INPUT_PARAMETER_TYPE,\n  CAMUNDA_OUTPUT_PARAMETER_TYPE,\n  CAMUNDA_IN_TYPE,\n  CAMUNDA_OUT_TYPE,\n  CAMUNDA_IN_BUSINESS_KEY_TYPE,\n  CAMUNDA_FIELD\n];\n\nvar IO_BINDING_TYPES = [\n  CAMUNDA_INPUT_PARAMETER_TYPE,\n  CAMUNDA_OUTPUT_PARAMETER_TYPE\n];\n\nvar IN_OUT_BINDING_TYPES = [\n  CAMUNDA_IN_TYPE,\n  CAMUNDA_OUT_TYPE,\n  CAMUNDA_IN_BUSINESS_KEY_TYPE\n];\n\n/**\n * Injects custom properties into the given group.\n *\n * @param {djs.model.Base} element\n * @param {ElementTemplates} elementTemplates\n * @param {BpmnFactory} bpmnFactory\n * @param {Function} translate\n */\nmodule.exports = function(element, elementTemplates, bpmnFactory, translate) {\n\n  var template = getTemplate(element, elementTemplates);\n\n  if (!template) {\n    return [];\n  }\n\n  var renderCustomField = function(id, p, idx) {\n    var propertyType = p.type;\n\n    var entryOptions = {\n      id: id,\n      description: p.description,\n      label: p.label ? translate(p.label) : p.label,\n      modelProperty: id,\n      get: propertyGetter(id, p),\n      set: propertySetter(id, p, bpmnFactory),\n      validate: propertyValidator(id, p, translate)\n    };\n\n    var entry;\n\n    if (propertyType === 'Boolean') {\n      entry = entryFactory.checkbox(entryOptions);\n    }\n\n    if (propertyType === 'String') {\n      entry = entryFactory.textField(entryOptions);\n    }\n\n    if (propertyType === 'Text') {\n      entry = entryFactory.textBox(entryOptions);\n    }\n\n    if (propertyType === 'Dropdown') {\n      entryOptions.selectOptions = p.choices;\n\n      entry = entryFactory.selectBox(entryOptions);\n    }\n\n    return entry;\n  };\n\n  var groups = [];\n  var id, entry;\n\n  var customFieldsGroup = {\n    id: 'customField',\n    label: translate('Custom Fields'),\n    entries: []\n  };\n  template.properties.forEach(function(p, idx) {\n\n    id = 'custom-' + template.id + '-' + idx;\n\n    entry = renderCustomField(id, p, idx);\n    if (entry) {\n      customFieldsGroup.entries.push(entry);\n    }\n  });\n  if (customFieldsGroup.entries.length > 0) {\n    groups.push(customFieldsGroup);\n  }\n\n  if (template.scopes) {\n    for (var scopeName in template.scopes) {\n\n      var scope = template.scopes[scopeName];\n      var idScopeName = scopeName.replace(/:/g, '_');\n\n      var customScopeFieldsGroup = {\n        id: 'customField-' + idScopeName,\n        label: translate('Custom Fields for scope: ') + scopeName,\n        entries: []\n      };\n\n      scope.properties.forEach(function(p, idx) {\n\n        var propertyId = 'custom-' + template.id + '-' + idScopeName + '-' + idx;\n\n        var scopedProperty = propertyWithScope(p, scopeName);\n\n        entry = renderCustomField(propertyId, scopedProperty, idx);\n        if (entry) {\n          customScopeFieldsGroup.entries.push(entry);\n        }\n      });\n\n      if (customScopeFieldsGroup.entries.length > 0) {\n        groups.push(customScopeFieldsGroup);\n      }\n    }\n  }\n\n  return groups;\n};\n\n\n// getters, setters and validators ///////////////\n\n\n/**\n * Return a getter that retrieves the given property.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n *\n * @return {Function}\n */\nfunction propertyGetter(name, property) {\n\n  /* getter */\n  return function get(element) {\n    var value = getPropertyValue(element, property);\n\n    return objectWithKey(name, value);\n  };\n}\n\n/**\n * Return a setter that updates the given property.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {Function}\n */\nfunction propertySetter(name, property, bpmnFactory) {\n\n  /* setter */\n  return function set(element, values) {\n\n    var value = values[name];\n\n    return setPropertyValue(element, property, value, bpmnFactory);\n  };\n}\n\n/**\n * Return a validator that ensures the property is ok.\n *\n * @param {String} name\n * @param {PropertyDescriptor} property\n * @param {Function} translate\n *\n * @return {Function}\n */\nfunction propertyValidator(name, property, translate) {\n\n  /* validator */\n  return function validate(element, values) {\n    var value = values[name];\n\n    var error = validateValue(value, property, translate);\n\n    if (error) {\n      return objectWithKey(name, error);\n    }\n  };\n}\n\n\n// get, set and validate helpers ///////////////////\n\n/**\n * Return the value of the specified property descriptor,\n * on the passed diagram element.\n *\n * @param {djs.model.Base} element\n * @param {PropertyDescriptor} property\n *\n * @return {Any}\n */\nfunction getPropertyValue(element, property) {\n\n  var bo = getBusinessObject(element);\n\n  var binding = property.binding,\n      scope = property.scope;\n\n  var bindingType = binding.type,\n      bindingName = binding.name;\n\n  var propertyValue = property.value || '';\n\n  if (scope) {\n    bo = findExtension(bo, scope.name);\n    if (!bo) {\n      return propertyValue;\n    }\n  }\n\n  // property\n  if (bindingType === 'property') {\n\n    var value = bo.get(bindingName);\n\n    if (bindingName === 'conditionExpression') {\n      if (value) {\n        return value.body;\n      } else {\n        // return defined default\n        return propertyValue;\n      }\n    } else {\n      // return value; default to defined default\n      return typeof value !== 'undefined' ? value : propertyValue;\n    }\n  }\n\n  var camundaProperties,\n      camundaProperty;\n\n  if (bindingType === CAMUNDA_PROPERTY_TYPE) {\n    if (scope) {\n      camundaProperties = bo.get('properties');\n    } else {\n      camundaProperties = findExtension(bo, 'camunda:Properties');\n    }\n\n    if (camundaProperties) {\n      camundaProperty = findCamundaProperty(camundaProperties, binding);\n\n      if (camundaProperty) {\n        return camundaProperty.value;\n      }\n    }\n\n    return propertyValue;\n  }\n\n  var inputOutput,\n      ioParameter;\n\n  if (IO_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    if (scope) {\n      inputOutput = bo.get('inputOutput');\n    } else {\n      inputOutput = findExtension(bo, 'camunda:InputOutput');\n    }\n\n    if (!inputOutput) {\n      // ioParameter cannot exist yet, return property value\n      return propertyValue;\n    }\n  }\n\n  // camunda input parameter\n  if (bindingType === CAMUNDA_INPUT_PARAMETER_TYPE) {\n    ioParameter = findInputParameter(inputOutput, binding);\n\n    if (ioParameter) {\n      if (binding.scriptFormat) {\n        if (ioParameter.definition) {\n          return ioParameter.definition.value;\n        }\n      } else {\n        return ioParameter.value || '';\n      }\n    }\n\n    return propertyValue;\n  }\n\n  // camunda output parameter\n  if (binding.type === CAMUNDA_OUTPUT_PARAMETER_TYPE) {\n    ioParameter = findOutputParameter(inputOutput, binding);\n\n    if (ioParameter) {\n      return ioParameter.name;\n    }\n\n    return propertyValue;\n  }\n\n\n  var ioElement;\n\n  if (IN_OUT_BINDING_TYPES.indexOf(bindingType) != -1) {\n    ioElement = findCamundaInOut(bo, binding);\n\n    if (ioElement) {\n      if (bindingType === CAMUNDA_IN_BUSINESS_KEY_TYPE) {\n        return ioElement.businessKey;\n      } else\n      if (bindingType === CAMUNDA_OUT_TYPE) {\n        return ioElement.target;\n      } else\n      if (bindingType === CAMUNDA_IN_TYPE) {\n        return ioElement[binding.expression ? 'sourceExpression' : 'source'];\n      }\n    }\n\n    return propertyValue;\n  }\n\n  if (bindingType === CAMUNDA_EXECUTION_LISTENER_TYPE) {\n    var executionListener;\n    if (scope) {\n      executionListener = bo.get('executionListener');\n    } else {\n      executionListener = findExtension(bo, 'camunda:ExecutionListener');\n    }\n\n    return executionListener.script.value;\n  }\n\n  var fieldInjection;\n  if (CAMUNDA_FIELD === bindingType) {\n    var fieldInjections = findExtensions(bo, [ 'camunda:Field' ]);\n    fieldInjections.forEach(function(item) {\n      if (item.name === binding.name) {\n        fieldInjection = item;\n      }\n    });\n    if (fieldInjection) {\n      return fieldInjection.string || fieldInjection.expression;\n    } else {\n      return '';\n    }\n  }\n\n  throw unknownPropertyBinding(property);\n}\n\nmodule.exports.getPropertyValue = getPropertyValue;\n\n\n/**\n * Return an update operation that changes the diagram\n * element's custom property to the given value.\n *\n * The response of this method will be processed via\n * {@link PropertiesPanel#applyChanges}.\n *\n * @param {djs.model.Base} element\n * @param {PropertyDescriptor} property\n * @param {String} value\n * @param {BpmnFactory} bpmnFactory\n *\n * @return {Object|Array<Object>} results to be processed\n */\nfunction setPropertyValue(element, property, value, bpmnFactory) {\n  var bo = getBusinessObject(element);\n\n  var binding = property.binding,\n      scope = property.scope;\n\n  var bindingType = binding.type,\n      bindingName = binding.name;\n\n  var propertyValue;\n\n  var updates = [];\n\n  var extensionElements;\n\n  if (EXTENSION_BINDING_TYPES.indexOf(bindingType) !== -1) {\n    extensionElements = bo.get('extensionElements');\n\n    // create extension elements, if they do not exist (yet)\n    if (!extensionElements) {\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', null, element, bpmnFactory);\n\n      updates.push(cmdHelper.updateBusinessObject(\n        element, bo, objectWithKey('extensionElements', extensionElements)\n      ));\n    }\n  }\n\n  if (scope) {\n    bo = findExtension(bo, scope.name);\n    if (!bo) {\n      bo = elementHelper.createElement(scope.name, null, element, bpmnFactory);\n\n      updates.push(cmdHelper.addElementsTolist(\n        bo, extensionElements, 'values', [ bo ]\n      ));\n    }\n  }\n\n  // property\n  if (bindingType === 'property') {\n\n    if (bindingName === 'conditionExpression') {\n\n      propertyValue = elementHelper.createElement('bpmn:FormalExpression', {\n        body: value,\n        language: binding.scriptFormat\n      }, bo, bpmnFactory);\n    } else {\n\n      var moddlePropertyDescriptor = bo.$descriptor.propertiesByName[bindingName];\n\n      var moddleType = moddlePropertyDescriptor.type;\n\n      // make sure we only update String, Integer, Real and\n      // Boolean properties (do not accidentally override complex objects...)\n      if (BASIC_MODDLE_TYPES.indexOf(moddleType) === -1) {\n        throw new Error('cannot set moddle type <' + moddleType + '>');\n      }\n\n      if (moddleType === 'Boolean') {\n        propertyValue = !!value;\n      } else\n      if (moddleType === 'Integer') {\n        propertyValue = parseInt(value, 10);\n\n        if (isNaN(propertyValue)) {\n          // do not write NaN value\n          propertyValue = undefined;\n        }\n      } else {\n        propertyValue = value;\n      }\n    }\n\n    if (propertyValue !== undefined) {\n      updates.push(cmdHelper.updateBusinessObject(\n        element, bo, objectWithKey(bindingName, propertyValue)\n      ));\n    }\n  }\n\n  // camunda:property\n  var camundaProperties,\n      existingCamundaProperty,\n      newCamundaProperty;\n\n  if (bindingType === CAMUNDA_PROPERTY_TYPE) {\n\n    if (scope) {\n      camundaProperties = bo.get('properties');\n    } else {\n      camundaProperties = findExtension(extensionElements, 'camunda:Properties');\n    }\n\n    if (!camundaProperties) {\n      camundaProperties = elementHelper.createElement('camunda:Properties', null, bo, bpmnFactory);\n\n      if (scope) {\n        updates.push(cmdHelper.updateBusinessObject(\n          element, bo, { properties: camundaProperties }\n        ));\n      }\n      else {\n        updates.push(cmdHelper.addElementsTolist(\n          element, extensionElements, 'values', [ camundaProperties ]\n        ));\n      }\n    }\n\n    existingCamundaProperty = findCamundaProperty(camundaProperties, binding);\n\n    newCamundaProperty = createCamundaProperty(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      camundaProperties,\n      'values',\n      null,\n      [ newCamundaProperty ],\n      existingCamundaProperty ? [ existingCamundaProperty ] : []\n    ));\n  }\n\n  // camunda:inputParameter\n  // camunda:outputParameter\n  var inputOutput,\n      existingIoParameter,\n      newIoParameter;\n\n  if (IO_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    if (scope) {\n      inputOutput = bo.get('inputOutput');\n    } else {\n      inputOutput = findExtension(extensionElements, 'camunda:InputOutput');\n    }\n\n    // create inputOutput element, if it do not exist (yet)\n    if (!inputOutput) {\n      inputOutput = elementHelper.createElement('camunda:InputOutput', null, bo, bpmnFactory);\n\n      if (scope) {\n        updates.push(cmdHelper.updateBusinessObject(\n          element, bo, { inputOutput: inputOutput }\n        ));\n      }\n      else {\n        updates.push(cmdHelper.addElementsTolist(\n          element, extensionElements, 'values', inputOutput\n        ));\n      }\n    }\n  }\n\n  if (bindingType === CAMUNDA_INPUT_PARAMETER_TYPE) {\n\n    existingIoParameter = findInputParameter(inputOutput, binding);\n\n    newIoParameter = createInputParameter(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      inputOutput,\n      'inputParameters',\n      null,\n      [ newIoParameter ],\n      existingIoParameter ? [ existingIoParameter ] : []\n    ));\n  }\n\n  if (bindingType === CAMUNDA_OUTPUT_PARAMETER_TYPE) {\n\n    existingIoParameter = findOutputParameter(inputOutput, binding);\n\n    newIoParameter = createOutputParameter(binding, value, bpmnFactory);\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      inputOutput,\n      'outputParameters',\n      null,\n      [ newIoParameter ],\n      existingIoParameter ? [ existingIoParameter ] : []\n    ));\n  }\n\n\n  // camunda:in\n  // camunda:out\n  // camunda:in:businessKey\n  var existingInOut,\n      newInOut;\n\n  if (IN_OUT_BINDING_TYPES.indexOf(bindingType) !== -1) {\n\n    existingInOut = findCamundaInOut(bo, binding);\n\n    if (bindingType === CAMUNDA_IN_TYPE) {\n      newInOut = createCamundaIn(binding, value, bpmnFactory);\n    } else\n    if (bindingType === CAMUNDA_OUT_TYPE) {\n      newInOut = createCamundaOut(binding, value, bpmnFactory);\n    } else {\n      newInOut = createCamundaInWithBusinessKey(binding, value, bpmnFactory);\n    }\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      null,\n      [ newInOut ],\n      existingInOut ? [ existingInOut ] : []\n    ));\n  }\n\n  if (bindingType === CAMUNDA_FIELD) {\n    var existingFieldInjections = findExtensions(bo, [ 'camunda:Field' ]);\n    var newFieldInjections = [];\n\n    if (existingFieldInjections.length > 0) {\n      existingFieldInjections.forEach(function(item) {\n        if (item.name === binding.name) {\n          newFieldInjections.push(createCamundaFieldInjection(binding, value, bpmnFactory));\n        } else {\n          newFieldInjections.push(item);\n        }\n      });\n    } else {\n      newFieldInjections.push(createCamundaFieldInjection(binding, value, bpmnFactory));\n    }\n\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\n      element,\n      extensionElements,\n      'values',\n      null,\n      newFieldInjections,\n      existingFieldInjections ? existingFieldInjections : []\n    ));\n  }\n\n  if (updates.length) {\n    return updates;\n  }\n\n  // quick warning for better debugging\n  console.warn('no update', element, property, value);\n}\n\nmodule.exports.setPropertyValue = setPropertyValue;\n\n/**\n * Validate value of a given property.\n *\n * @param {String} value\n * @param {PropertyDescriptor} property\n * @param {Function} translate\n *\n * @return {Object} with validation errors\n */\nfunction validateValue(value, property, translate) {\n\n  var constraints = property.constraints || {};\n\n  if (constraints.notEmpty && isEmpty(value)) {\n    return translate('Must not be empty');\n  }\n\n  if (constraints.maxLength && value.length > constraints.maxLength) {\n    return translate('Must have max length {length}', { length: constraints.maxLength });\n  }\n\n  if (constraints.minLength && value.length < constraints.minLength) {\n    return translate('Must have min length {length}', { length: constraints.minLength });\n  }\n\n  var pattern = constraints.pattern,\n      message;\n\n  if (pattern) {\n\n    if (typeof pattern !== 'string') {\n      message = pattern.message;\n      pattern = pattern.value;\n    }\n\n    if (!matchesPattern(value, pattern)) {\n      return message || translate('Must match pattern {pattern}', { pattern: pattern });\n    }\n  }\n}\n\n\n// misc helpers ///////////////////////////////\n\nfunction propertyWithScope(property, scopeName) {\n  if (!scopeName) {\n    return property;\n  }\n\n  return assign({}, property, {\n    scope: {\n      name: scopeName\n    }\n  });\n}\n\n/**\n * Return an object with a single key -> value association.\n *\n * @param {String} key\n * @param {Any} value\n *\n * @return {Object}\n */\nfunction objectWithKey(key, value) {\n  var obj = {};\n\n  obj[key] = value;\n\n  return obj;\n}\n\n/**\n * Does the given string match the specified pattern?\n *\n * @param {String} str\n * @param {String} pattern\n *\n * @return {Boolean}\n */\nfunction matchesPattern(str, pattern) {\n  var regexp = new RegExp(pattern);\n\n  return regexp.test(str);\n}\n\nfunction isEmpty(str) {\n  return !str || /^\\s*$/.test(str);\n}\n\n/**\n * Create a new {@link Error} indicating an unknown\n * property binding.\n *\n * @param {PropertyDescriptor} property\n *\n * @return {Error}\n */\nfunction unknownPropertyBinding(property) {\n  var binding = property.binding;\n\n  return new Error('unknown binding: <' + binding.type + '>');\n}\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nmodule.exports = function(group, element, translate) {\n\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && bo.get('processRef')) {\n    var versionTagEntry = entryFactory.textField({\n      id: 'versionTag',\n      label: translate('Version Tag'),\n      modelProperty: 'versionTag'\n    });\n\n    // in participants we have to change the default behavior of set and get\n    if (is(element, 'bpmn:Participant')) {\n      versionTagEntry.get = function(element) {\n        var processBo = bo.get('processRef');\n\n        return {\n          versionTag: processBo.get('activiti:versionTag')\n        };\n      };\n\n      versionTagEntry.set = function(element, values) {\n        var processBo = bo.get('processRef');\n\n        return cmdHelper.updateBusinessObject(element, processBo, {\n          'activiti:versionTag': values.versionTag || undefined\n        });\n      };\n    }\n\n    group.entries.push(versionTagEntry);\n\n  }\n};\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar asyncCapableHelper = require('../../../../helper/AsyncCapableHelper');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nfunction isAsyncBefore(bo) {\n  return asyncCapableHelper.isAsyncBefore(bo);\n}\n\nfunction isAsyncAfter(bo) {\n  return asyncCapableHelper.isAsyncAfter(bo);\n}\n\nfunction getFailedJobRetryTimeCycle(bo) {\n  return asyncCapableHelper.getFailedJobRetryTimeCycle(bo);\n}\n\nfunction removeFailedJobRetryTimeCycle(bo, element) {\n  return asyncCapableHelper.removeFailedJobRetryTimeCycle(bo, element);\n}\n\nfunction createExtensionElements(parent, bpmnFactory) {\n  return elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, parent, bpmnFactory);\n}\n\nfunction createFailedJobRetryTimeCycle(parent, bpmnFactory, cycle) {\n  return elementHelper.createElement('camunda:FailedJobRetryTimeCycle', { body: cycle }, parent, bpmnFactory);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var idPrefix = options.idPrefix || '',\n      labelPrefix = options.labelPrefix || '';\n\n  var retryTimeCycleEntry = entryFactory.textField({\n    id: idPrefix + 'retryTimeCycle',\n    label: labelPrefix + translate('Retry Time Cycle'),\n    modelProperty: 'cycle',\n\n    get: function(element, node) {\n      var retryTimeCycle = getFailedJobRetryTimeCycle(getBusinessObject(element));\n      var value = retryTimeCycle && retryTimeCycle.get('body');\n      return {\n        cycle: value\n      };\n    },\n\n    set: function(element, values, node) {\n      var newCycle = values.cycle;\n      var bo = getBusinessObject(element);\n\n      if (newCycle === '' || typeof newCycle === 'undefined') {\n        // remove retry time cycle element(s)\n        return removeFailedJobRetryTimeCycle(bo, element);\n      }\n\n      var retryTimeCycle = getFailedJobRetryTimeCycle(bo);\n\n      if (!retryTimeCycle) {\n        // add new retry time cycle element\n        var commands = [];\n\n        var extensionElements = bo.get('extensionElements');\n        if (!extensionElements) {\n          extensionElements = createExtensionElements(bo, bpmnFactory);\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\n        }\n\n        retryTimeCycle = createFailedJobRetryTimeCycle(extensionElements, bpmnFactory, newCycle);\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\n          element,\n          extensionElements,\n          'values',\n          'extensionElements',\n          [ retryTimeCycle ],\n          []\n        ));\n\n        return commands;\n      }\n\n      // update existing retry time cycle element\n      return cmdHelper.updateBusinessObject(element, retryTimeCycle, { body: newCycle });\n    },\n\n    hidden: function(element) {\n      var bo = getBusinessObject(element);\n\n      if (bo && (isAsyncBefore(bo) || isAsyncAfter(bo))) {\n        return false;\n      }\n\n      if (is(element, 'bpmn:Event')) {\n        return !eventDefinitionHelper.getTimerEventDefinition(element);\n      }\n\n      return true;\n    }\n\n  });\n\n  return [ retryTimeCycleEntry ];\n\n};\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","'use strict';\n\nvar ChangeElementTemplateHandler = require('./ChangeElementTemplateHandler');\n\nvar getTemplate = require('../Helper').getTemplate,\n    getDefaultTemplate = require('../Helper').getDefaultTemplate;\n\nfunction registerHandlers(commandStack, elementTemplates, eventBus, elementRegistry) {\n  commandStack.registerHandler(\n    'propertiesPanel.activiti.changeTemplate',\n    ChangeElementTemplateHandler\n  );\n\n  // apply default element templates on shape creation\n  eventBus.on([ 'commandStack.shape.create.postExecuted' ], function(context) {\n    applyDefaultTemplate(context.context.shape, elementTemplates, commandStack);\n  });\n\n  // apply default element templates on connection creation\n  eventBus.on([ 'commandStack.connection.create.postExecuted' ], function(context) {\n    applyDefaultTemplate(context.context.connection, elementTemplates, commandStack);\n  });\n}\n\nregisterHandlers.$inject = [ 'commandStack', 'elementTemplates', 'eventBus', 'elementRegistry' ];\n\n\nmodule.exports = {\n  __init__: [ registerHandlers ]\n};\n\n\nfunction applyDefaultTemplate(element, elementTemplates, commandStack) {\n\n  if (!getTemplate(element, elementTemplates)\n      && getDefaultTemplate(element, elementTemplates)) {\n\n    var command = 'propertiesPanel.activiti.changeTemplate';\n    var commandContext = {\n      element: element,\n      newTemplate: getDefaultTemplate(element, elementTemplates)\n    };\n\n    commandStack.execute(command, commandContext);\n  }\n}\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","'use strict';\n\nvar domQuery = require('min-dom').query,\n    escapeHTML = require('../../../../Utils').escapeHTML,\n    utils = require('../../../../Utils');\n\n\nfunction getScriptType(node) {\n  return utils.selectedType('select[name=scriptType]', node.parentElement);\n}\n\n\nmodule.exports = function(scriptLanguagePropName, scriptValuePropName, isFormatRequired, translate) {\n\n  return {\n    template:\n    '<div class=\"bpp-row bpp-textfield\">' +\n      '<label for=\"cam-script-format\">' + escapeHTML(translate('Script Format')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\">' +\n        '<input id=\"cam-script-format\" type=\"text\" name=\"scriptFormat\" />' +\n        '<button class=\"clear\" data-action=\"script.clearScriptFormat\" data-show=\"script.canClearScriptFormat\">' +\n          '<span>X</span>' +\n        '</button>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row\">' +\n      '<label for=\"cam-script-type\">' + escapeHTML(translate('Script Type')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\">' +\n        '<select id=\"cam-script-type\" name=\"scriptType\" data-value>' +\n          '<option value=\"script\" selected>' + escapeHTML(translate('Inline Script')) + '</option>' +\n          '<option value=\"scriptResource\">' + escapeHTML(translate('External Resource')) + '</option>' +\n        '</select>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row bpp-textfield\">' +\n      '<label for=\"cam-script-resource-val\" data-show=\"script.isScriptResource\">' + escapeHTML(translate('Resource')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\" data-show=\"script.isScriptResource\">' +\n        '<input id=\"cam-script-resource-val\" type=\"text\" name=\"scriptResourceValue\" />' +\n        '<button class=\"clear\" data-action=\"script.clearScriptResource\" data-show=\"script.canClearScriptResource\">' +\n          '<span>X</span>' +\n        '</button>' +\n      '</div>' +\n    '</div>' +\n\n    '<div class=\"bpp-row\">' +\n      '<label for=\"cam-script-val\" data-show=\"script.isScript\">' + escapeHTML(translate('Script')) + '</label>' +\n      '<div class=\"bpp-field-wrapper\" data-show=\"script.isScript\">' +\n        '<textarea id=\"cam-script-val\" type=\"text\" name=\"scriptValue\"></textarea>' +\n      '</div>'+\n    '</div>',\n\n    get: function(element, bo) {\n      var values = {};\n\n      // read values from xml:\n      var boScriptResource = bo.get('camunda:resource'),\n          boScript = bo.get(scriptValuePropName),\n          boScriptFormat = bo.get(scriptLanguagePropName);\n\n      if (typeof boScriptResource !== 'undefined') {\n        values.scriptResourceValue = boScriptResource;\n        values.scriptType = 'scriptResource';\n      } else {\n        values.scriptValue = boScript;\n        values.scriptType = 'script';\n      }\n\n      values.scriptFormat = boScriptFormat;\n\n      return values;\n    },\n\n    set: function(element, values, containerElement) {\n      var scriptFormat = values.scriptFormat,\n          scriptType = values.scriptType,\n          scriptResourceValue = values.scriptResourceValue,\n          scriptValue = values.scriptValue;\n\n      // init update\n      var update = {\n        'camunda:resource': undefined\n      };\n      update[scriptValuePropName] = undefined;\n      update[scriptLanguagePropName] = undefined;\n\n      if (isFormatRequired) {\n        // always set language\n        update[scriptLanguagePropName] = scriptFormat || '';\n      } else\n      // set language only when scriptFormat has a value\n      if (scriptFormat !== '') {\n        update[scriptLanguagePropName] = scriptFormat;\n      }\n\n      // set either inline script or resource\n      if ('scriptResource' === scriptType) {\n        update['camunda:resource'] = scriptResourceValue || '';\n      } else {\n        update[scriptValuePropName] = scriptValue || '';\n      }\n\n      return update;\n    },\n\n    validate: function(element, values) {\n      var validationResult = {};\n\n      if (values.scriptType === 'script' && !values.scriptValue) {\n        validationResult.scriptValue = translate('Must provide a value');\n      }\n\n      if (values.scriptType === 'scriptResource' && !values.scriptResourceValue) {\n        validationResult.scriptResourceValue = translate('Must provide a value');\n      }\n\n      if (isFormatRequired && (!values.scriptFormat || values.scriptFormat.length === 0)) {\n        validationResult.scriptFormat = translate('Must provide a value');\n      }\n\n      return validationResult;\n    },\n\n    clearScriptFormat: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('input[name=scriptFormat]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScriptFormat: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('input[name=scriptFormat]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    clearScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('input[name=scriptResourceValue]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('input[name=scriptResourceValue]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    clearScript: function(element, inputNode, btnNode, scopeNode) {\n      domQuery('textarea[name=scriptValue]', scopeNode).value='';\n\n      return true;\n    },\n\n    canClearScript: function(element, inputNode, btnNode, scopeNode) {\n      var input = domQuery('textarea[name=scriptValue]', scopeNode);\n\n      return input.value !== '';\n    },\n\n    isScriptResource: function(element, inputNode, btnNode, scopeNode) {\n      var scriptType = getScriptType(scopeNode);\n      return scriptType === 'scriptResource';\n    },\n\n    isScript: function(element, inputNode, btnNode, scopeNode) {\n      var scriptType = getScriptType(scopeNode);\n      return scriptType === 'script';\n    }\n\n  };\n\n};\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var candidateStarterGroupsEntry = entryFactory.textField({\n    id: 'candidateStarterGroups',\n    label: translate('Candidate Starter Groups'),\n    modelProperty: 'candidateStarterGroups',\n    description: translate('Specify more than one group as a comma separated list.'),\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var candidateStarterGroups = bo.get('activiti:candidateStarterGroups');\n\n      return {\n        candidateStarterGroups: candidateStarterGroups ? candidateStarterGroups : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'activiti:candidateStarterGroups': values.candidateStarterGroups || undefined\n      });\n    }\n\n  });\n\n  var candidateStarterUsersEntry = entryFactory.textField({\n    id: 'candidateStarterUsers',\n    label: translate('Candidate Starter Users'),\n    modelProperty: 'candidateStarterUsers',\n    description: translate('Specify more than one user as a comma separated list.'),\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var candidateStarterUsers = bo.get('activiti:candidateStarterUsers');\n\n      return {\n        candidateStarterUsers: candidateStarterUsers ? candidateStarterUsers : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'activiti:candidateStarterUsers': values.candidateStarterUsers || undefined\n      });\n    }\n\n  });\n\n  return [\n    candidateStarterGroupsEntry,\n    candidateStarterUsersEntry\n  ];\n};\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper'),\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\n    utils = require('../../../../Utils');\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar forEach = require('lodash/forEach'),\n    find = require('lodash/find'),\n    filter = require('lodash/filter');\n\n\nfunction getContainedActivities(element) {\n  return getFlowElements(element, 'bpmn:Activity');\n}\n\nfunction getContainedBoundaryEvents(element) {\n  return getFlowElements(element, 'bpmn:BoundaryEvent');\n}\n\nfunction getFlowElements(element, type) {\n  return utils.filterElementsByType(element.flowElements, type);\n}\n\nfunction isCompensationEventAttachedToActivity(activity, boundaryEvents) {\n  var activityId = activity.id;\n  var boundaryEvent = find(boundaryEvents, function(boundaryEvent) {\n    var compensateEventDefinition = eventDefinitionHelper.getCompensateEventDefinition(boundaryEvent);\n    var attachedToRef = boundaryEvent.attachedToRef;\n    return compensateEventDefinition && attachedToRef && attachedToRef.id === activityId;\n  });\n  return !!boundaryEvent;\n}\n\n// subprocess: only when it is not triggeredByEvent\n// activity: only when it attach a compensation boundary event\n// callActivity: no limitation\nfunction canActivityBeCompensated(activity, boundaryEvents) {\n  return (is(activity, 'bpmn:SubProcess') && !activity.triggeredByEvent) ||\n          is(activity, 'bpmn:CallActivity') ||\n          isCompensationEventAttachedToActivity(activity, boundaryEvents);\n}\n\nfunction getActivitiesForCompensation(element) {\n  var boundaryEvents = getContainedBoundaryEvents(element);\n  return filter(getContainedActivities(element), function(activity) {\n    return canActivityBeCompensated(activity, boundaryEvents);\n  });\n}\n\nfunction getActivitiesForActivityRef(element) {\n  var bo = getBusinessObject(element);\n  var parent = bo.$parent;\n\n  var activitiesForActivityRef = getActivitiesForCompensation(parent);\n\n  // if throwing compensation event is in an event sub process:\n  // get also all activities outside of the event sub process\n  if (is(parent, 'bpmn:SubProcess') && parent.triggeredByEvent) {\n    parent = parent.$parent;\n    if (parent) {\n      activitiesForActivityRef = activitiesForActivityRef.concat(getActivitiesForCompensation(parent));\n    }\n\n  }\n\n  return activitiesForActivityRef;\n}\n\nfunction createActivityRefOptions(element) {\n  var options = [ { value: '' } ];\n\n  var activities = getActivitiesForActivityRef(element);\n  forEach(activities, function(activity) {\n    var activityId = activity.id;\n    var name = (activity.name ? (activity.name + ' ') : '') + '(id=' + activityId + ')';\n    options.push({ value: activityId, name: name });\n  });\n\n  return options;\n}\n\n\nmodule.exports = function(group, element, bpmnFactory, compensateEventDefinition, elementRegistry, translate) {\n\n  group.entries.push(entryFactory.checkbox({\n    id: 'wait-for-completion',\n    label: translate('Wait for Completion'),\n    modelProperty: 'waitForCompletion',\n\n    get: function(element, node) {\n      return {\n        waitForCompletion: compensateEventDefinition.waitForCompletion\n      };\n    },\n\n    set: function(element, values) {\n      values.waitForCompletion = values.waitForCompletion || false;\n      return cmdHelper.updateBusinessObject(element, compensateEventDefinition, values);\n    }\n  }));\n\n  group.entries.push(entryFactory.selectBox({\n    id: 'activity-ref',\n    label: translate('Activity Ref'),\n    selectOptions: createActivityRefOptions(element),\n    modelProperty: 'activityRef',\n\n    get: function(element, node) {\n      var activityRef = compensateEventDefinition.activityRef;\n      activityRef = activityRef && activityRef.id;\n      return {\n        activityRef: activityRef || ''\n      };\n    },\n\n    set: function(element, values) {\n      var activityRef = values.activityRef || undefined;\n      activityRef = activityRef && getBusinessObject(elementRegistry.get(activityRef));\n      return cmdHelper.updateBusinessObject(element, compensateEventDefinition, {\n        activityRef: activityRef\n      });\n    }\n  }));\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar DELEGATE_TYPES = [\n  'class',\n  'expression',\n  'delegateExpression'\n];\n\nvar PROPERTIES = {\n  class: 'camunda:class',\n  expression: 'camunda:expression',\n  delegateExpression: 'camunda:delegateExpression'\n};\n\nfunction isDelegate(type) {\n  return DELEGATE_TYPES.indexOf(type) !== -1;\n}\n\nfunction getAttribute(type) {\n  return PROPERTIES[type];\n}\n\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getImplementationType = options.getImplementationType,\n      getBusinessObject = options.getBusinessObject;\n\n  function getDelegationLabel(type) {\n    switch (type) {\n    case 'class':\n      return translate('Java Class');\n    case 'expression':\n      return translate('Expression');\n    case 'delegateExpression':\n      return translate('Delegate Expression');\n    default:\n      return '';\n    }\n  }\n\n  var delegateEntry = entryFactory.textField({\n    id: 'delegate',\n    label: translate('Value'),\n    dataValueLabel: 'delegationLabel',\n    modelProperty: 'delegate',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var type = getImplementationType(element);\n      var attr = getAttribute(type);\n      var label = getDelegationLabel(type);\n      return {\n        delegate: bo.get(attr),\n        delegationLabel: label\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var type = getImplementationType(element);\n      var attr = getAttribute(type);\n      var prop = {};\n      prop[attr] = values.delegate || '';\n      return cmdHelper.updateBusinessObject(element, bo, prop);\n    },\n\n    validate: function(element, values, node) {\n      return isDelegate(getImplementationType(element)) && !values.delegate ? { delegate: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isDelegate(getImplementationType(element));\n    }\n\n  });\n\n  return [ delegateEntry ];\n\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar callable = require('./implementation/Callable');\n\nvar cmdHelper = require('../../../helper/CmdHelper');\n\nvar flattenDeep = require('lodash/flattenDeep');\nvar assign = require('lodash/assign');\n\nfunction getCallableType(element) {\n  var bo = getBusinessObject(element);\n\n  var boCalledElement = bo.get('calledElement'),\n      boCaseRef = bo.get('activiti:caseRef');\n\n  var callActivityType = '';\n  if (typeof boCalledElement !== 'undefined') {\n    callActivityType = 'bpmn';\n  } else\n\n  if (typeof boCaseRef !== 'undefined') {\n    callActivityType = 'cmmn';\n  }\n\n  return callActivityType;\n}\n\nvar DEFAULT_PROPS = {\n  calledElement: undefined,\n  'activiti:calledElementBinding': 'latest',\n  'activiti:calledElementVersion': undefined,\n  'activiti:calledElementTenantId': undefined,\n  'activiti:variableMappingClass' : undefined,\n  'activiti:variableMappingDelegateExpression' : undefined,\n  'activiti:caseRef': undefined,\n  'activiti:caseBinding': 'latest',\n  'activiti:caseVersion': undefined,\n  'activiti:caseTenantId': undefined\n};\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!is(element, 'activiti:CallActivity')) {\n    return;\n  }\n\n  group.entries.push(entryFactory.selectBox({\n    id : 'callActivity',\n    label: translate('CallActivity Type'),\n    selectOptions: [\n      { name: 'BPMN', value: 'bpmn' },\n      { name: 'CMMN', value: 'cmmn' }\n    ],\n    emptyParameter: true,\n    modelProperty: 'callActivityType',\n\n    get: function(element, node) {\n      return {\n        callActivityType: getCallableType(element)\n      };\n    },\n\n    set: function(element, values, node) {\n      var type = values.callActivityType;\n\n      var props = assign({}, DEFAULT_PROPS);\n\n      if (type === 'bpmn') {\n        props.calledElement = '';\n      }\n      else if (type === 'cmmn') {\n        props['activiti:caseRef'] = '';\n      }\n\n      return cmdHelper.updateProperties(element, props);\n    }\n\n  }));\n\n  group.entries.push(callable(element, bpmnFactory, {\n    getCallableType: getCallableType\n  }, translate));\n\n  group.entries = flattenDeep(group.entries);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-12 col-xl-12 col-md-12\"},[_c('div',{staticClass:\"panel\",attrs:{\"id\":\"panel-1\"}},[_c('div',{staticClass:\"panel-hdr\"},[_c('h2',[_vm._v(\"流程属性\")]),_c('div',{staticClass:\"panel-toolbar\",staticStyle:{\"padding-right\":\"1em\"}},[_c('a',{staticClass:\"waves-effect waves-themed\",staticStyle:{\"margin-right\":\"24px\"},attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.saveProcess}},[_c('i',{staticClass:\"fal fa-fw fa-save mr-1\"}),_vm._v(\"保存 \")]),_c('a',{staticClass:\"waves-effect waves-themed\",staticStyle:{\"margin-right\":\"24px\"},attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.saveXML}},[_c('i',{staticClass:\"fal fa-fw fa-download mr-1\"}),_vm._v(\"下载 \")]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.process._id),expression:\"process._id\"}],staticClass:\"waves-effect waves-themed text-danger\",staticStyle:{\"margin-right\":\"24px\"},attrs:{\"href\":\"javascript:void(0);\",\"data-toggle\":\"modal\",\"data-target\":\"#deleteModal\"}},[_c('i',{staticClass:\"fal fa-fw fa-trash-alt mr-2\"}),_vm._v(\"删除 \")]),_vm._m(0),_vm._m(1)]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"deleteModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"deleteModalTitle\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(2),_c('div',{staticClass:\"modal-body\"},[_vm._v(\"是否删除当前记录？ 请注意，此操作不可逆。\")]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn btn-warning\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteProcess()}}},[_c('i',{staticClass:\"fal fa-fw fa-trash-alt mr-2\"}),_vm._v(\"删除 \")])])])])])]),_c('div',{staticClass:\"panel-container show\"},[_c('div',{staticClass:\"panel-content\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3 mt-2\"},[_c('div',{staticClass:\"form-group\"},[_vm._m(3),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.process.name),expression:\"process.name\"}],staticClass:\"form-control form-control-sm\",class:{'is-invalid': _vm.invalidName},attrs:{\"type\":\"text\",\"id\":\"processName\",\"required\":\"\"},domProps:{\"value\":(_vm.process.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.process, \"name\", $event.target.value)}}})])]),_c('div',{staticClass:\"col-2 mt-2\"},[_c('div',{staticClass:\"form-group\"},[_vm._m(4),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.process.engine),expression:\"process.engine\"}],staticClass:\"form-control form-control-sm\",attrs:{\"name\":\"engine\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.process, \"engine\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.changeEngine($event)}]}},_vm._l((['activiti','camunda']),function(option,index){return _c('option',{key:index,domProps:{\"value\":option}},[_vm._v(_vm._s(option))])}),0)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.process._id && _vm.process.createdAt),expression:\"process._id && process.createdAt\"}],staticClass:\"col-3 mt-2\"},[_c('label',{staticClass:\"form-label fw-300\"},[_c('i',{staticClass:\"fal fa-fw fa-calendar-day mr-2\"}),_c('span',[_vm._v(_vm._s(_vm.moment(Number(_vm.process.createdAt)).format('YYYY-MM-DD HH:mm')))])]),_vm._v(\" \"),_c('label',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.process._id),expression:\"process._id\"}],staticClass:\"form-label fw-300\",attrs:{\"for\":\"simpleinput\"}},[_c('i',{staticClass:\"fal fa-fw fa-user-circle mr-2\"}),_c('span',[_vm._v(_vm._s(_vm.process.createdName))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.process._id && _vm.process.updatedAt),expression:\"process._id && process.updatedAt\"}],staticClass:\"col-3 mt-2\"},[_c('label',{staticClass:\"form-label fw-300\"},[_c('i',{staticClass:\"fal fa-fw fa-calendar-day mr-2\"}),_c('span',[_vm._v(_vm._s(_vm.moment(Number(_vm.process.updatedAt)).format('YYYY-MM-DD HH:mm')))])]),_vm._v(\" \"),_c('label',{staticClass:\"form-label fw-300\"},[_c('i',{staticClass:\"fal fa-fw fa-user-circle mr-2\"}),_c('span',[_vm._v(_vm._s(_vm.process.updatedName))])])])])])])])]),_vm._m(5)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\",attrs:{\"data-action\":\"panel-collapse\",\"data-toggle\":\"tooltip\",\"data-offset\":\"0,10\",\"data-original-title\":\"Collapse\"}},[_c('i',{staticClass:\"fal fa-fw fa-minus\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\",attrs:{\"data-action\":\"panel-fullscreen\",\"data-toggle\":\"tooltip\",\"data-offset\":\"0,10\",\"data-original-title\":\"Fullscreen\"}},[_c('i',{staticClass:\"fal fa-fw fa-expand\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"deleteModalTitle\"}},[_vm._v(\"删除记录\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"form-label\",attrs:{\"for\":\"processName\"}},[_vm._v(\" 名称 \"),_c('i',{staticClass:\"fal fa-fw fa-asterisk text-danger ml-2\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"form-label\",attrs:{\"for\":\"processName\"}},[_vm._v(\" 类型 \"),_c('i',{staticClass:\"fal fa-fw fa-asterisk text-danger ml-2\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-12 col-xl-12 col-md-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-8 col-xl-9 col-md-7\"},[_c('div',{staticClass:\"panel\",attrs:{\"id\":\"panel-preview\"}},[_c('div',{staticClass:\"panel-hdr\"},[_c('h2',[_vm._v(\"流程图\")]),_c('div',{staticClass:\"panel-toolbar\"},[_c('button',{staticClass:\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\",attrs:{\"data-action\":\"panel-collapse\",\"data-toggle\":\"tooltip\",\"data-offset\":\"0,10\",\"data-original-title\":\"Collapse\"}},[_c('i',{staticClass:\"fal fa-fw fa-minus\"})]),_c('button',{staticClass:\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\",attrs:{\"data-action\":\"panel-fullscreen\",\"data-toggle\":\"tooltip\",\"data-offset\":\"0,10\",\"data-original-title\":\"Fullscreen\"}},[_c('i',{staticClass:\"fal fa-fw fa-expand\"})])])]),_c('div',{staticClass:\"panel-container show\"},[_c('div',{staticClass:\"panel-content\"},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"canvas\"}})])])])]),_c('div',{staticClass:\"col-lg-4 col-xl-3 col-md-5\"},[_c('div',{staticClass:\"panel\",attrs:{\"id\":\"panel-configuration\"}},[_c('div',{staticClass:\"panel-hdr\"},[_c('h2',[_vm._v(\"流程配置\")]),_c('div',{staticClass:\"panel-toolbar\"},[_c('button',{staticClass:\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\",attrs:{\"data-action\":\"panel-collapse\",\"data-toggle\":\"tooltip\",\"data-offset\":\"0,10\",\"data-original-title\":\"Collapse\"}},[_c('i',{staticClass:\"fal fa-fw fa-minus\"})]),_c('button',{staticClass:\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\",attrs:{\"data-action\":\"panel-fullscreen\",\"data-toggle\":\"tooltip\",\"data-offset\":\"0,10\",\"data-original-title\":\"Fullscreen\"}},[_c('i',{staticClass:\"fal fa-fw fa-expand\"})])])]),_c('div',{staticClass:\"panel-container show\"},[_c('div',{staticClass:\"panel-content\"},[_c('div',{attrs:{\"id\":\"properties\"}})])])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <div class=\"col-lg-12 col-xl-12 col-md-12\">\n      <div id=\"panel-1\" class=\"panel\">\n        <div class=\"panel-hdr\">\n          <h2>流程属性</h2>\n          <div class=\"panel-toolbar\" style=\"padding-right: 1em;\">\n            <a\n              href=\"javascript:void(0);\"\n              v-on:click=\"saveProcess\"\n              class=\"waves-effect waves-themed\"\n              style=\"margin-right: 24px;\"\n            >\n              <i class=\"fal fa-fw fa-save mr-1\"></i>保存\n            </a>\n            <a\n              href=\"javascript:void(0);\"\n              v-on:click=\"saveXML\"\n              class=\"waves-effect waves-themed\"\n              style=\"margin-right: 24px;\"\n            >\n              <i class=\"fal fa-fw fa-download mr-1\"></i>下载\n            </a>\n            <a\n              href=\"javascript:void(0);\"\n              data-toggle=\"modal\"\n              data-target=\"#deleteModal\"\n              class=\"waves-effect waves-themed text-danger\"\n              style=\"margin-right: 24px;\"\n              v-show=\"process._id\"\n            >\n              <i class=\"fal fa-fw fa-trash-alt mr-2\"></i>删除\n            </a>\n            <button\n              class=\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\"\n              data-action=\"panel-collapse\"\n              data-toggle=\"tooltip\"\n              data-offset=\"0,10\"\n              data-original-title=\"Collapse\"\n            >\n              <i class=\"fal fa-fw fa-minus\"></i>\n            </button>\n            <button\n              class=\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\"\n              data-action=\"panel-fullscreen\"\n              data-toggle=\"tooltip\"\n              data-offset=\"0,10\"\n              data-original-title=\"Fullscreen\"\n            >\n              <i class=\"fal fa-fw fa-expand\"></i>\n            </button>\n          </div>\n          <div\n            class=\"modal fade\"\n            id=\"deleteModal\"\n            tabindex=\"-1\"\n            role=\"dialog\"\n            aria-labelledby=\"deleteModalTitle\"\n            aria-hidden=\"true\"\n          >\n            <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h5 class=\"modal-title\" id=\"deleteModalTitle\">删除记录</h5>\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div class=\"modal-body\">是否删除当前记录？ 请注意，此操作不可逆。</div>\n                <div class=\"modal-footer\">\n                  <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">取消</button>\n                  <button type=\"button\" v-on:click=\"deleteProcess()\" class=\"btn btn-warning\">\n                    <i class=\"fal fa-fw fa-trash-alt mr-2\"></i>删除\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"panel-container show\">\n          <div class=\"panel-content\">\n            <div class=\"row\">\n              <div class=\"col-3 mt-2\">\n                <div class=\"form-group\">\n                  <label class=\"form-label\" for=\"processName\">\n                    名称\n                    <i class=\"fal fa-fw fa-asterisk text-danger ml-2\"></i>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"processName\"\n                    class=\"form-control form-control-sm\"\n                    :class=\"{'is-invalid': invalidName}\"\n                    v-model=\"process.name\"\n                    required\n                  />\n                </div>\n              </div>\n              <div class=\"col-2 mt-2\">\n                <div class=\"form-group\">\n                  <label class=\"form-label\" for=\"processName\">\n                    类型\n                    <i class=\"fal fa-fw fa-asterisk text-danger ml-2\"></i>\n                  </label>\n                  <select\n                    name=\"engine\"\n                    v-model=\"process.engine\"\n                    class=\"form-control form-control-sm\"\n                    @change=\"changeEngine($event)\"\n                  >\n                    <option\n                      v-for=\"(option,index) in ['activiti','camunda']\"\n                      :key=\"index\"\n                      :value=\"option\"\n                    >{{option}}</option>\n                  </select>\n                </div>\n              </div>\n              <div class=\"col-3 mt-2\" v-show=\"process._id && process.createdAt\">\n                <label class=\"form-label fw-300\">\n                  <i class=\"fal fa-fw fa-calendar-day mr-2\"></i>\n                  <span>{{moment(Number(process.createdAt)).format('YYYY-MM-DD HH:mm')}}</span>\n                </label>&nbsp;\n                <label class=\"form-label fw-300\" for=\"simpleinput\" v-show=\"process._id\">\n                  <i class=\"fal fa-fw fa-user-circle mr-2\"></i>\n                  <span>{{process.createdName}}</span>\n                </label>\n              </div>\n              <div class=\"col-3 mt-2\" v-show=\"process._id && process.updatedAt\">\n                <label class=\"form-label fw-300\">\n                  <i class=\"fal fa-fw fa-calendar-day mr-2\"></i>\n                  <span>{{moment(Number(process.updatedAt)).format('YYYY-MM-DD HH:mm')}}</span>\n                </label>\n                &nbsp;\n                <label class=\"form-label fw-300\">\n                  <i class=\"fal fa-fw fa-user-circle mr-2\"></i>\n                  <span>{{process.updatedName}}</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- <div class=\"col-lg-12 col-xl-12 col-md-12\">\n      <div id=\"panel-preview\" class=\"panel\">\n        <div class=\"panel-hdr\">\n          <h2>流程图</h2>\n          <div class=\"panel-toolbar\">\n            <button\n              class=\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\"\n              data-action=\"panel-collapse\"\n              data-toggle=\"tooltip\"\n              data-offset=\"0,10\"\n              data-original-title=\"Collapse\"\n            >\n              <i class=\"fal fa-fw fa-minus\"></i>\n            </button>\n            <button\n              class=\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\"\n              data-action=\"panel-fullscreen\"\n              data-toggle=\"tooltip\"\n              data-offset=\"0,10\"\n              data-original-title=\"Fullscreen\"\n            >\n              <i class=\"fal fa-fw fa-expand\"></i>\n            </button>\n          </div>\n        </div>\n        <div class=\"panel-container show\">\n          <div class=\"panel-content\">\n            <div class=\"modeler\">\n              <div id=\"canvas\"></div>\n              <div id=\"properties\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>-->\n\n    <div class=\"col-lg-12 col-xl-12 col-md-12\">\n      <div class=\"row\">\n        <div class=\"col-lg-8 col-xl-9 col-md-7\">\n          <div id=\"panel-preview\" class=\"panel\">\n            <div class=\"panel-hdr\">\n              <h2>流程图</h2>\n              <div class=\"panel-toolbar\">\n                <button\n                  class=\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\"\n                  data-action=\"panel-collapse\"\n                  data-toggle=\"tooltip\"\n                  data-offset=\"0,10\"\n                  data-original-title=\"Collapse\"\n                >\n                  <i class=\"fal fa-fw fa-minus\"></i>\n                </button>\n                <button\n                  class=\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\"\n                  data-action=\"panel-fullscreen\"\n                  data-toggle=\"tooltip\"\n                  data-offset=\"0,10\"\n                  data-original-title=\"Fullscreen\"\n                >\n                  <i class=\"fal fa-fw fa-expand\"></i>\n                </button>\n              </div>\n            </div>\n            <div class=\"panel-container show\">\n              <div class=\"panel-content\">\n                <div class=\"container\" id=\"canvas\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-lg-4 col-xl-3 col-md-5\">\n          <div id=\"panel-configuration\" class=\"panel\">\n            <div class=\"panel-hdr\">\n              <h2>流程配置</h2>\n              <div class=\"panel-toolbar\">\n                <button\n                  class=\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\"\n                  data-action=\"panel-collapse\"\n                  data-toggle=\"tooltip\"\n                  data-offset=\"0,10\"\n                  data-original-title=\"Collapse\"\n                >\n                  <i class=\"fal fa-fw fa-minus\"></i>\n                </button>\n                <button\n                  class=\"btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0 waves-effect waves-themed\"\n                  data-action=\"panel-fullscreen\"\n                  data-toggle=\"tooltip\"\n                  data-offset=\"0,10\"\n                  data-original-title=\"Fullscreen\"\n                >\n                  <i class=\"fal fa-fw fa-expand\"></i>\n                </button>\n              </div>\n            </div>\n            <div class=\"panel-container show\">\n              <div class=\"panel-content\">\n                <div id=\"properties\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport config from \"@/common/config\";\nimport customTranslate from \"@/common/customTranslate\";\nimport utils from \"@/common/utils.js\";\nimport service from \"@/common/service\";\nimport moment from \"moment\";\nimport BpmnJS from \"bpmn-js/lib/Modeler\";\nimport propertiesPanelModule from \"bpmn-js-properties-panel\";\n\nimport camundaProvider from \"bpmn-js-properties-panel/lib/provider/camunda\";\nimport camundaModdle from \"@/moddle/camunda\";\n\nimport activitiProvider from \"bpmn-js-properties-panel/lib/provider/activiti\";\nimport activitiModdle from \"@/moddle/activiti\";\n//import diagramXML from  \"@/assets/template.bpmn\";\n\nexport default {\n  // el: \"#app\",\n\n  data() {\n    return utils.createModel({\n      processes: [],\n      process: {},\n      template: \"\",\n      moment: moment,\n      config: config,\n      invalidName: false,\n    });\n  },\n  created: function () {},\n  mounted() {\n    service.getProcessTemplate(\"template\").then((response) => {\n      this.template = response.data;\n      this.refresh();\n    });\n  },\n  methods: {\n    refresh: function () {\n      var id = this.$route.query && this.$route.query.id;\n      this.process._id = id;\n      this.invalidName = false;\n      var sourceId = this.$route.query && this.$route.query.sourceId;\n      return new Promise((resolve, reject) => {\n        if (id) {\n          service.getItem(\"process\", id).then((process) => {\n            resolve(process.data);\n          });\n        } else if (sourceId) {\n          service.getItem(\"process\", sourceId).then((process) => {\n            process.data.name = \"[复制] \" + process.data.name;\n            process.data.createdBy = \"\";\n            process.data.createdAt = \"\";\n            process.data.updatedBy = \"\";\n            process.data.updatedAt = \"\";\n            process.data._id = \"\";\n            resolve(process.data);\n          });\n        } else {\n          var engine =\n            (this.$route.query && this.$route.query.engine) || \"camunda\";\n          resolve({ engine });\n        }\n      }).then((data) => {\n        this.process = data;\n\n        this.loadBpmn();\n      });\n    },\n\n    loadBpmn() {\n      if (this.bpmn) {\n        this.bpmn.destroy();\n      }\n\n      var extension;\n      var provider;\n\n      if (this.process.engine === \"camunda\") {\n        extension = { camunda: camundaModdle };\n        provider = camundaProvider;\n      } else {\n        extension = { camunda: activitiModdle };\n        provider = camundaProvider;\n      }\n\n      var translate = {\n        translate: [\"value\", customTranslate],\n      };\n\n      this.bpmn = new BpmnJS({\n        additionalModules: [propertiesPanelModule, provider, translate],\n        moddleExtensions: extension,\n        container: \"#canvas\",\n        propertiesPanel: {\n          parent: \"#properties\",\n        },\n      });\n\n      var xml = this.process.xml || this.template;\n\n      return this.bpmn.importXML(xml);\n    },\n    changeEngine() {\n      var target = this.process.engine;\n      var source = target === \"camunda\" ? \"activiti\" : \"camunda\";\n      var xml = this.process.xml;\n\n      var scripts = {\n        namespace: {\n          camunda: 'xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\"',\n          activiti: 'xmlns:camunda=\"http://activiti.org/bpmn\"',\n        },\n        // prefix: {\n        //   camunda: \"camunda:\",\n        //   activiti: \"activiti:\"\n        // }\n      };\n\n      for (var name in scripts) {\n        var mapping = scripts[name];\n        var regex = new RegExp(mapping[source], \"g\");\n        xml = xml.replace(regex, mapping[target]);\n      }\n      console.log(xml);\n      this.process.xml = xml;\n      this.loadBpmn();\n    },\n    deleteProcess() {\n      if (!this.process._id) {\n        return;\n      }\n      service.deleteItem(\"process\", this.process._id).then((result) => {\n        //this.refresh();\n        $(\"#deleteModal\").modal(\"hide\");\n        this.$router.push({\n          name: \"processes\",\n        });\n      });\n    },\n\n    saveProcess() {\n      this.invalidName = false;\n      if (!this.process.name) {\n        this.invalidName = true;\n        return;\n      }\n      var process = JSON.parse(JSON.stringify(this.process));\n      delete process._etag;\n\n      var stamp = moment().format(\"x\");\n      if (!process._id) {\n        process.type = \"process\";\n        //  process.engine = this.engine;\n        process.createdBy = this.user.id;\n        process.createdAt = stamp;\n        process._id = stamp;\n      } else {\n        // process.engine = this.engine;\n        process.updatedBy = this.user.id;\n        process.updatedAt = stamp;\n      }\n      var id = process._id;\n      delete process.createdName;\n      delete process.updatedName;\n      this.bpmn\n        .saveXML({ format: true })\n        .then((response) => {\n          process.xml = response.xml;\n          return this.bpmn.saveSVG();\n        })\n        .then((response) => {\n          process.svg = response.svg;\n          return service.saveItem(\"process\", process);\n        })\n        .then(\n          (result) => {\n            if (!this.process._id) {\n              this.$router.push({\n                name: \"processEdit\",\n                query: { id: id },\n              });\n            }\n            this.$parent.$emit(\"message\", {\n              type: \"success\",\n              title: \"保存流程\",\n              message: \"保存成功。\",\n            });\n            this.refresh();\n          },\n          (result) => {\n            this.invalidName = true;\n            this.$parent.$emit(\"message\", {\n              type: \"error\",\n              title: \"保存流程\",\n              message: result.message,\n            });\n          }\n        );\n    },\n    saveXML() {\n      this.bpmn.saveXML({ format: true }).then((response) => {\n        var xml = response.xml;\n        var name = this.process.name + \".bpmn20.xml\"; //\"diagram.bpmn\";\n        var dom = document.createElement(\"a\");\n        var bb = new Blob([xml], {\n          type: \"text/xml\",\n        });\n\n        dom.setAttribute(\"href\", window.URL.createObjectURL(bb));\n        dom.setAttribute(\"download\", name);\n\n        dom.dataset.downloadurl = [\"text/xml\", dom.download, dom.href].join(\n          \":\"\n        );\n        dom.draggable = true;\n        dom.classList.add(\"dragout\");\n\n        dom.click();\n      });\n    },\n  },\n};\n</script>\n\n \n <style  >\ndiv.djs-container {\n  height: 385px !important;\n}\n</style>\n\n<style src=\"bpmn-js/dist/assets/diagram-js.css\" />\n<style src=\"bpmn-js/dist/assets/bpmn-font/css/bpmn-embedded.css\"/>\n<style src=\"bpmn-js-properties-panel/dist/assets/bpmn-js-properties-panel.css\" />\n\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./processEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./processEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./processEdit.vue?vue&type=template&id=1da7427c&\"\nimport script from \"./processEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./processEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./processEdit.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"bpmn-js/dist/assets/diagram-js.css?vue&type=style&index=1&lang=css&\"\nimport style2 from \"bpmn-js/dist/assets/bpmn-font/css/bpmn-embedded.css?vue&type=style&index=2&lang=css&\"\nimport style3 from \"bpmn-js-properties-panel/dist/assets/bpmn-js-properties-panel.css?vue&type=style&index=3&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\n/**\n * Create an entry to modify a property of an element which\n * is referenced by a event definition.\n *\n * @param  {djs.model.Base} element\n * @param  {ModdleElement} definition\n * @param  {BpmnFactory} bpmnFactory\n * @param  {Object} options\n * @param  {string} options.id the id of the entry\n * @param  {string} options.label the label of the entry\n * @param  {string} options.referenceProperty the name of referencing property\n * @param  {string} options.modelProperty the name of property to modify\n * @param  {string} options.shouldValidate a flag indicate whether to validate or not\n *\n * @return {Array<Object>} return an array containing the entries\n */\nmodule.exports = function(element, definition, bpmnFactory, options) {\n\n  var id = options.id || 'element-property';\n  var label = options.label;\n  var referenceProperty = options.referenceProperty;\n  var modelProperty = options.modelProperty || 'name';\n  var shouldValidate = options.shouldValidate || false;\n\n  var entry = entryFactory.textField({\n    id: id,\n    label: label,\n    modelProperty: modelProperty,\n\n    get: function(element, node) {\n      var reference = definition.get(referenceProperty);\n      var props = {};\n      props[modelProperty] = reference && reference.get(modelProperty);\n      return props;\n    },\n\n    set: function(element, values, node) {\n      var reference = definition.get(referenceProperty);\n      var props = {};\n      props[modelProperty] = values[modelProperty] || undefined;\n      return cmdHelper.updateBusinessObject(element, reference, props);\n    },\n\n    hidden: function(element, node) {\n      return !definition.get(referenceProperty);\n    }\n  });\n\n  if (shouldValidate) {\n    entry.validate = function(element, values, node) {\n      var reference = definition.get(referenceProperty);\n      if (reference && !values[modelProperty]) {\n        var validationErrors = {};\n        validationErrors[modelProperty] = 'Must provide a value';\n        return validationErrors;\n      }\n    };\n  }\n\n  return [ entry ];\n};\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    inputOutputHelper = require('../../../../helper/InputOutputHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    scriptImplementation = require('./Script');\n\n\nfunction createElement(type, parent, factory, properties) {\n  return elementHelper.createElement(type, properties, parent, factory);\n}\n\nfunction isScript(elem) {\n  return is(elem, 'camunda:Script');\n}\n\nfunction isList(elem) {\n  return is(elem, 'camunda:List');\n}\n\nfunction isMap(elem) {\n  return is(elem, 'camunda:Map');\n}\n\nfunction ensureInputOutputSupported(element, insideConnector) {\n  return inputOutputHelper.isInputOutputSupported(element, insideConnector);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var typeInfo = {\n    'camunda:Map': {\n      value: 'map',\n      label: translate('Map')\n    },\n    'camunda:List': {\n      value: 'list',\n      label: translate('List')\n    },\n    'camunda:Script': {\n      value: 'script',\n      label: translate('Script')\n    }\n  };\n\n  options = options || {};\n\n  var insideConnector = !!options.insideConnector,\n      idPrefix = options.idPrefix || '';\n\n  var getSelected = options.getSelectedParameter;\n\n  if (!ensureInputOutputSupported(element, insideConnector)) {\n    return [];\n  }\n\n  var entries = [];\n\n  var isSelected = function(element, node) {\n    return getSelected(element, node);\n  };\n\n\n  // parameter name ////////////////////////////////////////////////////////\n\n  entries.push(entryFactory.validationAwareTextField({\n    id: idPrefix + 'parameterName',\n    label: translate('Name'),\n    modelProperty: 'name',\n\n    getProperty: function(element, node) {\n      return (getSelected(element, node) || {}).name;\n    },\n\n    setProperty: function(element, values, node) {\n      var param = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, param, values);\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelected(element, node);\n\n      var validation = {};\n      if (bo) {\n        var nameValue = values.name;\n\n        if (nameValue) {\n          if (utils.containsSpace(nameValue)) {\n            validation.name = translate('Name must not contain spaces');\n          }\n        } else {\n          validation.name = translate('Parameter must have a name');\n        }\n      }\n\n      return validation;\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n  }));\n\n\n  // parameter type //////////////////////////////////////////////////////\n\n  var selectOptions = [\n    { value: 'text', name: translate('Text') },\n    { value: 'script', name: translate('Script') },\n    { value: 'list', name: translate('List') },\n    { value: 'map', name: translate('Map') }\n  ];\n\n  entries.push(entryFactory.selectBox({\n    id : idPrefix + 'parameterType',\n    label: translate('Type'),\n    selectOptions: selectOptions,\n    modelProperty: 'parameterType',\n\n    get: function(element, node) {\n      var bo = getSelected(element, node);\n\n      var parameterType = 'text';\n\n      if (typeof bo !== 'undefined') {\n        var definition = bo.get('definition');\n        if (typeof definition !== 'undefined') {\n          var type = definition.$type;\n          parameterType = typeInfo[type].value;\n        }\n      }\n\n      return {\n        parameterType: parameterType\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getSelected(element, node);\n\n      var properties = {\n        value: undefined,\n        definition: undefined\n      };\n\n      var createParameterTypeElem = function(type) {\n        return createElement(type, bo, bpmnFactory);\n      };\n\n      var parameterType = values.parameterType;\n\n      if (parameterType === 'script') {\n        properties.definition = createParameterTypeElem('camunda:Script');\n      }\n      else if (parameterType === 'list') {\n        properties.definition = createParameterTypeElem('camunda:List');\n      }\n      else if (parameterType === 'map') {\n        properties.definition = createParameterTypeElem('camunda:Map');\n      }\n\n      return cmdHelper.updateBusinessObject(element, bo, properties);\n    },\n\n    show: function(element, node) {\n      return isSelected(element, node);\n    }\n\n  }));\n\n\n  // parameter value (type = text) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.textBox({\n    id : idPrefix + 'parameterType-text',\n    label : translate('Value'),\n    modelProperty: 'value',\n    get: function(element, node) {\n      return {\n        value: (getSelected(element, node) || {}).value\n      };\n    },\n\n    set: function(element, values, node) {\n      var param = getSelected(element, node);\n      values.value = values.value || undefined;\n      return cmdHelper.updateBusinessObject(element, param, values);\n    },\n\n    show: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && !bo.definition;\n    }\n\n  }));\n\n\n  // parameter value (type = script) ///////////////////////////////////////////////////////\n  var script = scriptImplementation('scriptFormat', 'value', true, translate);\n  entries.push({\n    id: idPrefix + 'parameterType-script',\n    html: '<div data-show=\"isScript\">' +\n            script.template +\n          '</div>',\n    get: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && isScript(bo.definition) ? script.get(element, bo.definition) : {};\n    },\n\n    set: function(element, values, node) {\n      var bo = getSelected(element, node);\n      var update = script.set(element, values);\n      return cmdHelper.updateBusinessObject(element, bo.definition, update);\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelected(element, node);\n      return bo && isScript(bo.definition) ? script.validate(element, bo.definition) : {};\n    },\n\n    isScript: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && isScript(bo.definition);\n    },\n\n    script: script\n\n  });\n\n\n  // parameter value (type = list) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.table({\n    id: idPrefix + 'parameterType-list',\n    modelProperties: [ 'value' ],\n    labels: [ translate('Value') ],\n    addLabel: translate('Add Value'),\n\n    getElements: function(element, node) {\n      var bo = getSelected(element, node);\n\n      if (bo && isList(bo.definition)) {\n        return bo.definition.items;\n      }\n\n      return [];\n    },\n\n    updateElement: function(element, values, node, idx) {\n      var bo = getSelected(element, node);\n      var item = bo.definition.items[idx];\n      return cmdHelper.updateBusinessObject(element, item, values);\n    },\n\n    addElement: function(element, node) {\n      var bo = getSelected(element, node);\n      var newValue = createElement('camunda:Value', bo.definition, bpmnFactory, { value: undefined });\n      return cmdHelper.addElementsTolist(element, bo.definition, 'items', [ newValue ]);\n    },\n\n    removeElement: function(element, node, idx) {\n      var bo = getSelected(element, node);\n      return cmdHelper.removeElementsFromList(element, bo.definition, 'items', null, [ bo.definition.items[idx] ]);\n    },\n\n    editable: function(element, node, prop, idx) {\n      var bo = getSelected(element, node);\n      var item = bo.definition.items[idx];\n      return !isMap(item) && !isList(item) && !isScript(item);\n    },\n\n    setControlValue: function(element, node, input, prop, value, idx) {\n      var bo = getSelected(element, node);\n      var item = bo.definition.items[idx];\n\n      if (!isMap(item) && !isList(item) && !isScript(item)) {\n        input.value = value;\n      } else {\n        input.value = typeInfo[item.$type].label;\n      }\n    },\n\n    show: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && bo.definition && isList(bo.definition);\n    }\n\n  }));\n\n\n  // parameter value (type = map) ///////////////////////////////////////////////////////\n\n  entries.push(entryFactory.table({\n    id: idPrefix + 'parameterType-map',\n    modelProperties: [ 'key', 'value' ],\n    labels: [ translate('Key'), translate('Value') ],\n    addLabel: translate('Add Entry'),\n\n    getElements: function(element, node) {\n      var bo = getSelected(element, node);\n\n      if (bo && isMap(bo.definition)) {\n        return bo.definition.entries;\n      }\n\n      return [];\n    },\n\n    updateElement: function(element, values, node, idx) {\n      var bo = getSelected(element, node);\n      var entry = bo.definition.entries[idx];\n\n      if (isMap(entry.definition) || isList(entry.definition) || isScript(entry.definition)) {\n        values = {\n          key: values.key\n        };\n      }\n\n      return cmdHelper.updateBusinessObject(element, entry, values);\n    },\n\n    addElement: function(element, node) {\n      var bo = getSelected(element, node);\n      var newEntry = createElement('camunda:Entry', bo.definition, bpmnFactory, { key: undefined, value: undefined });\n      return cmdHelper.addElementsTolist(element, bo.definition, 'entries', [ newEntry ]);\n    },\n\n    removeElement: function(element, node, idx) {\n      var bo = getSelected(element, node);\n      return cmdHelper.removeElementsFromList(element, bo.definition, 'entries', null, [ bo.definition.entries[idx] ]);\n    },\n\n    editable: function(element, node, prop, idx) {\n      var bo = getSelected(element, node);\n      var entry = bo.definition.entries[idx];\n      return prop === 'key' || (!isMap(entry.definition) && !isList(entry.definition) && !isScript(entry.definition));\n    },\n\n    setControlValue: function(element, node, input, prop, value, idx) {\n      var bo = getSelected(element, node);\n      var entry = bo.definition.entries[idx];\n\n      if (prop === 'key' || (!isMap(entry.definition) && !isList(entry.definition) && !isScript(entry.definition))) {\n        input.value = value;\n      } else {\n        input.value = typeInfo[entry.definition.$type].label;\n      }\n    },\n\n    show: function(element, node) {\n      var bo = getSelected(element, node);\n      return bo && bo.definition && isMap(bo.definition);\n    }\n\n  }));\n\n  return entries;\n\n};\n","'use strict';\n\nvar extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar utils = require('../../../../Utils');\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar extensionElementsEntry = require('./ExtensionElements');\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    getBusinessObject = ModelUtil.getBusinessObject;\n\nvar assign = require('lodash/assign');\n\n\nvar DEFAULT_PROPS = {\n  'stringValue': undefined,\n  'string': undefined,\n  'expression': undefined\n};\n\nvar ACTIVITI_FIELD_EXTENSION_ELEMENT = 'activiti:Field';\n\nmodule.exports = function(element, bpmnFactory, translate, options) {\n\n  options = options || {};\n\n  var insideListener = !!options.insideListener,\n      idPrefix = options.idPrefix || '',\n      getSelectedListener = options.getSelectedListener,\n      businessObject = options.businessObject || getBusinessObject(element);\n\n  var entries = [];\n\n  var isSelected = function(element, node) {\n    return getSelectedField(element, node);\n  };\n\n  function getSelectedField(element, node) {\n    var selected = fieldEntry.getSelected(element, node.parentNode);\n\n    if (selected.idx === -1) {\n      return;\n    }\n\n    var fields = getActivitiFields(element, node);\n\n    return fields[selected.idx];\n  }\n\n  function getActivitiFields(element, node) {\n    if (!insideListener) {\n      return (\n        businessObject &&\n        extensionElementsHelper.getExtensionElements(businessObject, ACTIVITI_FIELD_EXTENSION_ELEMENT)\n      ) || [];\n    }\n    return getActivitiListenerFields(element, node);\n  }\n\n  function getActivitiListenerFields(element, node) {\n    var selectedListener = getSelectedListener(element, node);\n    return selectedListener && selectedListener.fields || [];\n  }\n\n  function getFieldType(bo) {\n    var fieldType = 'string';\n\n    var expressionValue = bo && bo.expression;\n    var stringValue = bo && (bo.string || bo.stringValue);\n\n    if (typeof stringValue !== 'undefined') {\n      fieldType = 'string';\n    } else if (typeof expressionValue !== 'undefined') {\n      fieldType = 'expression';\n    }\n\n    return fieldType;\n  }\n\n  var setOptionLabelValue = function() {\n    return function(element, node, option, property, value, idx) {\n      var activitiFields = getActivitiFields(element, node);\n      var field = activitiFields[idx];\n\n      value = (field.name) ? field.name : '<empty>';\n\n      var label = idx + ' : ' + value;\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function() {\n    return function(element, extensionElements, value, node) {\n\n      var props = {\n        name: '',\n        string: ''\n      };\n\n      var newFieldElem;\n\n      if (!insideListener) {\n\n        newFieldElem = elementHelper.createElement(ACTIVITI_FIELD_EXTENSION_ELEMENT, props, extensionElements, bpmnFactory);\n        return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newFieldElem ]);\n\n      } else {\n\n        var selectedListener = getSelectedListener(element, node);\n        newFieldElem = elementHelper.createElement(ACTIVITI_FIELD_EXTENSION_ELEMENT, props, selectedListener, bpmnFactory);\n        return cmdHelper.addElementsTolist(element, selectedListener, 'fields', [ newFieldElem ]);\n\n      }\n\n    };\n  };\n\n  var removeElement = function() {\n    return function(element, extensionElements, value, idx, node) {\n      var activitiFields= getActivitiFields(element, node);\n      var field = activitiFields[idx];\n      if (field) {\n        if (!insideListener) {\n          return extensionElementsHelper.removeEntry(businessObject, element, field);\n        }\n        var selectedListener = getSelectedListener(element, node);\n        return cmdHelper.removeElementsFromList(element, selectedListener, 'fields', null, [ field ]);\n      }\n    };\n  };\n\n\n  var fieldEntry = extensionElementsEntry(element, bpmnFactory, {\n    id : idPrefix + 'fields',\n    label : translate('Fields'),\n    modelProperty: 'fieldName',\n    idGeneration: 'false',\n\n    businessObject: businessObject,\n\n    createExtensionElement: newElement(),\n    removeExtensionElement: removeElement(),\n\n    getExtensionElements: function(element, node) {\n      return getActivitiFields(element, node);\n    },\n\n    setOptionLabelValue: setOptionLabelValue()\n\n  });\n  entries.push(fieldEntry);\n\n\n  entries.push(entryFactory.validationAwareTextField({\n    id: idPrefix + 'field-name',\n    label: translate('Name'),\n    modelProperty: 'fieldName',\n\n    getProperty: function(element, node) {\n      return (getSelectedField(element, node) || {}).name;\n    },\n\n    setProperty: function(element, values, node) {\n      var selectedField = getSelectedField(element, node);\n      return cmdHelper.updateBusinessObject(element, selectedField, { name : values.fieldName });\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n\n      var validation = {};\n      if (bo) {\n        var nameValue = values.fieldName;\n\n        if (nameValue) {\n          if (utils.containsSpace(nameValue)) {\n            validation.fieldName = translate('Name must not contain spaces');\n          }\n        } else {\n          validation.fieldName = translate('Parameter must have a name');\n        }\n      }\n\n      return validation;\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n  var fieldTypeOptions = [\n    {\n      name: translate('String'),\n      value: 'string'\n    },\n    {\n      name: translate('Expression'),\n      value: 'expression'\n    }\n  ];\n\n  entries.push(entryFactory.selectBox({\n    id: idPrefix + 'field-type',\n    label: translate('Type'),\n    selectOptions: fieldTypeOptions,\n    modelProperty: 'fieldType',\n\n    get: function(element, node) {\n      var bo = getSelectedField(element, node);\n\n      var fieldType = getFieldType(bo);\n\n      return {\n        fieldType: fieldType\n      };\n    },\n\n    set: function(element, values, node) {\n      var props = assign({}, DEFAULT_PROPS);\n\n      var fieldType = values.fieldType;\n\n      if (fieldType === 'string') {\n        props.string = '';\n      }\n      else if (fieldType === 'expression') {\n        props.expression = '';\n      }\n\n      return cmdHelper.updateBusinessObject(element, getSelectedField(element, node), props);\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  entries.push(entryFactory.textBox({\n    id: idPrefix + 'field-value',\n    label: translate('Value'),\n    modelProperty: 'fieldValue',\n\n    get: function(element, node) {\n      var bo = getSelectedField(element, node);\n      var fieldType = getFieldType(bo);\n\n      var fieldValue;\n\n      if (fieldType === 'string') {\n        fieldValue = bo && (bo.string || bo.stringValue);\n      }\n      else if (fieldType === 'expression') {\n        fieldValue = bo && bo.expression;\n      }\n\n      return {\n        fieldValue: fieldValue\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n      var fieldType = getFieldType(bo);\n\n      var props = assign({}, DEFAULT_PROPS);\n\n      var fieldValue = values.fieldValue || undefined;\n\n      if (fieldType === 'string') {\n        props.string = fieldValue;\n      }\n      else if (fieldType === 'expression') {\n        props.expression = fieldValue;\n      }\n\n      return cmdHelper.updateBusinessObject(element, bo, props);\n\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n\n      var validation = {};\n      if (bo) {\n        if (!values.fieldValue) {\n          validation.fieldValue = translate('Must provide a value');\n        }\n      }\n\n      return validation;\n    },\n\n    show: function(element, node) {\n      return isSelected(element, node);\n    }\n\n  }));\n\n  return entries;\n\n};\n","'use strict';\n\nvar inputOutputParameter = require('./implementation/InputOutputParameter');\n\nvar assign = require('lodash/assign');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  group.entries = group.entries.concat(inputOutputParameter(element, bpmnFactory, assign({}, options), translate));\n\n};\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & WRAP_BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & WRAP_ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject,\n      hideResultVariable = options.hideResultVariable,\n      id = options.id || 'resultVariable';\n\n\n  var resultVariableEntry = entryFactory.textField({\n    id: id,\n    label: translate('Result Variable'),\n    modelProperty: 'resultVariable',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { resultVariable: bo.get('camunda:resultVariable') };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n\n      var resultVariable = values.resultVariable || undefined;\n\n      var props = {\n        'camunda:resultVariable': resultVariable\n      };\n\n      if (is(bo, 'camunda:DmnCapable') && !resultVariable) {\n        props = assign({ 'camunda:mapDecisionResult': 'resultList' }, props);\n      }\n\n      return cmdHelper.updateBusinessObject(element, bo, props);\n    },\n\n    hidden: function(element, node) {\n      if (typeof hideResultVariable === 'function') {\n        return hideResultVariable.apply(resultVariableEntry, arguments);\n      }\n    }\n\n  });\n\n  return [ resultVariableEntry ];\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\n\nmodule.exports = function(group, element, translate) {\n\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(element, 'camunda:Initiator') && !is(element.parent, 'bpmn:SubProcess')) {\n    group.entries.push(entryFactory.textField({\n      id: 'initiator',\n      label: translate('Initiator'),\n      modelProperty: 'initiator'\n    }));\n  }\n};\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar historyTimeToLive = require('./implementation/HistoryTimeToLive');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'activiti:Process') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(historyTimeToLive(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n\n  }\n};\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\n    error = require('./implementation/ErrorEventDefinition');\n\nvar forEach = require('lodash/forEach');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var errorEvents = [\n    'bpmn:StartEvent',\n    'bpmn:BoundaryEvent',\n    'bpmn:EndEvent'\n  ];\n\n  forEach(errorEvents, function(event) {\n    if (is(element, event)) {\n\n      var errorEventDefinition = eventDefinitionHelper.getErrorEventDefinition(element);\n\n      if (errorEventDefinition) {\n        var isCatchingErrorEvent = is(element, 'bpmn:StartEvent') || is (element, 'bpmn:BoundaryEvent');\n\n        var showErrorCodeVariable = isCatchingErrorEvent,\n            showErrorMessageVariable = isCatchingErrorEvent;\n\n        error(\n          group,\n          element,\n          bpmnFactory,\n          errorEventDefinition,\n          showErrorCodeVariable,\n          showErrorMessageVariable,\n          translate);\n      }\n    }\n  });\n};\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var identity = require('./identity'),\n    metaMap = require('./_metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nmodule.exports = function(group, element, translate) {\n\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && bo.get('processRef')) {\n    var versionTagEntry = entryFactory.textField({\n      id: 'versionTag',\n      label: translate('Version Tag'),\n      modelProperty: 'versionTag'\n    });\n\n    // in participants we have to change the default behavior of set and get\n    if (is(element, 'bpmn:Participant')) {\n      versionTagEntry.get = function(element) {\n        var processBo = bo.get('processRef');\n\n        return {\n          versionTag: processBo.get('camunda:versionTag')\n        };\n      };\n\n      versionTagEntry.set = function(element, values) {\n        var processBo = bo.get('processRef');\n\n        return cmdHelper.updateBusinessObject(element, processBo, {\n          'camunda:versionTag': values.versionTag || undefined\n        });\n      };\n    }\n\n    group.entries.push(versionTagEntry);\n\n  }\n};\n","'use strict';\n\nvar DEFAULT_PRIORITY = 1000;\n\n\n/**\n * A component that decides upon the visibility / editable\n * state of properties in the properties panel.\n *\n * Implementors must subclass this component and override\n * {@link PropertiesActivator#isEntryVisible} and\n * {@link PropertiesActivator#isPropertyEditable} to provide\n * custom behavior.\n *\n * @class\n * @constructor\n *\n * @param {EventBus} eventBus\n * @param {Number} [priority] at which priority to hook into the activation\n */\nfunction PropertiesActivator(eventBus, priority) {\n  var self = this;\n\n  priority = priority || DEFAULT_PRIORITY;\n\n  eventBus.on('propertiesPanel.isEntryVisible', priority, function(e) {\n    return self.isEntryVisible(e.entry, e.element);\n  });\n\n  eventBus.on('propertiesPanel.isPropertyEditable', priority, function(e) {\n    return self.isPropertyEditable(e.entry, e.propertyName, e.element);\n  });\n}\n\nPropertiesActivator.$inject = [ 'eventBus' ];\n\nmodule.exports = PropertiesActivator;\n\n\n/**\n * Should the given entry be visible for the specified element.\n *\n * @method  PropertiesActivator#isEntryVisible\n *\n * @param {EntryDescriptor} entry\n * @param {ModdleElement} element\n *\n * @returns {Boolean}\n */\nPropertiesActivator.prototype.isEntryVisible = function(entry, element) {\n  return true;\n};\n\n/**\n * Should the given property be editable for the specified element\n *\n * @method  PropertiesActivator#isPropertyEditable\n *\n * @param {EntryDescriptor} entry\n * @param {String} propertyName\n * @param {ModdleElement} element\n *\n * @returns {Boolean}\n */\nPropertiesActivator.prototype.isPropertyEditable = function(entry, propertyName, element) {\n  return true;\n};","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar factory = require('../../../../factory/EntryFactory');\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper'),\n    utils = require('../../../../Utils');\n\nvar assign = require('lodash/assign'),\n    forEach = require('lodash/forEach'),\n    find = require('lodash/find');\n\nfunction generatePropertyId() {\n  return utils.nextId('Property_');\n}\n\n/**\n * Get all activiti:property objects for a specific business object\n *\n * @param  {ModdleElement} parent\n *\n * @return {Array<ModdleElement>} a list of activiti:property objects\n */\nfunction getPropertyValues(parent) {\n  var properties = parent && getPropertiesElement(parent);\n  if (properties && properties.values) {\n    return properties.values;\n  }\n  return [];\n}\n\n/**\n * Get all activiti:Properties object for a specific business object\n *\n * @param  {ModdleElement} parent\n *\n * @return {ModdleElement} a activiti:Properties object\n */\nfunction getPropertiesElement(element) {\n  if (!isExtensionElements(element)) {\n    return element.properties;\n  } else {\n    return getPropertiesElementInsideExtensionElements(element);\n  }\n}\n\n/**\n * Get first activiti:Properties object for a specific bpmn:ExtensionElements\n * business object.\n *\n * @param {ModdleElement} extensionElements\n *\n * @return {ModdleElement} a activiti:Properties object\n */\nfunction getPropertiesElementInsideExtensionElements(extensionElements) {\n  return find(extensionElements.values, function(elem) {\n    return is(elem, 'activiti:Properties');\n  });\n}\n\n/**\n * Returns true, if the given business object is a bpmn:ExtensionElements.\n *\n * @param {ModdleElement} element\n *\n * @return {boolean} a boolean value\n */\nfunction isExtensionElements(element) {\n  return is(element, 'bpmn:ExtensionElements');\n}\n\n/**\n * Create a activiti:property entry using tableEntryFactory\n *\n * @param  {djs.model.Base} element\n * @param  {BpmnFactory} bpmnFactory\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {Array<string>} options.modelProperties\n * @param  {Array<string>} options.labels\n * @param  {function} options.getParent Gets the parent business object\n * @param  {function} options.show Indicate when the entry will be shown, should return boolean\n */\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getParent = options.getParent;\n\n  var modelProperties = options.modelProperties,\n      createParent = options.createParent;\n\n  var bo = getBusinessObject(element);\n  if (is(element, 'bpmn:Participant')) {\n    bo = bo.get('processRef');\n  }\n\n  // build properties group only when the participant have a processRef\n  if (!bo) {\n    return;\n  }\n\n  assign(options, {\n    addLabel: translate('Add Property'),\n    getElements: function(element, node) {\n      var parent = getParent(element, node, bo);\n      return getPropertyValues(parent);\n    },\n    addElement: function(element, node) {\n      var commands = [],\n          parent = getParent(element, node, bo);\n\n      if (!parent && typeof createParent === 'function') {\n        var result = createParent(element, bo);\n        parent = result.parent;\n        commands.push(result.cmd);\n      }\n\n      var properties = getPropertiesElement(parent);\n      if (!properties) {\n        properties = elementHelper.createElement('activiti:Properties', {}, parent, bpmnFactory);\n\n        if (!isExtensionElements(parent)) {\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { 'properties': properties }));\n        } else {\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\n            element,\n            parent,\n            'values',\n            'extensionElements',\n            [ properties ],\n            []\n          ));\n        }\n      }\n\n      var propertyProps = {};\n      forEach(modelProperties, function(prop) {\n        propertyProps[prop] = undefined;\n      });\n\n      // create id if necessary\n      if (modelProperties.indexOf('id') >= 0) {\n        propertyProps.id = generatePropertyId();\n      }\n\n      var property = elementHelper.createElement('activiti:Property', propertyProps, properties, bpmnFactory);\n      commands.push(cmdHelper.addElementsTolist(element, properties, 'values', [ property ]));\n\n      return commands;\n    },\n    updateElement: function(element, value, node, idx) {\n      var parent = getParent(element, node, bo),\n          property = getPropertyValues(parent)[idx];\n\n      forEach(modelProperties, function(prop) {\n        value[prop] = value[prop] || undefined;\n      });\n\n      return cmdHelper.updateBusinessObject(element, property, value);\n    },\n    validate: function(element, value, node, idx) {\n      // validate id if necessary\n      if (modelProperties.indexOf('id') >= 0) {\n\n        var parent = getParent(element, node, bo),\n            properties = getPropertyValues(parent),\n            property = properties[idx];\n\n        if (property) {\n          // check if id is valid\n          var validationError = utils.isIdValid(property, value.id, translate);\n\n          if (validationError) {\n            return { id: validationError };\n          }\n        }\n      }\n    },\n    removeElement: function(element, node, idx) {\n      var commands = [],\n          parent = getParent(element, node, bo),\n          properties = getPropertiesElement(parent),\n          propertyValues = getPropertyValues(parent),\n          currentProperty = propertyValues[idx];\n\n      commands.push(cmdHelper.removeElementsFromList(element, properties, 'values', null, [ currentProperty ]));\n\n      if (propertyValues.length === 1) {\n        // remove activiti:properties if the last existing property has been removed\n        if (!isExtensionElements(parent)) {\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { properties: undefined }));\n        } else {\n          forEach(parent.values, function(value) {\n            if (is(value, 'activiti:Properties')) {\n              commands.push(extensionElementsHelper.removeEntry(bo, element, value));\n            }\n          });\n        }\n      }\n\n      return commands;\n    }\n  });\n\n  return factory.table(options);\n};\n","'use strict';\n\nvar properties = require('./implementation/Properties'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var propertiesEntry = properties(element, bpmnFactory, {\n    id: 'properties',\n    modelProperties: [ 'name', 'value' ],\n    labels: [ translate('Name'), translate('Value') ],\n\n    getParent: function(element, node, bo) {\n      return bo.extensionElements;\n    },\n\n    createParent: function(element, bo) {\n      var parent = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n      var cmd = cmdHelper.updateBusinessObject(element, bo, { extensionElements: parent });\n      return {\n        cmd: cmd,\n        parent: parent\n      };\n    }\n  }, translate);\n\n  if (propertiesEntry) {\n    group.entries.push(propertiesEntry);\n  }\n\n};\n","/** Used to match wrap detail comments. */\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\nmodule.exports = getWrapDetails;\n","'use strict';\n\nvar properties = require('./implementation/Properties'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var propertiesEntry = properties(element, bpmnFactory, {\n    id: 'properties',\n    modelProperties: [ 'name', 'value' ],\n    labels: [ translate('Name'), translate('Value') ],\n\n    getParent: function(element, node, bo) {\n      return bo.extensionElements;\n    },\n\n    createParent: function(element, bo) {\n      var parent = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n      var cmd = cmdHelper.updateBusinessObject(element, bo, { extensionElements: parent });\n      return {\n        cmd: cmd,\n        parent: parent\n      };\n    }\n  }, translate);\n\n  if (propertiesEntry) {\n    group.entries.push(propertiesEntry);\n  }\n\n};\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var externalTaskPriorityEntry = entryFactory.textField({\n    id: 'externalTaskPriority',\n    label: translate('Task Priority'),\n    modelProperty: 'taskPriority',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        taskPriority: bo.get('camunda:taskPriority')\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'camunda:taskPriority': values.taskPriority || undefined\n      });\n    }\n\n  });\n\n  return [ externalTaskPriorityEntry ];\n\n};\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar domQuery = require('min-dom').query;\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\n\nvar textField = function(options, defaultParameters) {\n\n  // Default action for the button next to the input-field\n  var defaultButtonAction = function(element, inputNode) {\n    var input = domQuery('input[name=\"' + options.modelProperty + '\"]', inputNode);\n    input.value = '';\n\n    return true;\n  };\n\n  // default method to determine if the button should be visible\n  var defaultButtonShow = function(element, inputNode) {\n    var input = domQuery('input[name=\"' + options.modelProperty + '\"]', inputNode);\n\n    return input.value !== '';\n  };\n\n\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      dataValueLabel = options.dataValueLabel,\n      buttonLabel = (options.buttonLabel || 'X'),\n      actionName = (typeof options.buttonAction != 'undefined') ? options.buttonAction.name : 'clear',\n      actionMethod = (typeof options.buttonAction != 'undefined') ? options.buttonAction.method : defaultButtonAction,\n      showName = (typeof options.buttonShow != 'undefined') ? options.buttonShow.name : 'canClear',\n      showMethod = (typeof options.buttonShow != 'undefined') ? options.buttonShow.method : defaultButtonShow,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n  resource.html =\n    '<label for=\"camunda-' + escapeHTML(resource.id) + '\" ' +\n      (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n      (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n      (dataValueLabel ? 'data-value=\"' + escapeHTML(dataValueLabel) + '\"' : '') + '>'+ escapeHTML(label) +'</label>' +\n    '<div class=\"bpp-field-wrapper\" ' +\n      (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n      (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n      '>' +\n      '<input id=\"camunda-' + escapeHTML(resource.id) + '\" type=\"text\" name=\"' + escapeHTML(options.modelProperty) + '\" ' +\n        (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n        (canBeHidden ? 'data-show=\"isHidden\"' : '') +\n        ' />' +\n      '<button class=\"' + escapeHTML(actionName) + '\" data-action=\"' + escapeHTML(actionName) + '\" data-show=\"' + escapeHTML(showName) + '\" ' +\n        (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\n        (canBeHidden ? ' data-show=\"isHidden\"' : '') + '>' +\n        '<span>' + escapeHTML(buttonLabel) + '</span>' +\n      '</button>' +\n    '</div>';\n\n  // add description below text input entry field\n  if (description) {\n    resource.html += entryFieldDescription(description);\n  }\n\n  resource[actionName] = actionMethod;\n  resource[showName] = showMethod;\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['bpp-textfield'];\n\n  return resource;\n};\n\nmodule.exports = textField;\n","'use strict';\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    is = ModelUtil.is,\n    getBusinessObject = ModelUtil.getBusinessObject;\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var getValue = function(businessObject) {\n    return function(element) {\n      var documentations = businessObject && businessObject.get('documentation'),\n          text = (documentations && documentations.length > 0) ? documentations[0].text : '';\n\n      return { documentation: text };\n    };\n  };\n\n  var setValue = function(businessObject) {\n    return function(element, values) {\n      var newObjectList = [];\n\n      if (typeof values.documentation !== 'undefined' && values.documentation !== '') {\n        newObjectList.push(bpmnFactory.create('bpmn:Documentation', {\n          text: values.documentation\n        }));\n      }\n\n      return cmdHelper.setList(element, businessObject, 'documentation', newObjectList);\n    };\n  };\n\n  // Element Documentation\n  var elementDocuEntry = entryFactory.textBox({\n    id: 'documentation',\n    label: translate('Element Documentation'),\n    modelProperty: 'documentation'\n  });\n\n  elementDocuEntry.set = setValue(getBusinessObject(element));\n\n  elementDocuEntry.get = getValue(getBusinessObject(element));\n\n  group.entries.push(elementDocuEntry);\n\n\n  var processRef;\n\n  // Process Documentation when having a Collaboration Diagram\n  if (is(element, 'bpmn:Participant')) {\n\n    processRef = getBusinessObject(element).processRef;\n\n    // do not show for collapsed Pools/Participants\n    if (processRef) {\n      var processDocuEntry = entryFactory.textBox({\n        id: 'process-documentation',\n        label: translate('Process Documentation'),\n        modelProperty: 'documentation'\n      });\n\n      processDocuEntry.set = setValue(processRef);\n\n      processDocuEntry.get = getValue(processRef);\n\n      group.entries.push(processDocuEntry);\n    }\n  }\n\n};\n","'use strict';\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper');\n\nvar fieldInjection = require('./implementation/FieldInjection');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var bo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  var fieldInjectionEntry = fieldInjection(element, bpmnFactory, translate, { businessObject: bo });\n\n  if (fieldInjectionEntry && fieldInjectionEntry.length > 0) {\n    group.entries = group.entries.concat(fieldInjectionEntry);\n  }\n\n};\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isEventSubProcess = require('bpmn-js/lib/util/DiUtil').isEventSubProcess;\n\nmodule.exports = function(group, element, bpmnFactory, conditionalEventDefinition, elementRegistry, translate) {\n\n  var getValue = function(modelProperty) {\n    return function(element) {\n      var modelPropertyValue = conditionalEventDefinition.get('camunda:' + modelProperty);\n      var value = {};\n\n      value[modelProperty] = modelPropertyValue;\n      return value;\n    };\n  };\n\n  var setValue = function(modelProperty) {\n    return function(element, values) {\n      var props = {};\n\n      props['camunda:' + modelProperty] = values[modelProperty] || undefined;\n\n      return cmdHelper.updateBusinessObject(element, conditionalEventDefinition, props);\n    };\n  };\n\n  group.entries.push(entryFactory.textField({\n    id: 'variableName',\n    label: translate('Variable Name'),\n    modelProperty : 'variableName',\n\n    get: getValue('variableName'),\n    set: setValue('variableName')\n  }));\n\n  var isConditionalStartEvent =\n    is(element, 'bpmn:StartEvent') && !isEventSubProcess(element.parent);\n\n  if (!isConditionalStartEvent) {\n    group.entries.push(entryFactory.textField({\n      id: 'variableEvent',\n      label: translate('Variable Event'),\n      description: translate('Specify more than one variable change event as a comma separated list.'),\n      modelProperty : 'variableEvent',\n\n      get: getValue('variableEvent'),\n      set: setValue('variableEvent')\n    }));\n  }\n};\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","'use strict';\n\nvar elementHelper = require('../helper/ElementHelper');\n\n/**\n * A handler capable of creating a new element under a provided parent\n * and updating / creating a reference to it in one atomic action.\n *\n * @class\n * @constructor\n */\nfunction CreateAndReferenceElementHandler(elementRegistry, bpmnFactory) {\n  this._elementRegistry = elementRegistry;\n  this._bpmnFactory = bpmnFactory;\n}\n\nCreateAndReferenceElementHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\n\nmodule.exports = CreateAndReferenceElementHandler;\n\n\n// api ////////////////////\n\n/**\n * Creates a new element under a provided parent and updates / creates a reference to it in\n * one atomic action.\n *\n * @method  CreateAndReferenceElementHandler#execute\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element which is the context for the reference\n * @param {moddle.referencingObject} context.referencingObject the object which creates the reference\n * @param {String} context.referenceProperty the property of the referencingObject which makes the reference\n * @param {moddle.newObject} context.newObject the new object to add\n * @param {moddle.newObjectContainer} context.newObjectContainer the container for the new object\n *\n * @returns {Array<djs.mode.Base>} the updated element\n */\nCreateAndReferenceElementHandler.prototype.execute = function(context) {\n\n  var referencingObject = ensureNotNull(context.referencingObject, 'referencingObject'),\n      referenceProperty = ensureNotNull(context.referenceProperty, 'referenceProperty'),\n      newObject = ensureNotNull(context.newObject, 'newObject'),\n      newObjectContainer = ensureNotNull(context.newObjectContainer, 'newObjectContainer'),\n      newObjectParent = ensureNotNull(context.newObjectParent, 'newObjectParent'),\n      changed = [ context.element ]; // this will not change any diagram-js elements\n\n  // create new object\n  var referencedObject = elementHelper\n    .createElement(newObject.type, newObject.properties, newObjectParent, this._bpmnFactory);\n  context.referencedObject = referencedObject;\n\n  // add to containing list\n  newObjectContainer.push(referencedObject);\n\n  // adjust reference attribute\n  context.previousReference = referencingObject[referenceProperty];\n  referencingObject[referenceProperty] = referencedObject;\n\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n/**\n * Reverts the update\n *\n * @method  CreateAndReferenceElementHandler#revert\n *\n * @param {Object} context\n *\n * @returns {djs.mode.Base} the updated element\n */\nCreateAndReferenceElementHandler.prototype.revert = function(context) {\n\n  var referencingObject = context.referencingObject,\n      referenceProperty = context.referenceProperty,\n      previousReference = context.previousReference,\n      referencedObject = context.referencedObject,\n      newObjectContainer = context.newObjectContainer;\n\n  // reset reference\n  referencingObject.set(referenceProperty, previousReference);\n\n  // remove new element\n  newObjectContainer.splice(newObjectContainer.indexOf(referencedObject), 1);\n\n  return context.changed;\n};\n\n\n\n// helpers //////////////\n\nfunction ensureNotNull(prop, name) {\n  if (!prop) {\n    throw new Error(name + ' required');\n  }\n  return prop;\n}\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    escapeHTML = require('../../../Utils').escapeHTML,\n    domQuery = require('min-dom').query,\n    cmdHelper = require('../../../helper/CmdHelper'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\n    scriptImplementation = require('./implementation/Script');\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\n\n  if (!(is(element, 'bpmn:SequenceFlow') && isConditionalSource(element.source))\n    && !conditionalEventDefinition) {\n    return;\n  }\n\n  var script = scriptImplementation('language', 'body', true, translate);\n  group.entries.push({\n    id: 'condition',\n    label: translate('Condition'),\n    html: '<div class=\"bpp-row\">' +\n              '<label for=\"cam-condition-type\">'+ escapeHTML(translate('Condition Type')) + '</label>' +\n              '<div class=\"bpp-field-wrapper\">' +\n                '<select id=\"cam-condition-type\" name=\"conditionType\" data-value>' +\n                  '<option value=\"expression\">'+ escapeHTML(translate('Expression')) + '</option>' +\n                  '<option value=\"script\">'+ escapeHTML(translate('Script')) + '</option>' +\n                  '<option value=\"\" selected></option>' +\n                '</select>' +\n              '</div>' +\n            '</div>' +\n\n            // expression\n            '<div class=\"bpp-row\">' +\n              '<label for=\"cam-condition\" data-show=\"isExpression\">' + escapeHTML(translate('Expression')) + '</label>' +\n              '<div class=\"bpp-field-wrapper\" data-show=\"isExpression\">' +\n                '<input id=\"cam-condition\" type=\"text\" name=\"condition\" />' +\n                '<button class=\"clear\" data-action=\"clear\" data-show=\"canClear\">' +\n                  '<span>X</span>' +\n                '</button>' +\n              '</div>' +\n              '<div data-show=\"isScript\">' +\n                script.template +\n              '</div>' +\n            '</div>',\n\n    get: function(element, propertyName) {\n      var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\n\n      var conditionExpression = conditionalEventDefinition\n        ? conditionalEventDefinition.condition\n        : bo.conditionExpression;\n\n      var values = {},\n          conditionType = '';\n\n      if (conditionExpression) {\n        var conditionLanguage = conditionExpression.language;\n        if (typeof conditionLanguage !== 'undefined') {\n          conditionType = 'script';\n          values = script.get(element, conditionExpression);\n        } else {\n          conditionType = 'expression';\n          values.condition = conditionExpression.get('body');\n        }\n      }\n\n      values.conditionType = conditionType;\n\n      return values;\n\n    },\n\n    set: function(element, values, containerElement) {\n      var conditionType = values.conditionType;\n      var commands = [];\n\n      var conditionProps = {\n        body: undefined\n      };\n\n      if (conditionType === 'script') {\n        conditionProps = script.set(element, values, containerElement);\n      } else {\n        var condition = values.condition;\n\n        conditionProps.body = condition;\n      }\n\n      var conditionOrConditionExpression;\n\n      if (conditionType) {\n        conditionOrConditionExpression = elementHelper.createElement(\n          'bpmn:FormalExpression',\n          conditionProps,\n          conditionalEventDefinition || bo,\n          bpmnFactory\n        );\n\n        var source = element.source;\n\n        // if default-flow, remove default-property from source\n        if (source && source.businessObject.default === bo) {\n          commands.push(cmdHelper.updateProperties(source, { 'default': undefined }));\n        }\n      }\n\n      var update = conditionalEventDefinition\n        ? { condition: conditionOrConditionExpression }\n        : { conditionExpression: conditionOrConditionExpression };\n\n      commands.push(cmdHelper.updateBusinessObject(element, conditionalEventDefinition || bo, update));\n\n      return commands;\n    },\n\n    validate: function(element, values) {\n      var validationResult = {};\n\n      if (!values.condition && values.conditionType === 'expression') {\n        validationResult.condition = translate('Must provide a value');\n      }\n      else if (values.conditionType === 'script') {\n        validationResult = script.validate(element, values);\n      }\n\n      return validationResult;\n    },\n\n    isExpression: function(element, inputNode) {\n      var conditionType = domQuery('select[name=conditionType]', inputNode);\n      if (conditionType.selectedIndex >= 0) {\n        return conditionType.options[conditionType.selectedIndex].value === 'expression';\n      }\n    },\n\n    isScript: function(element, inputNode) {\n      var conditionType = domQuery('select[name=conditionType]', inputNode);\n      if (conditionType.selectedIndex >= 0) {\n        return conditionType.options[conditionType.selectedIndex].value === 'script';\n      }\n    },\n\n    clear: function(element, inputNode) {\n      // clear text input\n      domQuery('input[name=condition]', inputNode).value='';\n\n      return true;\n    },\n\n    canClear: function(element, inputNode) {\n      var input = domQuery('input[name=condition]', inputNode);\n\n      return input.value !== '';\n    },\n\n    script : script,\n\n    cssClasses: [ 'bpp-textfield' ]\n  });\n};\n\n\n// utilities //////////////////////////\n\nvar CONDITIONAL_SOURCES = [\n  'bpmn:Activity',\n  'bpmn:ExclusiveGateway',\n  'bpmn:InclusiveGateway',\n  'bpmn:ComplexGateway'\n];\n\nfunction isConditionalSource(element) {\n  return isAny(element, CONDITIONAL_SOURCES);\n}\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar filter = require('lodash/filter');\n\nvar extensionElementsHelper = require('../../../helper/ExtensionElementsHelper'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper');\n\nvar extensionElementsEntry = require('./implementation/ExtensionElements');\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\n/**\n  * return depend on parameter 'type' camunda:in or camunda:out extension elements\n  */\nfunction getCamundaInOutMappings(element, type) {\n  var bo = getBusinessObject(element);\n\n  var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(bo);\n\n  return extensionElementsHelper.getExtensionElements(signalEventDefinition || bo, type) || [];\n}\n\n/**\n  * return depend on parameter 'type' camunda:in or camunda:out extension elements\n  * with source or sourceExpression attribute\n  */\nfunction getVariableMappings(element, type) {\n  var camundaMappings = getCamundaInOutMappings(element, type);\n\n  return filter(camundaMappings, function(mapping) {\n    return !mapping.businessKey;\n  });\n}\n\nfunction getInOutType(mapping) {\n  var inOutType = 'source';\n\n  if (mapping.variables === 'all') {\n    inOutType = 'variables';\n  }\n  else if (typeof mapping.source !== 'undefined') {\n    inOutType = 'source';\n  }\n  else if (typeof mapping.sourceExpression !== 'undefined') {\n    inOutType = 'sourceExpression';\n  }\n\n  return inOutType;\n}\n\nvar CAMUNDA_IN_EXTENSION_ELEMENT = 'camunda:In',\n    CAMUNDA_OUT_EXTENSION_ELEMENT = 'camunda:Out';\n\nvar WHITESPACE_REGEX = /\\s/;\n\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  var inOutTypeOptions = [\n    {\n      name: translate('Source'),\n      value: 'source'\n    },\n    {\n      name: translate('Source Expression'),\n      value: 'sourceExpression'\n    },\n    {\n      name: translate('All'),\n      value: 'variables'\n    }\n  ];\n\n  var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(element);\n\n  if (!is(element, 'camunda:CallActivity') && !signalEventDefinition) {\n    return;\n  }\n\n  if (signalEventDefinition && !(isAny(element, [\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:EndEvent'\n  ]))) {\n    return;\n  }\n\n  var isSelected = function(element, node) {\n    return !!getSelected(element, node);\n  };\n\n  var getSelected = function(element, node) {\n    var parentNode = node.parentNode;\n    var selection = inEntry.getSelected(element, parentNode);\n\n    var parameter = getVariableMappings(element, CAMUNDA_IN_EXTENSION_ELEMENT)[selection.idx];\n\n    if (!parameter && outEntry) {\n      selection = outEntry.getSelected(element, parentNode);\n      parameter = getVariableMappings(element, CAMUNDA_OUT_EXTENSION_ELEMENT)[selection.idx];\n    }\n\n    return parameter;\n  };\n\n  var setOptionLabelValue = function(type) {\n    return function(element, node, option, property, value, idx) {\n      var variableMappings = getVariableMappings(element, type);\n      var mappingValue = variableMappings[idx];\n      var label = (mappingValue.target || '<undefined>') + ' := ';\n      var mappingType = getInOutType(mappingValue);\n\n      if (mappingType === 'variables') {\n        label = 'all';\n      }\n      else if (mappingType === 'source') {\n        label = label + (mappingValue.source || '<empty>');\n      }\n      else if (mappingType === 'sourceExpression') {\n        label = label + (mappingValue.sourceExpression || '<empty>');\n      } else {\n        label = label + '<empty>';\n      }\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function(type) {\n    return function(element, extensionElements, value) {\n      var newElem = elementHelper.createElement(type, { source: '' }, extensionElements, bpmnFactory);\n\n      return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newElem ]);\n    };\n  };\n\n  var removeElement = function(type) {\n    return function(element, extensionElements, value, idx) {\n      var variablesMappings= getVariableMappings(element, type);\n      var mapping = variablesMappings[idx];\n\n      if (mapping) {\n        return extensionElementsHelper\n          .removeEntry(signalEventDefinition || getBusinessObject(element), element, mapping);\n      }\n    };\n  };\n\n  // in mapping for source and sourceExpression ///////////////////////////////////////////////////////////////\n\n  var inEntry = extensionElementsEntry(element, bpmnFactory, {\n    id: 'variableMapping-in',\n    label: translate('In Mapping'),\n    modelProperty: 'source',\n    prefix: 'In',\n    idGeneration: false,\n    resizable: true,\n    businessObject: signalEventDefinition || getBusinessObject(element),\n\n    createExtensionElement: newElement(CAMUNDA_IN_EXTENSION_ELEMENT),\n    removeExtensionElement: removeElement(CAMUNDA_IN_EXTENSION_ELEMENT),\n\n    getExtensionElements: function(element) {\n      return getVariableMappings(element, CAMUNDA_IN_EXTENSION_ELEMENT);\n    },\n\n    onSelectionChange: function(element, node, event, scope) {\n      outEntry && outEntry.deselect(element, node.parentNode);\n    },\n\n    setOptionLabelValue: setOptionLabelValue(CAMUNDA_IN_EXTENSION_ELEMENT)\n  });\n  group.entries.push(inEntry);\n\n  // out mapping for source and sourceExpression ///////////////////////////////////////////////////////\n\n  if (!signalEventDefinition) {\n    var outEntry = extensionElementsEntry(element, bpmnFactory, {\n      id: 'variableMapping-out',\n      label: translate('Out Mapping'),\n      modelProperty: 'source',\n      prefix: 'Out',\n      idGeneration: false,\n      resizable: true,\n\n      createExtensionElement: newElement(CAMUNDA_OUT_EXTENSION_ELEMENT),\n      removeExtensionElement: removeElement(CAMUNDA_OUT_EXTENSION_ELEMENT),\n\n      getExtensionElements: function(element) {\n        return getVariableMappings(element, CAMUNDA_OUT_EXTENSION_ELEMENT);\n      },\n\n      onSelectionChange: function(element, node, event, scope) {\n        inEntry.deselect(element, node.parentNode);\n      },\n\n      setOptionLabelValue: setOptionLabelValue(CAMUNDA_OUT_EXTENSION_ELEMENT)\n    });\n    group.entries.push(outEntry);\n  }\n\n  // label for selected mapping ///////////////////////////////////////////////////////\n\n  group.entries.push(entryFactory.label({\n    id: 'variableMapping-typeLabel',\n    get: function(element, node) {\n      var mapping = getSelected(element, node);\n\n      var value = '';\n      if (is(mapping, CAMUNDA_IN_EXTENSION_ELEMENT)) {\n        value = translate('In Mapping');\n      }\n      else if (is(mapping, CAMUNDA_OUT_EXTENSION_ELEMENT)) {\n        value = translate('Out Mapping');\n      }\n\n      return {\n        label: value\n      };\n    },\n\n    showLabel: function(element, node) {\n      return isSelected(element, node);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.selectBox({\n    id: 'variableMapping-inOutType',\n    label: translate('Type'),\n    selectOptions: inOutTypeOptions,\n    modelProperty: 'inOutType',\n    get: function(element, node) {\n      var mapping = getSelected(element, node) || {};\n      return {\n        inOutType: getInOutType(mapping)\n      };\n    },\n    set: function(element, values, node) {\n      var inOutType = values.inOutType;\n\n      var props = {\n        'source' : undefined,\n        'sourceExpression' : undefined,\n        'variables' : undefined\n      };\n\n      if (inOutType === 'source') {\n        props.source = '';\n      }\n      else if (inOutType === 'sourceExpression') {\n        props.sourceExpression = '';\n      }\n      else if (inOutType === 'variables') {\n        props.variables = 'all';\n        props.target = undefined;\n      }\n\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, props);\n    },\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  group.entries.push(entryFactory.textField({\n    id: 'variableMapping-source',\n    dataValueLabel: 'sourceLabel',\n    modelProperty: 'source',\n    get: function(element, node) {\n      var mapping = getSelected(element, node) || {};\n\n      var label = '';\n      var inOutType = getInOutType(mapping);\n      if (inOutType === 'source') {\n        label = translate('Source');\n      }\n      else if (inOutType === 'sourceExpression') {\n        label = translate('Source Expression');\n      }\n\n      return {\n        source: mapping[inOutType],\n        sourceLabel: label\n      };\n    },\n    set: function(element, values, node) {\n      values.source = values.source || undefined;\n\n      var mapping = getSelected(element, node);\n      var inOutType = getInOutType(mapping);\n\n      var props = {};\n      props[inOutType] = values.source || '';\n\n      return cmdHelper.updateBusinessObject(element, mapping, props);\n    },\n    // one of both (source or sourceExpression) must have a value to make\n    // the configuration easier and more understandable\n    // it is not engine conform\n    validate: function(element, values, node) {\n      var mapping = getSelected(element, node);\n\n      var validation = {};\n      if (mapping) {\n        if (!values.source) {\n          validation.source =\n          validation.source = values.sourceLabel ?\n            translate('Mapping must have a {value}', { value: values.sourceLabel.toLowerCase() }) :\n            translate('Mapping must have a value');\n        }\n\n        var inOutType = getInOutType(mapping);\n\n        if (WHITESPACE_REGEX.test(values.source) && inOutType !== 'sourceExpression') {\n          validation.source = translate('{label} must not contain whitespace', { label: values.sourceLabel });\n        }\n      }\n\n      return validation;\n    },\n    hidden: function(element, node) {\n      var selectedMapping = getSelected(element, node);\n      return !selectedMapping || (selectedMapping && selectedMapping.variables);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.textField({\n    id: 'variableMapping-target',\n    label: translate('Target'),\n    modelProperty: 'target',\n    get: function(element, node) {\n      return {\n        target: (getSelected(element, node) || {}).target\n      };\n    },\n    set: function(element, values, node) {\n      values.target = values.target || undefined;\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, values);\n    },\n    validate: function(element, values, node) {\n      var mapping = getSelected(element, node);\n\n      var validation = {};\n      if (mapping) {\n        var mappingType = getInOutType(mapping);\n\n        if (!values.target && mappingType !== 'variables') {\n          validation.target = translate('Mapping must have a target');\n        }\n\n        if (values.target\n          && WHITESPACE_REGEX.test(values.target)\n          && mappingType !== 'variables') {\n          validation.target = translate('Target must not contain whitespace');\n        }\n      }\n\n      return validation;\n    },\n    hidden: function(element, node) {\n      var selectedMapping = getSelected(element, node);\n      return !selectedMapping || (selectedMapping && selectedMapping.variables);\n    }\n  }));\n\n\n  group.entries.push(entryFactory.checkbox({\n    id: 'variableMapping-local',\n    label: translate('Local'),\n    modelProperty: 'local',\n    get: function(element, node) {\n      return {\n        local: (getSelected(element, node) || {}).local\n      };\n    },\n    set: function(element, values, node) {\n      values.local = values.local || false;\n      var mapping = getSelected(element, node);\n      return cmdHelper.updateBusinessObject(element, mapping, values);\n    },\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n  }));\n\n};\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","import mod from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./diagram-js.css?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./diagram-js.css?vue&type=style&index=1&lang=css&\"","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is;\n\nvar multiInstanceLoopCharacteristics = require('./implementation/MultiInstanceLoopCharacteristics');\n\nvar jobRetryTimeCycle = require('./implementation/JobRetryTimeCycle'),\n    asyncContinuation = require('./implementation/AsyncContinuation');\n\n\nfunction getLoopCharacteristics(element) {\n  var bo = getBusinessObject(element);\n  return bo.loopCharacteristics;\n}\n\n\nfunction ensureMultiInstanceSupported(element) {\n  var loopCharacteristics = getLoopCharacteristics(element);\n  return !!loopCharacteristics && is(loopCharacteristics, 'activiti:Collectable');\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!ensureMultiInstanceSupported(element)) {\n    return;\n  }\n\n  // multi instance properties\n  group.entries = group.entries.concat(multiInstanceLoopCharacteristics(element, bpmnFactory, translate));\n\n  // async continuation ///////////////////////////////////////////////////////\n  group.entries = group.entries.concat(asyncContinuation(element, bpmnFactory, {\n    getBusinessObject: getLoopCharacteristics,\n    idPrefix: 'multiInstance-',\n    labelPrefix: translate('Multi Instance ')\n  }, translate));\n\n\n  // retry time cycle //////////////////////////////////////////////////////////\n  group.entries = group.entries.concat(jobRetryTimeCycle(element, bpmnFactory, {\n    getBusinessObject: getLoopCharacteristics,\n    idPrefix: 'multiInstance-',\n    labelPrefix: translate('Multi Instance ')\n  }, translate));\n};\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    entryFactory = require('../../../factory/EntryFactory');\n\n\nmodule.exports = function(group, element, translate) {\n  if (is(element, 'activiti:Assignable')) {\n\n    // Assignee\n    group.entries.push(entryFactory.textField({\n      id : 'assignee',\n      label : translate('Assignee'),\n      modelProperty : 'assignee'\n    }));\n\n    // Candidate Users\n    group.entries.push(entryFactory.textField({\n      id : 'candidateUsers',\n      label : translate('Candidate Users'),\n      modelProperty : 'candidateUsers'\n    }));\n\n    // Candidate Groups\n    group.entries.push(entryFactory.textField({\n      id : 'candidateGroups',\n      label : translate('Candidate Groups'),\n      modelProperty : 'candidateGroups'\n    }));\n\n    // Due Date\n    group.entries.push(entryFactory.textField({\n      id : 'dueDate',\n      description : translate('The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)'),\n      label : translate('Due Date'),\n      modelProperty : 'dueDate'\n    }));\n\n    // FollowUp Date\n    group.entries.push(entryFactory.textField({\n      id : 'followUpDate',\n      description : translate('The follow up date as an EL expression (e.g. ${someDate} or an ' +\n                    'ISO date (e.g. 2015-06-26T09:54:00)'),\n      label : translate('Follow Up Date'),\n      modelProperty : 'followUpDate'\n    }));\n\n    // priority\n    group.entries.push(entryFactory.textField({\n      id : 'priority',\n      label : translate('Priority'),\n      modelProperty : 'priority'\n    }));\n  }\n};\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    asyncContinuation = require('./implementation/AsyncContinuation');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (is(element, 'activiti:AsyncCapable')) {\n\n    group.entries = group.entries.concat(asyncContinuation(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject\n    }, translate));\n\n  }\n};","'use strict';\n\nvar escapeHTML = require('./Utils').escapeHTML;\n\nvar domify = require('min-dom').domify,\n    domQuery = require('min-dom').query,\n    domQueryAll = require('min-dom').queryAll,\n    domRemove = require('min-dom').remove,\n    domClasses = require('min-dom').classes,\n    domClosest = require('min-dom').closest,\n    domAttr = require('min-dom').attr,\n    domDelegate = require('min-dom').delegate,\n    domMatches = require('min-dom').matches;\n\nvar forEach = require('lodash/forEach'),\n    filter = require('lodash/filter'),\n    get = require('lodash/get'),\n    keys = require('lodash/keys'),\n    isEmpty = require('lodash/isEmpty'),\n    isArray = require('lodash/isArray'),\n    xor = require('lodash/xor'),\n    debounce = require('lodash/debounce');\n\nvar updateSelection = require('selection-update');\n\nvar scrollTabs = require('scroll-tabs').default;\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar HIDE_CLASS = 'bpp-hidden';\nvar DEBOUNCE_DELAY = 300;\n\n\nfunction isToggle(node) {\n  return node.type === 'checkbox' || node.type === 'radio';\n}\n\nfunction isSelect(node) {\n  return node.type === 'select-one';\n}\n\nfunction isContentEditable(node) {\n  return domAttr(node, 'contenteditable');\n}\n\nfunction getPropertyPlaceholders(node) {\n  var selector = 'input[name], textarea[name], [data-value], [contenteditable]';\n  var placeholders = domQueryAll(selector, node);\n  if ((!placeholders || !placeholders.length) && domMatches(node, selector)) {\n    placeholders = [ node ];\n  }\n  return placeholders;\n}\n\n/**\n * Return all active form controls.\n * This excludes the invisible controls unless all is true\n *\n * @param {Element} node\n * @param {Boolean} [all=false]\n */\nfunction getFormControls(node, all) {\n  var controls = domQueryAll('input[name], textarea[name], select[name], [contenteditable]', node);\n\n  if (!controls || !controls.length) {\n    controls = domMatches(node, 'option') ? [ node ] : controls;\n  }\n\n  if (!all) {\n    controls = filter(controls, function(node) {\n      return !domClosest(node, '.' + HIDE_CLASS);\n    });\n  }\n\n  return controls;\n}\n\nfunction getFormControlValuesInScope(entryNode) {\n  var values = {};\n\n  var controlNodes = getFormControls(entryNode);\n\n  forEach(controlNodes, function(controlNode) {\n    var value = controlNode.value;\n\n    var name = domAttr(controlNode, 'name') || domAttr(controlNode, 'data-name');\n\n    // take toggle state into account for radio / checkboxes\n    if (isToggle(controlNode)) {\n      if (controlNode.checked) {\n        if (!domAttr(controlNode, 'value')) {\n          value = true;\n        } else {\n          value = controlNode.value;\n        }\n      } else {\n        value = null;\n      }\n    } else\n    if (isContentEditable(controlNode)) {\n      value = controlNode.innerText;\n    }\n\n    if (value !== null) {\n      // return the actual value\n      // handle serialization in entry provider\n      // (ie. if empty string should be serialized or not)\n      values[name] = value;\n    }\n  });\n\n  return values;\n\n}\n\n/**\n * Extract input values from entry node\n *\n * @param  {DOMElement} entryNode\n * @returns {Object}\n */\nfunction getFormControlValues(entryNode) {\n\n  var values;\n\n  var listContainer = domQuery('[data-list-entry-container]', entryNode);\n  if (listContainer) {\n    values = [];\n    var listNodes = listContainer.children || [];\n    forEach(listNodes, function(listNode) {\n      values.push(getFormControlValuesInScope(listNode));\n    });\n  } else {\n    values = getFormControlValuesInScope(entryNode);\n  }\n\n  return values;\n}\n\n/**\n * Return true if the given form extracted value equals\n * to an old cached version.\n *\n * @param {Object} value\n * @param {Object} oldValue\n * @return {Boolean}\n */\nfunction valueEqual(value, oldValue) {\n\n  if (value && !oldValue) {\n    return false;\n  }\n\n  var allKeys = keys(value).concat(keys(oldValue));\n\n  return allKeys.every(function(key) {\n    return value[key] === oldValue[key];\n  });\n}\n\n/**\n * Return true if the given form extracted value(s)\n * equal an old cached version.\n *\n * @param {Array<Object>|Object} values\n * @param {Array<Object>|Object} oldValues\n * @return {Boolean}\n */\nfunction valuesEqual(values, oldValues) {\n\n  if (isArray(values)) {\n\n    if (values.length !== oldValues.length) {\n      return false;\n    }\n\n    return values.every(function(v, idx) {\n      return valueEqual(v, oldValues[idx]);\n    });\n  }\n\n  return valueEqual(values, oldValues);\n}\n\n/**\n * Return a mapping of { id: entry } for all entries in the given groups in the given tabs.\n *\n * @param {Object} tabs\n * @return {Object}\n */\nfunction extractEntries(tabs) {\n  return keyBy(flattenDeep(map(flattenDeep(map(tabs, 'groups')), 'entries')), 'id');\n}\n\n/**\n * Return a mapping of { id: group } for all groups in the given tabs.\n *\n * @param {Object} tabs\n * @return {Object}\n */\nfunction extractGroups(tabs) {\n  return keyBy(flattenDeep(map(tabs, 'groups')), 'id');\n}\n\n/**\n * A properties panel implementation.\n *\n * To use it provide a `propertiesProvider` component that knows\n * about which properties to display.\n *\n * Properties edit state / visibility can be intercepted\n * via a custom {@link PropertiesActivator}.\n *\n * @class\n * @constructor\n *\n * @param {Object} config\n * @param {EventBus} eventBus\n * @param {Modeling} modeling\n * @param {PropertiesProvider} propertiesProvider\n * @param {Canvas} canvas\n * @param {CommandStack} commandStack\n */\nfunction PropertiesPanel(config, eventBus, modeling, propertiesProvider, commandStack, canvas) {\n\n  this._eventBus = eventBus;\n  this._modeling = modeling;\n  this._commandStack = commandStack;\n  this._canvas = canvas;\n  this._propertiesProvider = propertiesProvider;\n\n  this._init(config);\n}\n\nPropertiesPanel.$inject = [\n  'config.propertiesPanel',\n  'eventBus',\n  'modeling',\n  'propertiesProvider',\n  'commandStack',\n  'canvas'\n];\n\nmodule.exports = PropertiesPanel;\n\n\nPropertiesPanel.prototype._init = function(config) {\n\n  var canvas = this._canvas,\n      eventBus = this._eventBus;\n\n  var self = this;\n\n  /**\n   * Select the root element once it is added to the canvas\n   */\n  eventBus.on('root.added', function(e) {\n    var element = e.element;\n\n    if (isImplicitRoot(element)) {\n      return;\n    }\n\n    self.update(element);\n  });\n\n  eventBus.on('selection.changed', function(e) {\n    var newElement = e.newSelection[0];\n\n    var rootElement = canvas.getRootElement();\n\n    if (isImplicitRoot(rootElement)) {\n      return;\n    }\n\n    self.update(newElement);\n  });\n\n  // add / update tab-bar scrolling\n  eventBus.on([\n    'propertiesPanel.changed',\n    'propertiesPanel.resized'\n  ], function(event) {\n\n    var tabBarNode = domQuery('.bpp-properties-tab-bar', self._container);\n\n    if (!tabBarNode) {\n      return;\n    }\n\n    var scroller = scrollTabs.get(tabBarNode);\n\n    if (!scroller) {\n\n      // we did not initialize yet, do that\n      // now and make sure we select the active\n      // tab on scroll update\n      scroller = scrollTabs(tabBarNode, {\n        selectors: {\n          tabsContainer: '.bpp-properties-tabs-links',\n          tab: '.bpp-properties-tabs-links li',\n          ignore: '.bpp-hidden',\n          active: '.bpp-active'\n        }\n      });\n\n\n      scroller.on('scroll', function(newActiveNode, oldActiveNode, direction) {\n\n        var linkNode = domQuery('[data-tab-target]', newActiveNode);\n\n        var tabId = domAttr(linkNode, 'data-tab-target');\n\n        self.activateTab(tabId);\n      });\n    }\n\n    // react on tab changes and or tabContainer resize\n    // and make sure the active tab is shown completely\n    scroller.update();\n  });\n\n  eventBus.on('elements.changed', function(e) {\n\n    var current = self._current;\n    var element = current && current.element;\n\n    if (element) {\n      if (e.elements.indexOf(element) !== -1) {\n        self.update(element);\n      }\n    }\n  });\n\n  eventBus.on('elementTemplates.changed', function() {\n    var current = self._current;\n    var element = current && current.element;\n\n    if (element) {\n      self.update(element);\n    }\n  });\n\n  eventBus.on('diagram.destroy', function() {\n    self.detach();\n  });\n\n  this._container = domify('<div class=\"bpp-properties-panel\"></div>');\n\n  this._bindListeners(this._container);\n\n  if (config && config.parent) {\n    this.attachTo(config.parent);\n  }\n};\n\n\nPropertiesPanel.prototype.attachTo = function(parentNode) {\n\n  if (!parentNode) {\n    throw new Error('parentNode required');\n  }\n\n  // ensure we detach from the\n  // previous, old parent\n  this.detach();\n\n  // unwrap jQuery if provided\n  if (parentNode.get && parentNode.constructor.prototype.jquery) {\n    parentNode = parentNode.get(0);\n  }\n\n  if (typeof parentNode === 'string') {\n    parentNode = domQuery(parentNode);\n  }\n\n  var container = this._container;\n\n  parentNode.appendChild(container);\n\n  this._emit('attach');\n};\n\nPropertiesPanel.prototype.detach = function() {\n\n  var container = this._container,\n      parentNode = container.parentNode;\n\n  if (!parentNode) {\n    return;\n  }\n\n  this._emit('detach');\n\n  parentNode.removeChild(container);\n};\n\n\n/**\n * Select the given tab within the properties panel.\n *\n * @param {Object|String} tab\n */\nPropertiesPanel.prototype.activateTab = function(tab) {\n\n  var tabId = typeof tab === 'string' ? tab : tab.id;\n\n  var current = this._current;\n\n  var panelNode = current.panel;\n\n  var allTabNodes = domQueryAll('.bpp-properties-tab', panelNode),\n      allTabLinkNodes = domQueryAll('.bpp-properties-tab-link', panelNode);\n\n  forEach(allTabNodes, function(tabNode) {\n\n    var currentTabId = domAttr(tabNode, 'data-tab');\n\n    domClasses(tabNode).toggle('bpp-active', tabId === currentTabId);\n  });\n\n  forEach(allTabLinkNodes, function(tabLinkNode) {\n\n    var tabLink = domQuery('[data-tab-target]', tabLinkNode),\n        currentTabId = domAttr(tabLink, 'data-tab-target');\n\n    domClasses(tabLinkNode).toggle('bpp-active', tabId === currentTabId);\n  });\n};\n\n/**\n * Update the DOM representation of the properties panel\n */\nPropertiesPanel.prototype.update = function(element) {\n  var current = this._current;\n\n  // no actual selection change\n  var needsCreate = true;\n\n  if (typeof element === 'undefined') {\n\n    // use RootElement of BPMN diagram to generate properties panel if no element is selected\n    element = this._canvas.getRootElement();\n  }\n\n  var newTabs = this._propertiesProvider.getTabs(element);\n\n  if (current && current.element === element) {\n    // see if we can reuse the existing panel\n\n    needsCreate = this._entriesChanged(current, newTabs);\n  }\n\n  if (needsCreate) {\n\n    if (current) {\n\n      // get active tab from the existing panel before remove it\n      var activeTabNode = domQuery('.bpp-properties-tab.bpp-active', current.panel);\n\n      var activeTabId;\n      if (activeTabNode) {\n        activeTabId = domAttr(activeTabNode, 'data-tab');\n      }\n\n      // remove old panel\n      domRemove(current.panel);\n    }\n\n    this._current = this._create(element, newTabs);\n\n    // activate the saved active tab from the remove panel or the first tab\n    (activeTabId) ? this.activateTab(activeTabId) : this.activateTab(this._current.tabs[0]);\n\n  }\n\n  if (this._current) {\n    // make sure correct tab contents are visible\n    this._updateActivation(this._current);\n\n  }\n\n  this._emit('changed');\n};\n\n\n/**\n * Returns true if one of two groups has different entries than the other.\n *\n * @param  {Object} current\n * @param  {Object} newTabs\n * @return {Boolean}\n */\nPropertiesPanel.prototype._entriesChanged = function(current, newTabs) {\n\n  var oldEntryIds = keys(current.entries),\n      newEntryIds = keys(extractEntries(newTabs));\n\n  return !isEmpty(xor(oldEntryIds, newEntryIds));\n};\n\nPropertiesPanel.prototype._emit = function(event) {\n  this._eventBus.fire('propertiesPanel.' + event, { panel: this, current: this._current });\n};\n\nPropertiesPanel.prototype._bindListeners = function(container) {\n\n  var self = this;\n\n  // handles a change for a given event\n  var handleChange = function handleChange(event) {\n\n    // see if we handle a change inside a [data-entry] element.\n    // if not, drop out\n    var inputNode = event.delegateTarget,\n        entryNode = domClosest(inputNode, '[data-entry]'),\n        entryId, entry;\n\n    // change from outside a [data-entry] element, simply ignore\n    if (!entryNode) {\n      return;\n    }\n\n    entryId = domAttr(entryNode, 'data-entry');\n    entry = self.getEntry(entryId);\n\n    var values = getFormControlValues(entryNode);\n\n    if (event.type === 'change') {\n\n      // - if the \"data-on-change\" attribute is present and a value is changed,\n      //   then the associated action is performed.\n      // - if the associated action returns \"true\" then an update to the business\n      //   object is done\n      // - if it does not return \"true\", then only the DOM content is updated\n      var onChangeAction = domAttr(inputNode, 'data-on-change');\n\n      if (onChangeAction) {\n        var isEntryDirty = self.executeAction(entry, entryNode, onChangeAction, event);\n\n        if (!isEntryDirty) {\n          return self.update(self._current.element);\n        }\n      }\n    }\n    self.applyChanges(entry, values, entryNode);\n    self.updateState(entry, entryNode);\n  };\n\n  // debounce update only elements that are target of key events,\n  // i.e. INPUT and TEXTAREA. SELECTs will trigger an immediate update anyway.\n  domDelegate.bind(container, 'input, textarea, [contenteditable]', 'input', debounce(handleChange, DEBOUNCE_DELAY));\n  domDelegate.bind(container, 'input, textarea, select, [contenteditable]', 'change', handleChange);\n\n  // paste as plain text only\n  domDelegate.bind(container, '[contenteditable]', 'paste', handlePaste);\n\n  function handlePaste(event) {\n    var text = (event.clipboardData || window.clipboardData).getData('text');\n    document.execCommand('insertText', false, text);\n\n    event.preventDefault();\n  }\n\n  // handle key events\n  domDelegate.bind(container, 'select', 'keydown', function(e) {\n\n    // DEL\n    if (e.keyCode === 46) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  });\n\n  domDelegate.bind(container, '[data-action]', 'click', function onClick(event) {\n\n    // triggers on all inputs\n    var inputNode = event.delegateTarget,\n        entryNode = domClosest(inputNode, '[data-entry]');\n\n    var actionId = domAttr(inputNode, 'data-action'),\n        entryId = domAttr(entryNode, 'data-entry');\n\n    var entry = self.getEntry(entryId);\n\n    var isEntryDirty = self.executeAction(entry, entryNode, actionId, event);\n\n    if (isEntryDirty) {\n      var values = getFormControlValues(entryNode);\n\n      self.applyChanges(entry, values, entryNode);\n    }\n\n    self.updateState(entry, entryNode);\n  });\n\n  function handleInput(event, element) {\n    // triggers on all inputs\n    var inputNode = event.delegateTarget;\n\n    var entryNode = domClosest(inputNode, '[data-entry]');\n\n    // only work on data entries\n    if (!entryNode) {\n      return;\n    }\n\n    var eventHandlerId = domAttr(inputNode, 'data-blur'),\n        entryId = domAttr(entryNode, 'data-entry');\n\n    var entry = self.getEntry(entryId);\n\n    var isEntryDirty = self.executeAction(entry, entryNode, eventHandlerId, event);\n\n    if (isEntryDirty) {\n      var values = getFormControlValues(entryNode);\n\n      self.applyChanges(entry, values, entryNode);\n    }\n\n    self.updateState(entry, entryNode);\n  }\n\n  domDelegate.bind(container, '[data-blur]', 'blur', handleInput, true);\n\n  // make tab links interactive\n  domDelegate.bind(container, '.bpp-properties-tabs-links [data-tab-target]', 'click', function(event) {\n    event.preventDefault();\n\n    var delegateTarget = event.delegateTarget;\n\n    var tabId = domAttr(delegateTarget, 'data-tab-target');\n\n    // activate tab on link click\n    self.activateTab(tabId);\n  });\n\n};\n\nPropertiesPanel.prototype.updateState = function(entry, entryNode) {\n  this.updateShow(entry, entryNode);\n  this.updateDisable(entry, entryNode);\n};\n\n/**\n * Update the visibility of the entry node in the DOM\n */\nPropertiesPanel.prototype.updateShow = function(entry, node) {\n\n  var current = this._current;\n\n  if (!current) {\n    return;\n  }\n\n  var showNodes = domQueryAll('[data-show]', node) || [];\n\n  forEach(showNodes, function(showNode) {\n\n    var expr = domAttr(showNode, 'data-show');\n    var fn = get(entry, expr);\n    if (fn) {\n      var scope = domClosest(showNode, '[data-scope]') || node;\n      var shouldShow = fn(current.element, node, showNode, scope) || false;\n      if (shouldShow) {\n        domClasses(showNode).remove(HIDE_CLASS);\n      } else {\n        domClasses(showNode).add(HIDE_CLASS);\n      }\n    }\n  });\n};\n\n/**\n * Evaluates a given function. If it returns true, then the\n * node is marked as \"disabled\".\n */\nPropertiesPanel.prototype.updateDisable = function(entry, node) {\n  var current = this._current;\n\n  if (!current) {\n    return;\n  }\n\n  var nodes = domQueryAll('[data-disable]', node) || [];\n\n  forEach(nodes, function(currentNode) {\n    var expr = domAttr(currentNode, 'data-disable');\n    var fn = get(entry, expr);\n    if (fn) {\n      var scope = domClosest(currentNode, '[data-scope]') || node;\n      var shouldDisable = fn(current.element, node, currentNode, scope) || false;\n      domAttr(currentNode, 'disabled', shouldDisable ? '' : null);\n    }\n  });\n};\n\nPropertiesPanel.prototype.executeAction = function(entry, entryNode, actionId, event) {\n  var current = this._current;\n\n  if (!current) {\n    return;\n  }\n\n  var fn = get(entry, actionId);\n  if (fn) {\n    var scopeNode = domClosest(event.target, '[data-scope]') || entryNode;\n    return fn.apply(entry, [ current.element, entryNode, event, scopeNode ]);\n  }\n};\n\n/**\n * Apply changes to the business object by executing a command\n */\nPropertiesPanel.prototype.applyChanges = function(entry, values, containerElement) {\n\n  var element = this._current.element;\n\n  // ensure we only update the model if we got dirty changes\n  if (valuesEqual(values, entry.oldValues)) {\n    return;\n  }\n\n  var command = entry.set(element, values, containerElement);\n\n  var commandToExecute;\n\n  if (isArray(command)) {\n    if (command.length) {\n      commandToExecute = {\n        cmd: 'properties-panel.multi-command-executor',\n        context: flattenDeep(command)\n      };\n    }\n  } else {\n    commandToExecute = command;\n  }\n\n  if (commandToExecute) {\n    this._commandStack.execute(commandToExecute.cmd, commandToExecute.context || { element : element });\n  } else {\n    this.update(element);\n  }\n};\n\n\n/**\n * apply validation errors in the DOM and show or remove an error message near the entry node.\n */\nPropertiesPanel.prototype.applyValidationErrors = function(validationErrors, entryNode) {\n\n  var valid = true;\n\n  var controlNodes = getFormControls(entryNode, true);\n\n  forEach(controlNodes, function(controlNode) {\n\n    var name = domAttr(controlNode, 'name') || domAttr(controlNode, 'data-name');\n\n    var error = validationErrors && validationErrors[name];\n\n    var errorMessageNode = domQuery('.bpp-error-message', controlNode.parentNode);\n\n    if (error) {\n      valid = false;\n\n      if (!errorMessageNode) {\n        errorMessageNode = domify('<div></div>');\n\n        domClasses(errorMessageNode).add('bpp-error-message');\n\n        // insert errorMessageNode after controlNode\n        controlNode.parentNode.insertBefore(errorMessageNode, controlNode.nextSibling);\n      }\n\n      errorMessageNode.textContent = error;\n\n      domClasses(controlNode).add('invalid');\n    } else {\n      domClasses(controlNode).remove('invalid');\n\n      if (errorMessageNode) {\n        controlNode.parentNode.removeChild(errorMessageNode);\n      }\n    }\n  });\n\n  return valid;\n};\n\n\n/**\n * Check if the entry contains valid input\n */\nPropertiesPanel.prototype.validate = function(entry, values, entryNode) {\n  var self = this;\n\n  var current = this._current;\n\n  var valid = true;\n\n  entryNode = entryNode || domQuery('[data-entry=\"' + entry.id + '\"]', current.panel);\n\n  if (values instanceof Array) {\n    var listContainer = domQuery('[data-list-entry-container]', entryNode),\n        listEntryNodes = listContainer.children || [];\n\n    // create new elements\n    for (var i = 0; i < values.length; i++) {\n      var listValue = values[i];\n\n      if (entry.validateListItem) {\n\n        var validationErrors = entry.validateListItem(current.element, listValue, entryNode, i),\n            listEntryNode = listEntryNodes[i];\n\n        valid = self.applyValidationErrors(validationErrors, listEntryNode) && valid;\n      }\n    }\n  } else {\n    if (entry.validate) {\n      this.validationErrors = entry.validate(current.element, values, entryNode);\n\n      valid = self.applyValidationErrors(this.validationErrors, entryNode) && valid;\n    }\n  }\n\n  return valid;\n};\n\nPropertiesPanel.prototype.getEntry = function(id) {\n  return this._current && this._current.entries[id];\n};\n\nvar flattenDeep = require('lodash/flattenDeep'),\n    keyBy = require('lodash/keyBy'),\n    map = require('lodash/map');\n\nPropertiesPanel.prototype._create = function(element, tabs) {\n\n  if (!element) {\n    return null;\n  }\n\n  var containerNode = this._container;\n\n  var panelNode = this._createPanel(element, tabs);\n\n  containerNode.appendChild(panelNode);\n\n  var entries = extractEntries(tabs);\n  var groups = extractGroups(tabs);\n\n  return {\n    tabs: tabs,\n    groups: groups,\n    entries: entries,\n    element: element,\n    panel: panelNode\n  };\n};\n\n/**\n * Update variable parts of the entry node on element changes.\n *\n * @param {djs.model.Base} element\n * @param {EntryDescriptor} entry\n * @param {Object} values\n * @param {HTMLElement} entryNode\n * @param {Number} idx\n */\nPropertiesPanel.prototype._bindTemplate = function(element, entry, values, entryNode, idx) {\n\n  var eventBus = this._eventBus;\n\n  function isPropertyEditable(entry, propertyName) {\n    return eventBus.fire('propertiesPanel.isPropertyEditable', {\n      entry: entry,\n      propertyName: propertyName,\n      element: element\n    });\n  }\n\n  var inputNodes = getPropertyPlaceholders(entryNode);\n\n  forEach(inputNodes, function(node) {\n\n    var name,\n        newValue,\n        editable;\n\n    // we deal with an input element\n    if ('value' in node || isContentEditable(node) === 'true') {\n      name = domAttr(node, 'name') || domAttr(node, 'data-name');\n      newValue = values[name];\n\n      editable = isPropertyEditable(entry, name);\n      if (editable && entry.editable) {\n        editable = entry.editable(element, entryNode, node, name, newValue, idx);\n      }\n\n      domAttr(node, 'readonly', editable ? null : '');\n      domAttr(node, 'disabled', editable ? null : '');\n\n      // take full control over setting the value\n      // and possibly updating the input in entry#setControlValue\n      if (entry.setControlValue) {\n        entry.setControlValue(element, entryNode, node, name, newValue, idx);\n      } else if (isToggle(node)) {\n        setToggleValue(node, newValue);\n      } else if (isSelect(node)) {\n        setSelectValue(node, newValue);\n      } else {\n        setInputValue(node, newValue);\n      }\n    }\n\n    // we deal with some non-editable html element\n    else {\n      name = domAttr(node, 'data-value');\n      newValue = values[name];\n      if (entry.setControlValue) {\n        entry.setControlValue(element, entryNode, node, name, newValue, idx);\n      } else {\n        setTextValue(node, newValue);\n      }\n    }\n  });\n};\n\n// TODO(nikku): WTF freaking name? Change / clarify.\nPropertiesPanel.prototype._updateActivation = function(current) {\n  var self = this;\n\n  var eventBus = this._eventBus;\n\n  var element = current.element;\n\n  function isEntryVisible(entry) {\n    return eventBus.fire('propertiesPanel.isEntryVisible', {\n      entry: entry,\n      element: element\n    });\n  }\n\n  function isGroupVisible(group, element, groupNode) {\n    if (typeof group.enabled === 'function') {\n      return group.enabled(element, groupNode);\n    } else {\n      return true;\n    }\n  }\n\n  function isTabVisible(tab, element) {\n    if (typeof tab.enabled === 'function') {\n      return tab.enabled(element);\n    } else {\n      return true;\n    }\n  }\n\n  function toggleVisible(node, visible) {\n    domClasses(node).toggle(HIDE_CLASS, !visible);\n  }\n\n  // check whether the active tab is visible\n  // if not: set the first tab as active tab\n  function checkActiveTabVisibility(node, visible) {\n    var isActive = domClasses(node).has('bpp-active');\n    if (!visible && isActive) {\n      self.activateTab(current.tabs[0]);\n    }\n  }\n\n  function updateLabel(element, selector, text) {\n    var labelNode = domQuery(selector, element);\n\n    if (!labelNode) {\n      return;\n    }\n\n    labelNode.textContent = text;\n  }\n\n  var panelNode = current.panel;\n\n  forEach(current.tabs, function(tab) {\n\n    var tabNode = domQuery('[data-tab=' + tab.id + ']', panelNode);\n    var tabLinkNode = domQuery('[data-tab-target=' + tab.id + ']', panelNode).parentNode;\n\n    var tabVisible = false;\n\n    forEach(tab.groups, function(group) {\n\n      var groupVisible = false;\n\n      var groupNode = domQuery('[data-group=' + group.id + ']', tabNode);\n\n      forEach(group.entries, function(entry) {\n\n        var entryNode = domQuery('[data-entry=\"' + entry.id + '\"]', groupNode);\n\n        var entryVisible = isEntryVisible(entry);\n\n        groupVisible = groupVisible || entryVisible;\n\n        toggleVisible(entryNode, entryVisible);\n\n        var values = 'get' in entry ? entry.get(element, entryNode) : {};\n\n        if (values instanceof Array) {\n          var listEntryContainer = domQuery('[data-list-entry-container]', entryNode);\n          var existingElements = listEntryContainer.children || [];\n\n          for (var i = 0; i < values.length; i++) {\n            var listValue = values[i];\n            var listItemNode = existingElements[i];\n            if (!listItemNode) {\n              listItemNode = domify(entry.createListEntryTemplate(listValue, i, listEntryContainer));\n              listEntryContainer.appendChild(listItemNode);\n            }\n            domAttr(listItemNode, 'data-index', i);\n\n            self._bindTemplate(element, entry, listValue, listItemNode, i);\n          }\n\n          var entriesToRemove = existingElements.length - values.length;\n\n          for (var j = 0; j < entriesToRemove; j++) {\n            // remove orphaned element\n            listEntryContainer.removeChild(listEntryContainer.lastChild);\n          }\n\n        } else {\n          self._bindTemplate(element, entry, values, entryNode);\n        }\n\n        // update conditionally visible elements\n        self.updateState(entry, entryNode);\n        self.validate(entry, values, entryNode);\n\n        // remember initial state for later dirty checking\n        entry.oldValues = getFormControlValues(entryNode);\n      });\n\n      if (typeof group.label === 'function') {\n        updateLabel(groupNode, '.group-label', group.label(element, groupNode));\n      }\n\n      groupVisible = groupVisible && isGroupVisible(group, element, groupNode);\n\n      tabVisible = tabVisible || groupVisible;\n\n      toggleVisible(groupNode, groupVisible);\n    });\n\n    tabVisible = tabVisible && isTabVisible(tab, element);\n\n    toggleVisible(tabNode, tabVisible);\n    toggleVisible(tabLinkNode, tabVisible);\n\n    checkActiveTabVisibility(tabNode, tabVisible);\n  });\n\n  // inject elements id into header\n  updateLabel(panelNode, '[data-label-id]', getBusinessObject(element).id || '');\n};\n\nPropertiesPanel.prototype._createPanel = function(element, tabs) {\n  var self = this;\n\n  var panelNode = domify('<div class=\"bpp-properties\"></div>'),\n      headerNode = domify('<div class=\"bpp-properties-header\">' +\n        '<div class=\"label\" data-label-id></div>' +\n        '<div class=\"search\">' +\n          '<input type=\"search\" placeholder=\"Search for property\" />' +\n          '<button><span>Search</span></button>' +\n        '</div>' +\n      '</div>'),\n      tabBarNode = domify('<div class=\"bpp-properties-tab-bar\"></div>'),\n      tabLinksNode = domify('<ul class=\"bpp-properties-tabs-links\"></ul>'),\n      tabContainerNode = domify('<div class=\"bpp-properties-tabs-container\"></div>');\n\n  panelNode.appendChild(headerNode);\n\n  forEach(tabs, function(tab, tabIndex) {\n\n    if (!tab.id) {\n      throw new Error('tab must have an id');\n    }\n\n    var tabNode = domify('<div class=\"bpp-properties-tab\" data-tab=\"' + escapeHTML(tab.id) + '\"></div>'),\n        tabLinkNode = domify('<li class=\"bpp-properties-tab-link\">' +\n          '<a href data-tab-target=\"' + escapeHTML(tab.id) + '\">' + escapeHTML(tab.label) + '</a>' +\n        '</li>');\n\n    var groups = tab.groups;\n\n    forEach(groups, function(group) {\n\n      if (!group.id) {\n        throw new Error('group must have an id');\n      }\n\n      var groupNode = domify('<div class=\"bpp-properties-group\" data-group=\"' + escapeHTML(group.id) + '\">' +\n          '<span class=\"group-toggle\"></span>' +\n          '<span class=\"group-label\">' + escapeHTML(group.label) + '</span>' +\n        '</div>');\n\n      // TODO(nre): use event delegation to handle that...\n      groupNode.querySelector('.group-toggle').addEventListener('click', function(evt) {\n        domClasses(groupNode).toggle('group-closed');\n        evt.preventDefault();\n        evt.stopPropagation();\n      });\n      groupNode.addEventListener('click', function(evt) {\n        if (!evt.defaultPrevented && domClasses(groupNode).has('group-closed')) {\n          domClasses(groupNode).remove('group-closed');\n        }\n      });\n\n      forEach(group.entries, function(entry) {\n\n        if (!entry.id) {\n          throw new Error('entry must have an id');\n        }\n\n        var html = entry.html;\n\n        if (typeof html === 'string') {\n          html = domify(html);\n        }\n\n        // unwrap jquery\n        if (html.get && html.constructor.prototype.jquery) {\n          html = html.get(0);\n        }\n\n        var entryNode = domify('<div class=\"bpp-properties-entry\" data-entry=\"' + escapeHTML(entry.id) + '\"></div>');\n\n        forEach(entry.cssClasses || [], function(cssClass) {\n          domClasses(entryNode).add(cssClass);\n        });\n\n        entryNode.appendChild(html);\n\n        groupNode.appendChild(entryNode);\n\n        // update conditionally visible elements\n        self.updateState(entry, entryNode);\n      });\n\n      tabNode.appendChild(groupNode);\n    });\n\n    tabLinksNode.appendChild(tabLinkNode);\n    tabContainerNode.appendChild(tabNode);\n  });\n\n  tabBarNode.appendChild(tabLinksNode);\n\n  panelNode.appendChild(tabBarNode);\n  panelNode.appendChild(tabContainerNode);\n\n  return panelNode;\n};\n\n\n\nfunction setInputValue(node, value) {\n\n  var contentEditable = isContentEditable(node);\n\n  var oldValue = contentEditable ? node.innerText : node.value;\n\n  var selection;\n\n  // prevents input fields from having the value 'undefined'\n  if (value === undefined) {\n    value = '';\n  }\n\n  if (oldValue === value) {\n    return;\n  }\n\n  // update selection on undo/redo\n  if (document.activeElement === node) {\n    selection = updateSelection(getSelection(node), oldValue, value);\n  }\n\n  if (contentEditable) {\n    node.innerText = value;\n  } else {\n    node.value = value;\n  }\n\n  if (selection) {\n    setSelection(node, selection);\n  }\n}\n\nfunction setSelectValue(node, value) {\n  if (value !== undefined) {\n    node.value = value;\n  }\n}\n\nfunction setToggleValue(node, value) {\n  var nodeValue = node.value;\n\n  node.checked = (value === nodeValue) || (!domAttr(node, 'value') && value);\n}\n\nfunction setTextValue(node, value) {\n  node.textContent = value;\n}\n\nfunction getSelection(node) {\n\n  return isContentEditable(node) ? getContentEditableSelection(node) : {\n    start: node.selectionStart,\n    end: node.selectionEnd\n  };\n}\n\nfunction getContentEditableSelection(node) {\n\n  var selection = window.getSelection();\n\n  var focusNode = selection.focusNode,\n      focusOffset = selection.focusOffset,\n      anchorOffset = selection.anchorOffset;\n\n  if (!focusNode) {\n    throw new Error('not selected');\n  }\n\n  // verify we have selection on the current element\n  if (!node.contains(focusNode)) {\n    throw new Error('not selected');\n  }\n\n  return {\n    start: Math.min(focusOffset, anchorOffset),\n    end: Math.max(focusOffset, anchorOffset)\n  };\n}\n\nfunction setSelection(node, selection) {\n\n  if (isContentEditable(node)) {\n    setContentEditableSelection(node, selection);\n  } else {\n    node.selectionStart = selection.start;\n    node.selectionEnd = selection.end;\n  }\n}\n\nfunction setContentEditableSelection(node, selection) {\n\n  var focusNode,\n      domRange,\n      domSelection;\n\n  focusNode = node.firstChild || node,\n  domRange = document.createRange();\n  domRange.setStart(focusNode, selection.start);\n  domRange.setEnd(focusNode, selection.end);\n\n  domSelection = window.getSelection();\n  domSelection.removeAllRanges();\n  domSelection.addRange(domRange);\n}\n\nfunction isImplicitRoot(element) {\n  return element.id === '__implicitroot';\n}\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","'use strict';\n\nvar isArray = require('lodash/isArray');\nvar isObject = require('lodash/isObject');\n\nvar DROPDOWN_TYPE = 'Dropdown';\n\nvar VALID_TYPES = [ 'String', 'Text', 'Boolean', 'Hidden', DROPDOWN_TYPE ];\n\nvar PROPERTY_TYPE = 'property',\n    ACTIVITI_PROPERTY_TYPE = 'activiti:property',\n    ACTIVITI_INPUT_PARAMETER_TYPE = 'activiti:inputParameter',\n    ACTIVITI_OUTPUT_PARAMETER_TYPE = 'activiti:outputParameter',\n    ACTIVITI_IN_TYPE = 'activiti:in',\n    ACTIVITI_OUT_TYPE = 'activiti:out',\n    ACTIVITI_IN_BUSINESS_KEY_TYPE = 'activiti:in:businessKey',\n    ACTIVITI_EXECUTION_LISTENER = 'activiti:executionListener',\n    ACTIVITI_FIELD = 'activiti:field';\n\nvar VALID_BINDING_TYPES = [\n  PROPERTY_TYPE,\n  ACTIVITI_PROPERTY_TYPE,\n  ACTIVITI_INPUT_PARAMETER_TYPE,\n  ACTIVITI_OUTPUT_PARAMETER_TYPE,\n  ACTIVITI_IN_TYPE,\n  ACTIVITI_OUT_TYPE,\n  ACTIVITI_IN_BUSINESS_KEY_TYPE,\n  ACTIVITI_EXECUTION_LISTENER,\n  ACTIVITI_FIELD\n];\n\n\n/**\n * A element template validator.\n */\nfunction Validator() {\n\n  this._templatesById = {};\n\n  this._validTemplates = [];\n  this._errors = [];\n\n\n  /**\n   * Adds the templates.\n   *\n   * @param {Array<TemplateDescriptor>} templates\n   *\n   * @return {Validator} self\n   */\n  this.addAll = function(templates) {\n\n    if (!isArray(templates)) {\n      this._logError('templates must be []');\n    } else {\n      templates.forEach(this.add, this);\n    }\n\n    return this;\n  };\n\n  /**\n   * Add the given element template, if it is valid.\n   *\n   * @param {TemplateDescriptor} template\n   *\n   * @return {Validator} self\n   */\n  this.add = function(template) {\n\n    var err = this._validateTemplate(template);\n\n    if (!err) {\n      this._templatesById[template.id] = template;\n\n      this._validTemplates.push(template);\n    }\n\n    return this;\n  };\n\n  /**\n   * Validate given template and return error (if any).\n   *\n   * @param {TemplateDescriptor} template\n   *\n   * @return {Error} validation error, if any\n   */\n  this._validateTemplate = function(template) {\n\n    var err,\n        id = template.id,\n        appliesTo = template.appliesTo,\n        properties = template.properties,\n        scopes = template.scopes;\n\n    if (!id) {\n      return this._logError('missing template id');\n    }\n\n    if (id in this._templatesById) {\n      return this._logError('template id <' + id + '> already used');\n    }\n\n    if (!isArray(appliesTo)) {\n      err = this._logError('missing appliesTo=[]', template);\n    }\n\n    if (!isArray(properties)) {\n      err = this._logError('missing properties=[]', template);\n    } else {\n      if (!this._validateProperties(properties)) {\n        err = new Error('invalid properties');\n      }\n    }\n\n    if (scopes) {\n      err = this._validateScopes(template, scopes);\n    }\n\n    return err;\n  };\n\n  this._validateScopes = function(template, scopes) {\n\n    var err,\n        scope,\n        scopeName;\n\n    if (!isObject(scopes) || isArray(scopes)) {\n      return this._logError('invalid scopes, should be scopes={}', template);\n    }\n\n    for (scopeName in scopes) {\n      scope = scopes[scopeName];\n\n      if (!isObject(scope) || isArray(scope)) {\n        err = this._logError('invalid scope, should be scope={}', template);\n      }\n\n      if (!isArray(scope.properties)) {\n        err = this._logError(\n          'missing properties=[] in scope <' + scopeName + '>', template\n        );\n      } else {\n        if (!this._validateProperties(scope.properties)) {\n          err = new Error('invalid properties in scope <' + scopeName + '>');\n        }\n      }\n    }\n\n    return err;\n  };\n\n  /**\n   * Validate properties and return false if any is invalid.\n   *\n   * @param {Array<PropertyDescriptor>} properties\n   *\n   * @return {Boolean} true if all properties are valid\n   */\n  this._validateProperties = function(properties) {\n    var validProperties = properties.filter(this._validateProperty, this);\n\n    return properties.length === validProperties.length;\n  };\n\n  /**\n   * Validate property and return false, if there was\n   * a validation error.\n   *\n   * @param {PropertyDescriptor} property\n   *\n   * @return {Boolean} true if property is valid\n   */\n  this._validateProperty = function(property) {\n\n    var type = property.type,\n        binding = property.binding;\n\n    var err;\n\n    var bindingType = binding.type;\n\n    if (VALID_TYPES.indexOf(type) === -1) {\n      err = this._logError(\n        'invalid property type <' + type + '>; ' +\n        'must be any of { ' + VALID_TYPES.join(', ') + ' }'\n      );\n    }\n\n    if (type === DROPDOWN_TYPE && bindingType !== ACTIVITI_EXECUTION_LISTENER) {\n      if (!isArray(property.choices)) {\n        err = this._logError(\n          'must provide choices=[] with ' + DROPDOWN_TYPE + ' type'\n        );\n      } else\n\n      if (!property.choices.every(isDropdownChoiceValid)) {\n        err = this._logError(\n          '{ name, value } must be specified for ' +\n          DROPDOWN_TYPE + ' choices'\n        );\n      }\n    }\n\n    if (!binding) {\n      return this._logError('property missing binding');\n    }\n\n    if (VALID_BINDING_TYPES.indexOf(bindingType) === -1) {\n      err = this._logError(\n        'invalid property.binding type <' + bindingType + '>; ' +\n        'must be any of { ' + VALID_BINDING_TYPES.join(', ') + ' }'\n      );\n    }\n\n    if (bindingType === PROPERTY_TYPE ||\n        bindingType === ACTIVITI_PROPERTY_TYPE ||\n        bindingType === ACTIVITI_INPUT_PARAMETER_TYPE ||\n        bindingType === ACTIVITI_FIELD) {\n\n      if (!binding.name) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires name'\n        );\n      }\n    }\n\n    if (bindingType === ACTIVITI_OUTPUT_PARAMETER_TYPE) {\n      if (!binding.source) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires source'\n        );\n      }\n    }\n\n    if (bindingType === ACTIVITI_IN_TYPE) {\n\n      if (!binding.variables && !binding.target) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires ' +\n          'variables or target'\n        );\n      }\n    }\n\n    if (bindingType === ACTIVITI_OUT_TYPE) {\n\n      if (!binding.variables && !binding.source && !binding.sourceExpression) {\n        err = this._logError(\n          'property.binding <' + bindingType + '> requires ' +\n          'variables, sourceExpression or source'\n        );\n      }\n    }\n\n    if (bindingType === ACTIVITI_EXECUTION_LISTENER) {\n\n      if (type !== 'Hidden') {\n        err = this._logError(\n          'invalid property type <' + type + '> for ' + ACTIVITI_EXECUTION_LISTENER + '; ' +\n          'must be <Hidden>'\n        );\n      }\n    }\n\n    return !err;\n  };\n\n\n  this._logError = function(err, template) {\n\n    if (typeof err === 'string') {\n      if (template) {\n        err = 'template(id: ' + template.id + ') ' + err;\n      }\n\n      err = new Error(err);\n    }\n\n    this._errors.push(err);\n\n    return err;\n  };\n\n  this.getErrors = function() {\n    return this._errors;\n  };\n\n  this.getValidTemplates = function() {\n    return this._validTemplates;\n  };\n}\n\nmodule.exports = Validator;\n\n\n// helpers ///////////////////////////////////\n\nfunction isDropdownChoiceValid(c) {\n  return 'name' in c && 'value' in c;\n}\n","'use strict';\n\nvar forEach = require('lodash/forEach');\n\n/**\n * A handler that combines and executes multiple commands.\n *\n * All updates are bundled on the command stack and executed in one step.\n * This also makes it possible to revert the changes in one step.\n *\n * Example use case: remove the camunda:formKey attribute and in addition\n * add all form fields needed for the camunda:formData property.\n *\n * @class\n * @constructor\n */\nfunction MultiCommandHandler(commandStack) {\n  this._commandStack = commandStack;\n}\n\nMultiCommandHandler.$inject = [ 'commandStack' ];\n\nmodule.exports = MultiCommandHandler;\n\nMultiCommandHandler.prototype.preExecute = function(context) {\n\n  var commandStack = this._commandStack;\n\n  forEach(context, function(command) {\n    commandStack.execute(command.cmd, command.context);\n  });\n};","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    forEach = require('lodash/forEach');\n\nvar EventDefinitionHelper = {};\n\nmodule.exports = EventDefinitionHelper;\n\nEventDefinitionHelper.getEventDefinition = function(element, eventType) {\n\n  var bo = getBusinessObject(element),\n      eventDefinition = null;\n\n  if (bo.eventDefinitions) {\n    forEach(bo.eventDefinitions, function(event) {\n      if (is(event, eventType)) {\n        eventDefinition = event;\n      }\n    });\n  }\n\n  return eventDefinition;\n};\n\nEventDefinitionHelper.getTimerEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:TimerEventDefinition');\n};\n\nEventDefinitionHelper.getMessageEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:MessageEventDefinition');\n};\n\nEventDefinitionHelper.getSignalEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:SignalEventDefinition');\n};\n\nEventDefinitionHelper.getErrorEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:ErrorEventDefinition');\n};\n\nEventDefinitionHelper.getEscalationEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:EscalationEventDefinition');\n};\n\nEventDefinitionHelper.getCompensateEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:CompensateEventDefinition');\n};\n\nEventDefinitionHelper.getLinkEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:LinkEventDefinition');\n};\n\nEventDefinitionHelper.getConditionalEventDefinition = function(element) {\n  return this.getEventDefinition(element, 'bpmn:ConditionalEventDefinition');\n};\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length;\n  if (!length) {\n    return source;\n  }\n  var lastIndex = length - 1;\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\nmodule.exports = insertWrapDetails;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\n\nvar find = require('lodash/find');\n\n\nvar TEMPLATE_ATTR = 'activiti:modelerTemplate';\n\n/**\n * The BPMN 2.0 extension attribute name under\n * which the element template is stored.\n *\n * @type {String}\n */\nmodule.exports.TEMPLATE_ATTR = TEMPLATE_ATTR;\n\n\n/**\n * Get template id for a given diagram element.\n *\n * @param {djs.model.Base} element\n *\n * @return {String}\n */\nfunction getTemplateId(element) {\n\n  var bo = getBusinessObject(element);\n\n  if (bo) {\n    return bo.get(TEMPLATE_ATTR);\n  }\n}\n\nmodule.exports.getTemplateId = getTemplateId;\n\n\n/**\n * Get template of a given element.\n *\n * @param {Element} element\n * @param {ElementTemplates} elementTemplates\n *\n * @return {TemplateDefinition}\n */\nfunction getTemplate(element, elementTemplates) {\n  var id = getTemplateId(element);\n\n  return id && elementTemplates.get(id);\n}\n\nmodule.exports.getTemplate = getTemplate;\n\n/**\n * Get default template for a given element.\n *\n * @param {Element} element\n * @param {ElementTemplates} elementTemplates\n *\n * @return {TemplateDefinition}\n */\nfunction getDefaultTemplate(element, elementTemplates) {\n\n  // return first default template, if any exists\n  return (\n    elementTemplates.getAll().filter(function(t) {\n      return isAny(element, t.appliesTo) && t.isDefault;\n    })\n  )[0];\n}\n\nmodule.exports.getDefaultTemplate = getDefaultTemplate;\n\n\n/**\n * Find extension with given type in\n * BPMN element, diagram element or ExtensionElement.\n *\n * @param {ModdleElement|djs.model.Base} element\n * @param {String} type\n *\n * @return {ModdleElement} the extension\n */\nfunction findExtension(element, type) {\n  var bo = getBusinessObject(element);\n\n  var extensionElements;\n\n  if (is(bo, 'bpmn:ExtensionElements')) {\n    extensionElements = bo;\n  } else {\n    extensionElements = bo.extensionElements;\n  }\n\n  if (!extensionElements) {\n    return null;\n  }\n\n  return find(extensionElements.get('values'), function(e) {\n    return is(e, type);\n  });\n}\n\nmodule.exports.findExtension = findExtension;\n\n\nfunction findExtensions(element, types) {\n  var extensionElements = getExtensionElements(element);\n\n  if (!extensionElements) {\n    return [];\n  }\n\n  return extensionElements.get('values').filter(function(e) {\n    return isAny(e, types);\n  });\n}\n\nmodule.exports.findExtensions = findExtensions;\n\n\nfunction findActivitiInOut(element, binding) {\n\n  var extensionElements = getExtensionElements(element);\n\n  if (!extensionElements) {\n    return;\n  }\n\n  var matcher;\n\n  if (binding.type === 'activiti:in') {\n    matcher = function(e) {\n      return is(e, 'activiti:In') && isInOut(e, binding);\n    };\n  } else\n  if (binding.type === 'activiti:out') {\n    matcher = function(e) {\n      return is(e, 'activiti:Out') && isInOut(e, binding);\n    };\n  } else\n  if (binding.type === 'activiti:in:businessKey') {\n    matcher = function(e) {\n      return is(e, 'activiti:In') && 'businessKey' in e;\n    };\n  }\n\n  return find(extensionElements.get('values'), matcher);\n}\n\nmodule.exports.findActivitiInOut = findActivitiInOut;\n\nfunction findActivitiProperty(activitiProperties, binding) {\n  return find(activitiProperties.get('values'), function(p) {\n    return p.name === binding.name;\n  });\n}\n\nmodule.exports.findActivitiProperty = findActivitiProperty;\n\n\nfunction findInputParameter(inputOutput, binding) {\n  var parameters = inputOutput.get('inputParameters');\n\n  return find(parameters, function(p) {\n    return p.name === binding.name;\n  });\n}\n\nmodule.exports.findInputParameter = findInputParameter;\n\n\nfunction findOutputParameter(inputOutput, binding) {\n  var parameters = inputOutput.get('outputParameters');\n\n  return find(parameters, function(p) {\n    var value = p.value;\n\n    if (!binding.scriptFormat) {\n      return value === binding.source;\n    }\n\n    var definition = p.definition;\n\n    if (!definition || binding.scriptFormat !== definition.scriptFormat) {\n      return false;\n    }\n\n    return definition.value === binding.source;\n  });\n}\n\nmodule.exports.findOutputParameter = findOutputParameter;\n\n\n\n// helpers /////////////////////////////////\n\nfunction getExtensionElements(element) {\n  var bo = getBusinessObject(element);\n\n  if (is(bo, 'bpmn:ExtensionElements')) {\n    return bo;\n  } else {\n    return bo.extensionElements;\n  }\n}\n\n\nfunction isInOut(element, binding) {\n\n  if (binding.type === 'activiti:in') {\n    // find based on target attribute\n    if (binding.target) {\n      return element.target === binding.target;\n    }\n  }\n\n  if (binding.type === 'activiti:out') {\n    // find based on source / sourceExpression\n    if (binding.source) {\n      return element.source === binding.source;\n    }\n\n    if (binding.sourceExpression) {\n      return element.sourceExpression === binding.sourceExpression;\n    }\n  }\n\n  // find based variables / local combination\n  if (binding.variables) {\n    return element.variables === 'all' && (\n      binding.variables !== 'local' || element.local\n    );\n  }\n}\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var historyTimeToLiveEntry = entryFactory.textField({\n    id: 'historyTimeToLive',\n    label: translate('History Time To Live'),\n    modelProperty: 'historyTimeToLive',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var historyTimeToLive = bo.get('activiti:historyTimeToLive');\n\n      return {\n        historyTimeToLive: historyTimeToLive ? historyTimeToLive : ''\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'activiti:historyTimeToLive': values.historyTimeToLive || undefined\n      });\n    }\n\n  });\n\n  return [ historyTimeToLiveEntry ];\n};\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    cmdHelper = require('./CmdHelper');\n\n\nvar ParticipantHelper = {};\n\nmodule.exports = ParticipantHelper;\n\nParticipantHelper.modifyProcessBusinessObject = function(element, property, values) {\n  if (!is(element, 'bpmn:Participant')) {\n    return {};\n  }\n\n  var bo = getBusinessObject(element).get('processRef'),\n      properties = {};\n\n  properties[property] = values[property];\n\n  return cmdHelper.updateBusinessObject(element, bo, properties);\n};\n\nParticipantHelper.getProcessBusinessObject = function(element, propertyName) {\n  if (!is(element, 'bpmn:Participant')) {\n    return {};\n  }\n\n  var bo = getBusinessObject(element).get('processRef'),\n      properties = {};\n\n  properties[propertyName] = bo.get(propertyName);\n\n  return properties;\n};","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","'use strict';\n\nvar escapeHTML = require('../Utils').escapeHTML;\n\nvar domify = require('min-dom').domify;\n\nvar forEach = require('lodash/forEach');\n\nvar entryFieldDescription = require('./EntryFieldDescription');\n\n\nvar isList = function(list) {\n  return !(!list || Object.prototype.toString.call(list) !== '[object Array]');\n};\n\nvar addEmptyParameter = function(list) {\n  return list.concat([ { name: '', value: '' } ]);\n};\n\nvar createOption = function(option) {\n  return '<option value=\"' + option.value + '\">' + option.name + '</option>';\n};\n\n/**\n * @param  {Object} options\n * @param  {string} options.id\n * @param  {string} [options.label]\n * @param  {Array<Object>} options.selectOptions\n * @param  {string} options.modelProperty\n * @param  {boolean} options.emptyParameter\n * @param  {function} options.disabled\n * @param  {function} options.hidden\n * @param  {Object} defaultParameters\n *\n * @return {Object}\n */\nvar selectbox = function(options, defaultParameters) {\n  var resource = defaultParameters,\n      label = options.label || resource.id,\n      selectOptions = options.selectOptions || [ { name: '', value: '' } ],\n      modelProperty = options.modelProperty,\n      emptyParameter = options.emptyParameter,\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\n      description = options.description;\n\n\n  if (emptyParameter) {\n    selectOptions = addEmptyParameter(selectOptions);\n  }\n\n\n  resource.html =\n    '<label for=\"camunda-' + escapeHTML(resource.id) + '\"' +\n    (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n    (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n    '>' + escapeHTML(label) + '</label>' +\n    '<select id=\"camunda-' + escapeHTML(resource.id) + '-select\" name=\"' +\n    escapeHTML(modelProperty) + '\"' +\n    (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\n    (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\n    ' data-value>';\n\n  if (isList(selectOptions)) {\n    forEach(selectOptions, function(option) {\n      resource.html += '<option value=\"' + escapeHTML(option.value) + '\">' +\n      (option.name ? escapeHTML(option.name) : '') + '</option>';\n    });\n  }\n\n  resource.html += '</select>';\n\n  // add description below select box entry field\n  if (description && typeof options.showCustomInput !== 'function') {\n    resource.html += entryFieldDescription(description);\n  }\n\n  /**\n   * Fill the select box options dynamically.\n   *\n   * Calls the defined function #selectOptions in the entry to get the\n   * values for the options and set the value to the inputNode.\n   *\n   * @param {djs.model.Base} element\n   * @param {HTMLElement} entryNode\n   * @param {EntryDescriptor} inputNode\n   * @param {Object} inputName\n   * @param {Object} newValue\n   */\n  resource.setControlValue = function(element, entryNode, inputNode, inputName, newValue) {\n    if (typeof selectOptions === 'function') {\n\n      var options = selectOptions(element, inputNode);\n\n      if (options) {\n\n        // remove existing options\n        while (inputNode.firstChild) {\n          inputNode.removeChild(inputNode.firstChild);\n        }\n\n        // add options\n        forEach(options, function(option) {\n          var template = domify(createOption(option));\n\n          inputNode.appendChild(template);\n        });\n\n\n      }\n    }\n\n    // set select value\n    if (newValue !== undefined) {\n      inputNode.value = newValue;\n    }\n\n  };\n\n  if (canBeDisabled) {\n    resource.isDisabled = function() {\n      return options.disabled.apply(resource, arguments);\n    };\n  }\n\n  if (canBeHidden) {\n    resource.isHidden = function() {\n      return !options.hidden.apply(resource, arguments);\n    };\n  }\n\n  resource.cssClasses = ['bpp-dropdown'];\n\n  return resource;\n};\n\nmodule.exports = selectbox;\n","'use strict';\n\nvar reduce = require('lodash/transform'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    keys = require('lodash/keys'),\n    forEach = require('lodash/forEach');\n\n/**\n * A handler that implements a BPMN 2.0 property update\n * for business objects which are not represented in the\n * diagram.\n *\n * This is useful in the context of the properties panel in\n * order to update child elements of elements visible in\n * the diagram.\n *\n * Example: perform an update of a specific event definition\n * of an intermediate event.\n *\n * @class\n * @constructor\n */\nfunction UpdateBusinessObjectHandler(elementRegistry) {\n  this._elementRegistry = elementRegistry;\n}\n\nUpdateBusinessObjectHandler.$inject = [ 'elementRegistry' ];\n\nmodule.exports = UpdateBusinessObjectHandler;\n\n/**\n * returns the root element\n */\nfunction getRoot(businessObject) {\n  var parent = businessObject;\n  while (parent.$parent) {\n    parent = parent.$parent;\n  }\n  return parent;\n}\n\nfunction getProperties(businessObject, propertyNames) {\n  return reduce(propertyNames, function(result, key) {\n    result[key] = businessObject.get(key);\n    return result;\n  }, {});\n}\n\n\nfunction setProperties(businessObject, properties) {\n  forEach(properties, function(value, key) {\n    businessObject.set(key, value);\n  });\n}\n\n\n// api /////////////////////////////////////////////\n\n/**\n * Updates a business object with a list of new properties\n *\n * @method  UpdateBusinessObjectHandler#execute\n *\n * @param {Object} context\n * @param {djs.model.Base} context.element the element which has a child business object updated\n * @param {moddle.businessObject} context.businessObject the businessObject to update\n * @param {Object} context.properties a list of properties to set on the businessObject\n *\n * @return {Array<djs.mode.Base>} the updated element\n */\nUpdateBusinessObjectHandler.prototype.execute = function(context) {\n\n  var element = context.element,\n      businessObject = context.businessObject,\n      rootElements = getRoot(businessObject).rootElements,\n      referenceType = context.referenceType,\n      referenceProperty = context.referenceProperty,\n      changed = [ element ]; // this will not change any diagram-js elements\n\n  if (!element) {\n    throw new Error('element required');\n  }\n\n  if (!businessObject) {\n    throw new Error('businessObject required');\n  }\n\n  var properties = context.properties,\n      oldProperties = context.oldProperties || getProperties(businessObject, keys(properties));\n\n  // check if there the update needs an external element for reference\n  if (typeof referenceType !== 'undefined' && typeof referenceProperty !== 'undefined') {\n    forEach(rootElements, function(rootElement) {\n      if (is(rootElement, referenceType)) {\n        if (rootElement.id === properties[referenceProperty]) {\n          properties[referenceProperty] = rootElement;\n        }\n      }\n    });\n  }\n\n  // update properties\n  setProperties(businessObject, properties);\n\n  // store old values\n  context.oldProperties = oldProperties;\n  context.changed = changed;\n\n  // indicate changed on objects affected by the update\n  return changed;\n};\n\n/**\n * Reverts the update\n *\n * @method  UpdateBusinessObjectHandler#revert\n *\n * @param {Object} context\n *\n * @return {djs.mode.Base} the updated element\n */\nUpdateBusinessObjectHandler.prototype.revert = function(context) {\n\n  var oldProperties = context.oldProperties,\n      businessObject = context.businessObject;\n\n  // update properties\n  setProperties(businessObject, oldProperties);\n\n  return context.changed;\n};\n","'use strict';\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    is = ModelUtil.is,\n    getBusinessObject = ModelUtil.getBusinessObject;\n\nvar eventDefinitionHelper = require('./EventDefinitionHelper');\nvar extensionsElementHelper = require('./ExtensionElementsHelper');\n\nvar ImplementationTypeHelper = {};\n\nmodule.exports = ImplementationTypeHelper;\n\n/**\n * Returns 'true' if the given element is 'camunda:ServiceTaskLike'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isServiceTaskLike = function(element) {\n  return is(element, 'camunda:ServiceTaskLike');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:DmnCapable'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isDmnCapable = function(element) {\n  return is(element, 'camunda:DmnCapable');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:ExternalCapable'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isExternalCapable = function(element) {\n  return is(element, 'camunda:ExternalCapable');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:TaskListener'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isTaskListener = function(element) {\n  return is(element, 'camunda:TaskListener');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:ExecutionListener'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isExecutionListener = function(element) {\n  return is(element, 'camunda:ExecutionListener');\n};\n\n/**\n * Returns 'true' if the given element is 'camunda:ExecutionListener' or\n * 'camunda:TaskListener'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isListener = function(element) {\n  return this.isTaskListener(element) || this.isExecutionListener(element);\n};\n\n/**\n * Returns 'true' if the given element is 'bpmn:SequenceFlow'\n *\n * @param {djs.model.Base} element\n *\n * @return {boolean} a boolean value\n */\nImplementationTypeHelper.isSequenceFlow = function(element) {\n  return is(element, 'bpmn:SequenceFlow');\n};\n\n/**\n * Get a 'camunda:ServiceTaskLike' business object.\n *\n * If the given element is not a 'camunda:ServiceTaskLike', then 'false'\n * is returned.\n *\n * @param {djs.model.Base} element\n *\n * @return {ModdleElement} the 'camunda:ServiceTaskLike' business object\n */\nImplementationTypeHelper.getServiceTaskLikeBusinessObject = function(element) {\n\n  if (is(element, 'bpmn:IntermediateThrowEvent') || is(element, 'bpmn:EndEvent')) {\n\n    // change business object to 'messageEventDefinition' when\n    // the element is a message intermediate throw event or message end event\n    // because the camunda extensions (e.g. camunda:class) are in the message\n    // event definition tag and not in the intermediate throw event or end event tag\n    var messageEventDefinition = eventDefinitionHelper.getMessageEventDefinition(element);\n    if (messageEventDefinition) {\n      element = messageEventDefinition;\n    }\n  }\n\n  return this.isServiceTaskLike(element) && getBusinessObject(element);\n\n};\n\n/**\n * Returns the implementation type of the given element.\n *\n * Possible implementation types are:\n * - dmn\n * - connector\n * - external\n * - class\n * - expression\n * - delegateExpression\n * - script\n * - or undefined, when no matching implementation type is found\n *\n * @param  {djs.model.Base} element\n *\n * @return {String} the implementation type\n */\nImplementationTypeHelper.getImplementationType = function(element) {\n\n  var bo = this.getServiceTaskLikeBusinessObject(element);\n\n  if (!bo) {\n    if (this.isListener(element)) {\n      bo = element;\n    } else {\n      return;\n    }\n  }\n\n  if (this.isDmnCapable(bo)) {\n    var decisionRef = bo.get('camunda:decisionRef');\n    if (typeof decisionRef !== 'undefined') {\n      return 'dmn';\n    }\n  }\n\n  if (this.isServiceTaskLike(bo)) {\n    var connectors = extensionsElementHelper.getExtensionElements(bo, 'camunda:Connector');\n    if (typeof connectors !== 'undefined') {\n      return 'connector';\n    }\n  }\n\n  if (this.isExternalCapable(bo)) {\n    var type = bo.get('camunda:type');\n    if (type === 'external') {\n      return 'external';\n    }\n  }\n\n  var cls = bo.get('camunda:class');\n  if (typeof cls !== 'undefined') {\n    return 'class';\n  }\n\n  var expression = bo.get('camunda:expression');\n  if (typeof expression !== 'undefined') {\n    return 'expression';\n  }\n\n  var delegateExpression = bo.get('camunda:delegateExpression');\n  if (typeof delegateExpression !== 'undefined') {\n    return 'delegateExpression';\n  }\n\n  if (this.isListener(bo)) {\n    var script = bo.get('script');\n    if (typeof script !== 'undefined') {\n      return 'script';\n    }\n  }\n\n};\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar asyncCapableHelper = require('../../../../helper/AsyncCapableHelper'),\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nfunction isAsyncBefore(bo) {\n  return asyncCapableHelper.isAsyncBefore(bo);\n}\n\nfunction isAsyncAfter(bo) {\n  return asyncCapableHelper.isAsyncAfter(bo);\n}\n\nfunction isExclusive(bo) {\n  return asyncCapableHelper.isExclusive(bo);\n}\n\nfunction removeFailedJobRetryTimeCycle(bo, element) {\n  return asyncCapableHelper.removeFailedJobRetryTimeCycle(bo, element);\n}\n\nfunction canRemoveFailedJobRetryTimeCycle(element) {\n  return !eventDefinitionHelper.getTimerEventDefinition(element);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var idPrefix = options.idPrefix || '',\n      labelPrefix = options.labelPrefix || '';\n\n\n  var asyncBeforeEntry = entryFactory.checkbox({\n    id: idPrefix + 'asyncBefore',\n    label: labelPrefix + translate('Asynchronous Before'),\n    modelProperty: 'asyncBefore',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        asyncBefore: isAsyncBefore(bo)\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      var asyncBefore = !!values.asyncBefore;\n\n      var props = {\n        'camunda:asyncBefore': asyncBefore,\n        'camunda:async': false\n      };\n\n      var commands = [];\n      if (!isAsyncAfter(bo) && !asyncBefore) {\n        props = assign({ 'camunda:exclusive' : true }, props);\n        if (canRemoveFailedJobRetryTimeCycle(element)) {\n          commands.push(removeFailedJobRetryTimeCycle(bo, element));\n        }\n      }\n\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n      return commands;\n    }\n  });\n\n\n  var asyncAfterEntry = entryFactory.checkbox({\n    id: idPrefix + 'asyncAfter',\n    label: labelPrefix + translate('Asynchronous After'),\n    modelProperty: 'asyncAfter',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        asyncAfter: isAsyncAfter(bo)\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      var asyncAfter = !!values.asyncAfter;\n\n      var props = {\n        'camunda:asyncAfter': asyncAfter\n      };\n\n      var commands = [];\n      if (!isAsyncBefore(bo) && !asyncAfter) {\n        props = assign({ 'camunda:exclusive' : true }, props);\n        if (canRemoveFailedJobRetryTimeCycle(element)) {\n          commands.push(removeFailedJobRetryTimeCycle(bo, element));\n        }\n      }\n\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\n      return commands;\n    }\n  });\n\n\n  var exclusiveEntry = entryFactory.checkbox({\n    id: idPrefix + 'exclusive',\n    label: labelPrefix + translate('Exclusive'),\n    modelProperty: 'exclusive',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return { exclusive: isExclusive(bo) };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, { 'camunda:exclusive': !!values.exclusive });\n    },\n\n    hidden: function(element) {\n      var bo = getBusinessObject(element);\n      return bo && !isAsyncAfter(bo) && !isAsyncBefore(bo);\n    }\n  });\n\n  return [ asyncBeforeEntry, asyncAfterEntry, exclusiveEntry ];\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\n\nvar find = require('lodash/find');\n\n\nvar TEMPLATE_ATTR = 'camunda:modelerTemplate';\n\n/**\n * The BPMN 2.0 extension attribute name under\n * which the element template is stored.\n *\n * @type {String}\n */\nmodule.exports.TEMPLATE_ATTR = TEMPLATE_ATTR;\n\n\n/**\n * Get template id for a given diagram element.\n *\n * @param {djs.model.Base} element\n *\n * @return {String}\n */\nfunction getTemplateId(element) {\n\n  var bo = getBusinessObject(element);\n\n  if (bo) {\n    return bo.get(TEMPLATE_ATTR);\n  }\n}\n\nmodule.exports.getTemplateId = getTemplateId;\n\n\n/**\n * Get template of a given element.\n *\n * @param {Element} element\n * @param {ElementTemplates} elementTemplates\n *\n * @return {TemplateDefinition}\n */\nfunction getTemplate(element, elementTemplates) {\n  var id = getTemplateId(element);\n\n  return id && elementTemplates.get(id);\n}\n\nmodule.exports.getTemplate = getTemplate;\n\n/**\n * Get default template for a given element.\n *\n * @param {Element} element\n * @param {ElementTemplates} elementTemplates\n *\n * @return {TemplateDefinition}\n */\nfunction getDefaultTemplate(element, elementTemplates) {\n\n  // return first default template, if any exists\n  return (\n    elementTemplates.getAll().filter(function(t) {\n      return isAny(element, t.appliesTo) && t.isDefault;\n    })\n  )[0];\n}\n\nmodule.exports.getDefaultTemplate = getDefaultTemplate;\n\n\n/**\n * Find extension with given type in\n * BPMN element, diagram element or ExtensionElement.\n *\n * @param {ModdleElement|djs.model.Base} element\n * @param {String} type\n *\n * @return {ModdleElement} the extension\n */\nfunction findExtension(element, type) {\n  var bo = getBusinessObject(element);\n\n  var extensionElements;\n\n  if (is(bo, 'bpmn:ExtensionElements')) {\n    extensionElements = bo;\n  } else {\n    extensionElements = bo.extensionElements;\n  }\n\n  if (!extensionElements) {\n    return null;\n  }\n\n  return find(extensionElements.get('values'), function(e) {\n    return is(e, type);\n  });\n}\n\nmodule.exports.findExtension = findExtension;\n\n\nfunction findExtensions(element, types) {\n  var extensionElements = getExtensionElements(element);\n\n  if (!extensionElements) {\n    return [];\n  }\n\n  return extensionElements.get('values').filter(function(e) {\n    return isAny(e, types);\n  });\n}\n\nmodule.exports.findExtensions = findExtensions;\n\n\nfunction findCamundaInOut(element, binding) {\n\n  var extensionElements = getExtensionElements(element);\n\n  if (!extensionElements) {\n    return;\n  }\n\n  var matcher;\n\n  if (binding.type === 'camunda:in') {\n    matcher = function(e) {\n      return is(e, 'camunda:In') && isInOut(e, binding);\n    };\n  } else\n  if (binding.type === 'camunda:out') {\n    matcher = function(e) {\n      return is(e, 'camunda:Out') && isInOut(e, binding);\n    };\n  } else\n  if (binding.type === 'camunda:in:businessKey') {\n    matcher = function(e) {\n      return is(e, 'camunda:In') && 'businessKey' in e;\n    };\n  }\n\n  return find(extensionElements.get('values'), matcher);\n}\n\nmodule.exports.findCamundaInOut = findCamundaInOut;\n\nfunction findCamundaProperty(camundaProperties, binding) {\n  return find(camundaProperties.get('values'), function(p) {\n    return p.name === binding.name;\n  });\n}\n\nmodule.exports.findCamundaProperty = findCamundaProperty;\n\n\nfunction findInputParameter(inputOutput, binding) {\n  var parameters = inputOutput.get('inputParameters');\n\n  return find(parameters, function(p) {\n    return p.name === binding.name;\n  });\n}\n\nmodule.exports.findInputParameter = findInputParameter;\n\n\nfunction findOutputParameter(inputOutput, binding) {\n  var parameters = inputOutput.get('outputParameters');\n\n  return find(parameters, function(p) {\n    var value = p.value;\n\n    if (!binding.scriptFormat) {\n      return value === binding.source;\n    }\n\n    var definition = p.definition;\n\n    if (!definition || binding.scriptFormat !== definition.scriptFormat) {\n      return false;\n    }\n\n    return definition.value === binding.source;\n  });\n}\n\nmodule.exports.findOutputParameter = findOutputParameter;\n\n\n\n// helpers /////////////////////////////////\n\nfunction getExtensionElements(element) {\n  var bo = getBusinessObject(element);\n\n  if (is(bo, 'bpmn:ExtensionElements')) {\n    return bo;\n  } else {\n    return bo.extensionElements;\n  }\n}\n\n\nfunction isInOut(element, binding) {\n\n  if (binding.type === 'camunda:in') {\n    // find based on target attribute\n    if (binding.target) {\n      return element.target === binding.target;\n    }\n  }\n\n  if (binding.type === 'camunda:out') {\n    // find based on source / sourceExpression\n    if (binding.source) {\n      return element.source === binding.source;\n    }\n\n    if (binding.sourceExpression) {\n      return element.sourceExpression === binding.sourceExpression;\n    }\n  }\n\n  // find based variables / local combination\n  if (binding.variables) {\n    return element.variables === 'all' && (\n      binding.variables !== 'local' || element.local\n    );\n  }\n}\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","'use strict';\n\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\n    InputOutputHelper = require('../../../helper/InputOutputHelper');\n\nvar entryFactory = require('../../../factory/EntryFactory'),\n    cmdHelper = require('../../../helper/CmdHelper');\n\nfunction getImplementationType(element) {\n  return ImplementationTypeHelper.getImplementationType(element);\n}\n\nfunction getBusinessObject(element) {\n  return ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\n}\n\nfunction getConnector(bo) {\n  return InputOutputHelper.getConnector(bo);\n}\n\nfunction isConnector(element) {\n  return getImplementationType(element) === 'connector';\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  group.entries.push(entryFactory.textField({\n    id: 'connectorId',\n    label: translate('Connector Id'),\n    modelProperty: 'connectorId',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      var connector = bo && getConnector(bo);\n      var value = connector && connector.get('connectorId');\n      return { connectorId: value };\n    },\n\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element);\n      var connector = getConnector(bo);\n      return cmdHelper.updateBusinessObject(element, connector, {\n        connectorId: values.connectorId || undefined\n      });\n    },\n\n    validate: function(element, values, node) {\n      return isConnector(element) && !values.connectorId ? { connectorId: translate('Must provide a value') } : {};\n    },\n\n    hidden: function(element, node) {\n      return !isConnector(element);\n    }\n\n  }));\n\n};\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\n// input entities\nvar textInputField = require('./TextInputEntryFactory'),\n    checkboxField = require('./CheckboxEntryFactory'),\n    selectBoxField = require('./SelectEntryFactory'),\n    comboBoxField = require('./ComboEntryFactory'),\n    textBoxField = require('./TextBoxEntryFactory'),\n    validationAwareTextInputField = require('./ValidationAwareTextInput'),\n    tableField = require('./TableEntryFactory'),\n    labelEntry = require('./LabelFactory'),\n    link = require('./LinkEntryFactory');\n\nvar cmdHelper = require('../helper/CmdHelper');\n\n// helpers ////////////////////////////////////////\n\nfunction ensureNotNull(prop) {\n  if (!prop) {\n    throw new Error(prop + ' must be set.');\n  }\n\n  return prop;\n}\n\n/**\n * sets the default parameters which are needed to create an entry\n *\n * @param options\n * @returns {{id: *, description: (*|string), get: (*|Function), set: (*|Function),\n *            validate: (*|Function), html: string}}\n */\nvar setDefaultParameters = function(options) {\n\n  // default method to fetch the current value of the input field\n  var defaultGet = function(element) {\n    var bo = getBusinessObject(element),\n        res = {},\n        prop = ensureNotNull(options.modelProperty);\n    res[prop] = bo.get(prop);\n\n    return res;\n  };\n\n  // default method to set a new value to the input field\n  var defaultSet = function(element, values) {\n    var res = {},\n        prop = ensureNotNull(options.modelProperty);\n    if (values[prop] !== '') {\n      res[prop] = values[prop];\n    } else {\n      res[prop] = undefined;\n    }\n\n    return cmdHelper.updateProperties(element, res);\n  };\n\n  // default validation method\n  var defaultValidate = function() {\n    return {};\n  };\n\n  return {\n    id : options.id,\n    description : (options.description || ''),\n    get : (options.get || defaultGet),\n    set : (options.set || defaultSet),\n    validate : (options.validate || defaultValidate),\n    html: ''\n  };\n};\n\nfunction EntryFactory() {\n\n}\n\n/**\n * Generates an text input entry object for a property panel.\n * options are:\n * - id: id of the entry - String\n *\n * - description: description of the property - String\n *\n * - label: label for the input field - String\n *\n * - set: setter method - Function\n *\n * - get: getter method - Function\n *\n * - validate: validation mehtod - Function\n *\n * - modelProperty: name of the model property - String\n *\n * - buttonAction: Object which contains the following properties: - Object\n * ---- name: name of the [data-action] callback - String\n * ---- method: callback function for [data-action] - Function\n *\n * - buttonShow: Object which contains the following properties: - Object\n * ---- name: name of the [data-show] callback - String\n * ---- method: callback function for [data-show] - Function\n *\n * @param options\n * @returns the propertyPanel entry resource object\n */\nEntryFactory.textField = function(options) {\n  return textInputField(options, setDefaultParameters(options));\n};\n\nEntryFactory.validationAwareTextField = function(options) {\n  return validationAwareTextInputField(options, setDefaultParameters(options));\n};\n\n/**\n * Generates a checkbox input entry object for a property panel.\n * options are:\n * - id: id of the entry - String\n *\n * - description: description of the property - String\n *\n * - label: label for the input field - String\n *\n * - set: setter method - Function\n *\n * - get: getter method - Function\n *\n * - validate: validation method - Function\n *\n * - modelProperty: name of the model property - String\n *\n * @param options\n * @returns the propertyPanel entry resource object\n */\nEntryFactory.checkbox = function(options) {\n  return checkboxField(options, setDefaultParameters(options));\n};\n\nEntryFactory.textBox = function(options) {\n  return textBoxField(options, setDefaultParameters(options));\n};\n\nEntryFactory.selectBox = function(options) {\n  return selectBoxField(options, setDefaultParameters(options));\n};\n\nEntryFactory.comboBox = function(options) {\n  return comboBoxField(options);\n};\n\nEntryFactory.table = function(options) {\n  return tableField(options);\n};\n\nEntryFactory.label = function(options) {\n  return labelEntry(options);\n};\n\nEntryFactory.link = function(options) {\n  return link(options);\n};\n\nmodule.exports = EntryFactory;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    getTemplate = require('../Helper').getTemplate,\n    getTemplateId = require('../Helper').getTemplateId;\n\nvar find = require('lodash/find');\n\nvar TEMPLATE_ATTR = require('../Helper').TEMPLATE_ATTR;\n\nfunction isAny(element, types) {\n  return types.reduce(function(result, type) {\n    return result || is(element, type);\n  }, false);\n}\n\n\nmodule.exports = function(group, element, elementTemplates, translate) {\n\n  var options = getTemplateOptions(element, elementTemplates, translate);\n\n  if (options.length === 1 && !options[0].isDefault) {\n    return;\n  }\n\n  // select element template (via dropdown)\n  group.entries.push(entryFactory.selectBox({\n    id: 'elementTemplate-chooser',\n    label: translate('Element Template'),\n    modelProperty: 'activiti:modelerTemplate',\n    selectOptions: options,\n    set: function(element, properties) {\n      return applyTemplate(element, properties[TEMPLATE_ATTR], elementTemplates);\n    },\n    disabled: function() {\n      var template = getTemplate(element, elementTemplates);\n\n      return template && isDefaultTemplate(template);\n    }\n  }));\n\n};\n\n\n// helpers //////////////////////////////////////\n\nfunction applyTemplate(element, newTemplateId, elementTemplates) {\n\n  // cleanup\n  // clear input output mappings\n  // undo changes to properties defined in template\n\n  // re-establish\n  // set input output mappings\n  // apply changes to properties as defined in new template\n\n  var oldTemplate = getTemplate(element, elementTemplates),\n      newTemplate = elementTemplates.get(newTemplateId);\n\n  if (oldTemplate === newTemplate) {\n    return;\n  }\n\n  return {\n    cmd: 'propertiesPanel.activiti.changeTemplate',\n    context: {\n      element: element,\n      oldTemplate: oldTemplate,\n      newTemplate: newTemplate\n    }\n  };\n}\n\nfunction getTemplateOptions(element, elementTemplates, translate) {\n\n  var currentTemplateId = getTemplateId(element);\n\n  var emptyOption = {\n    name: '',\n    value: ''\n  };\n\n  var allOptions = elementTemplates.getAll().reduce(function(templates, t) {\n    if (!isAny(element, t.appliesTo)) {\n      return templates;\n    }\n\n    return templates.concat({\n      name: translate(t.name),\n      value: t.id,\n      isDefault: t.isDefault\n    });\n  }, [ emptyOption ]);\n\n\n  var defaultOption = find(allOptions, function(option) {\n    return isDefaultTemplate(option);\n  });\n\n  var currentOption = find(allOptions, function(option) {\n    return option.value === currentTemplateId;\n  });\n\n  if (currentTemplateId && !currentOption) {\n    currentOption = unknownTemplate(currentTemplateId, translate);\n\n    allOptions.push(currentOption);\n  }\n\n  if (!defaultOption) {\n\n    // return all options, including empty\n    // and optionally unknownTemplate option\n    return allOptions;\n  }\n\n  // special limited handling for\n  // default options\n\n  var options = [];\n\n  // current template not set\n  if (!currentTemplateId) {\n    options.push({\n      name: '',\n      value: ''\n    });\n  }\n\n  // current template not default\n  if (currentOption && currentOption !== defaultOption) {\n    options.push(currentOption);\n  }\n\n  options.push(defaultOption);\n\n  // [ (empty), (current), defaultOption ]\n  return options;\n}\n\nfunction unknownTemplate(templateId, translate) {\n  return {\n    name: translate('[unknown template: {templateId}]', { templateId: templateId }),\n    value: templateId\n  };\n}\n\nfunction isDefaultTemplate(elementTemplate) {\n  return elementTemplate.isDefault;\n}","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n","import mod from \"-!../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./bpmn-embedded.css?vue&type=style&index=2&lang=css&\"; export default mod; export * from \"-!../../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./bpmn-embedded.css?vue&type=style&index=2&lang=css&\"","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","'use strict';\n\nvar assign = require('lodash/assign');\n\nvar inputOutputParameter = require('./implementation/InputOutputParameter');\n\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\n\n  options = assign({\n    idPrefix: 'connector-',\n    insideConnector: true\n  }, options);\n\n  group.entries = group.entries.concat(inputOutputParameter(element, bpmnFactory, options, translate));\n\n};\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * The base implementation of methods like `_.xor`, without support for\n * iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of values.\n */\nfunction baseXor(arrays, iteratee, comparator) {\n  var length = arrays.length;\n  if (length < 2) {\n    return length ? baseUniq(arrays[0]) : [];\n  }\n  var index = -1,\n      result = Array(length);\n\n  while (++index < length) {\n    var array = arrays[index],\n        othIndex = -1;\n\n    while (++othIndex < length) {\n      if (othIndex != index) {\n        result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n      }\n    }\n  }\n  return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n}\n\nmodule.exports = baseXor;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar candidateStarter = require('./implementation/CandidateStarter');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'camunda:Process') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(candidateStarter(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n\n  }\n};\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar elementHelper = require('../../../../helper/ElementHelper'),\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    inputOutputHelper = require('../../../../helper/InputOutputHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar extensionElementsEntry = require('./ExtensionElements');\n\n\nfunction getInputOutput(element, insideConnector) {\n  return inputOutputHelper.getInputOutput(element, insideConnector);\n}\n\nfunction getConnector(element) {\n  return inputOutputHelper.getConnector(element);\n}\n\nfunction getInputParameters(element, insideConnector) {\n  return inputOutputHelper.getInputParameters(element, insideConnector);\n}\n\nfunction getOutputParameters(element, insideConnector) {\n  return inputOutputHelper.getOutputParameters(element, insideConnector);\n}\n\nfunction getInputParameter(element, insideConnector, idx) {\n  return inputOutputHelper.getInputParameter(element, insideConnector, idx);\n}\n\nfunction getOutputParameter(element, insideConnector, idx) {\n  return inputOutputHelper.getOutputParameter(element, insideConnector, idx);\n}\n\n\nfunction createElement(type, parent, factory, properties) {\n  return elementHelper.createElement(type, properties, parent, factory);\n}\n\nfunction createInputOutput(parent, bpmnFactory, properties) {\n  return createElement('activiti:InputOutput', parent, bpmnFactory, properties);\n}\n\nfunction createParameter(type, parent, bpmnFactory, properties) {\n  return createElement(type, parent, bpmnFactory, properties);\n}\n\n\nfunction ensureInputOutputSupported(element, insideConnector) {\n  return inputOutputHelper.isInputOutputSupported(element, insideConnector);\n}\n\nfunction ensureOutparameterSupported(element, insideConnector) {\n  return inputOutputHelper.areOutputParametersSupported(element, insideConnector);\n}\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var TYPE_LABEL = {\n    'activiti:Map': translate('Map'),\n    'activiti:List': translate('List'),\n    'activiti:Script': translate('Script')\n  };\n\n  options = options || {};\n\n  var insideConnector = !!options.insideConnector,\n      idPrefix = options.idPrefix || '';\n\n  var getSelected = function(element, node) {\n    var selection = (inputEntry && inputEntry.getSelected(element, node)) || { idx: -1 };\n\n    var parameter = getInputParameter(element, insideConnector, selection.idx);\n    if (!parameter && outputEntry) {\n      selection = outputEntry.getSelected(element, node);\n      parameter = getOutputParameter(element, insideConnector, selection.idx);\n    }\n    return parameter;\n  };\n\n  var result = {\n    getSelectedParameter: getSelected\n  };\n\n  var entries = result.entries = [];\n\n  if (!ensureInputOutputSupported(element)) {\n    return result;\n  }\n\n  var newElement = function(type, prop, factory) {\n\n    return function(element, extensionElements, value) {\n      var commands = [];\n\n      var inputOutput = getInputOutput(element, insideConnector);\n      if (!inputOutput) {\n        var parent = !insideConnector ? extensionElements : getConnector(element);\n        inputOutput = createInputOutput(parent, bpmnFactory, {\n          inputParameters: [],\n          outputParameters: []\n        });\n\n        if (!insideConnector) {\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\n            element,\n            extensionElements,\n            'values',\n            'extensionElements',\n            [ inputOutput ],\n            []\n          ));\n        } else {\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { inputOutput: inputOutput }));\n        }\n      }\n\n      var newElem = createParameter(type, inputOutput, bpmnFactory, { name: value });\n      commands.push(cmdHelper.addElementsTolist(element, inputOutput, prop, [ newElem ]));\n\n      return commands;\n    };\n  };\n\n  var removeElement = function(getter, prop, otherProp) {\n    return function(element, extensionElements, value, idx) {\n      var inputOutput = getInputOutput(element, insideConnector);\n      var parameter = getter(element, insideConnector, idx);\n\n      var commands = [];\n      commands.push(cmdHelper.removeElementsFromList(element, inputOutput, prop, null, [ parameter ]));\n\n      var firstLength = inputOutput.get(prop).length-1;\n      var secondLength = (inputOutput.get(otherProp) || []).length;\n\n      if (!firstLength && !secondLength) {\n\n        if (!insideConnector) {\n          commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, inputOutput));\n        } else {\n          var connector = getConnector(element);\n          commands.push(cmdHelper.updateBusinessObject(element, connector, { inputOutput: undefined }));\n        }\n\n      }\n\n      return commands;\n    };\n  };\n\n  var setOptionLabelValue = function(getter) {\n    return function(element, node, option, property, value, idx) {\n      var parameter = getter(element, insideConnector, idx);\n\n      var suffix = 'Text';\n\n      var definition = parameter.get('definition');\n      if (typeof definition !== 'undefined') {\n        var type = definition.$type;\n        suffix = TYPE_LABEL[type];\n      }\n\n      option.text = (value || '') + ' : ' + suffix;\n    };\n  };\n\n\n  // input parameters ///////////////////////////////////////////////////////////////\n\n  var inputEntry = extensionElementsEntry(element, bpmnFactory, {\n    id: idPrefix + 'inputs',\n    label: translate('Input Parameters'),\n    modelProperty: 'name',\n    prefix: 'Input',\n    resizable: true,\n\n    createExtensionElement: newElement('activiti:InputParameter', 'inputParameters'),\n    removeExtensionElement: removeElement(getInputParameter, 'inputParameters', 'outputParameters'),\n\n    getExtensionElements: function(element) {\n      return getInputParameters(element, insideConnector);\n    },\n\n    onSelectionChange: function(element, node, event, scope) {\n      outputEntry && outputEntry.deselect(element, node);\n    },\n\n    setOptionLabelValue: setOptionLabelValue(getInputParameter)\n\n  });\n  entries.push(inputEntry);\n\n\n  // output parameters ///////////////////////////////////////////////////////\n\n  if (ensureOutparameterSupported(element, insideConnector)) {\n    var outputEntry = extensionElementsEntry(element, bpmnFactory, {\n      id: idPrefix + 'outputs',\n      label: translate('Output Parameters'),\n      modelProperty: 'name',\n      prefix: 'Output',\n      resizable: true,\n\n      createExtensionElement: newElement('activiti:OutputParameter', 'outputParameters'),\n      removeExtensionElement: removeElement(getOutputParameter, 'outputParameters', 'inputParameters'),\n\n      getExtensionElements: function(element) {\n        return getOutputParameters(element, insideConnector);\n      },\n\n      onSelectionChange: function(element, node, event, scope) {\n        inputEntry.deselect(element, node);\n      },\n\n      setOptionLabelValue: setOptionLabelValue(getOutputParameter)\n\n    });\n    entries.push(outputEntry);\n  }\n\n  return result;\n\n};\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var jobPriorityEntry = entryFactory.textField({\n    id: 'jobPriority',\n    label: translate('Job Priority'),\n    modelProperty: 'jobPriority',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        jobPriority: bo.get('activiti:jobPriority')\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'activiti:jobPriority': values.jobPriority || undefined\n      });\n    }\n\n  });\n\n  return [ jobPriorityEntry ];\n\n};\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","'use strict';\n\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\n    getExtensionElements = require('../../../helper/ExtensionElementsHelper').getExtensionElements,\n    removeEntry = require('../../../helper/ExtensionElementsHelper').removeEntry,\n    extensionElements = require('./implementation/ExtensionElements'),\n    properties = require('./implementation/Properties'),\n    entryFactory = require('../../../factory/EntryFactory'),\n    elementHelper = require('../../../helper/ElementHelper'),\n    cmdHelper = require('../../../helper/CmdHelper'),\n    formHelper = require('../../../helper/FormHelper'),\n    utils = require('../../../Utils'),\n    is = require('bpmn-js/lib/util/ModelUtil').is,\n    find = require('lodash/find'),\n    each = require('lodash/forEach');\n\nfunction generateValueId() {\n  return utils.nextId('Value_');\n}\n\n/**\n * Generate a form field specific textField using entryFactory.\n *\n * @param  {string} options.id\n * @param  {string} options.label\n * @param  {string} options.modelProperty\n * @param  {function} options.validate\n *\n * @return {Object} an entryFactory.textField object\n */\nfunction formFieldTextField(options, getSelectedFormField) {\n\n  var id = options.id,\n      label = options.label,\n      modelProperty = options.modelProperty,\n      validate = options.validate;\n\n  return entryFactory.textField({\n    id: id,\n    label: label,\n    modelProperty: modelProperty,\n    get: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node) || {},\n          values = {};\n\n      values[modelProperty] = selectedFormField[modelProperty];\n\n      return values;\n    },\n\n    set: function(element, values, node) {\n      var commands = [];\n\n      if (typeof options.set === 'function') {\n        var cmd = options.set(element, values, node);\n\n        if (cmd) {\n          commands.push(cmd);\n        }\n      }\n\n      var formField = getSelectedFormField(element, node),\n          properties = {};\n\n      properties[modelProperty] = values[modelProperty] || undefined;\n\n      commands.push(cmdHelper.updateBusinessObject(element, formField, properties));\n\n      return commands;\n    },\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    },\n    validate: validate\n  });\n}\n\nfunction ensureFormKeyAndDataSupported(element) {\n  return (\n    is(element, 'bpmn:StartEvent') && !is(element.parent, 'bpmn:SubProcess')\n  ) || is(element, 'bpmn:UserTask');\n}\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n\n  if (!ensureFormKeyAndDataSupported(element)) {\n    return;\n  }\n\n\n  /**\n   * Return the currently selected form field querying the form field select box\n   * from the DOM.\n   *\n   * @param  {djs.model.Base} element\n   * @param  {DOMElement} node - DOM element of any form field text input\n   *\n   * @return {ModdleElement} the currently selected form field\n   */\n  function getSelectedFormField(element, node) {\n    var selected = formFieldsEntry.getSelected(element, node.parentNode);\n\n    if (selected.idx === -1) {\n      return;\n    }\n\n    return formHelper.getFormField(element, selected.idx);\n  }\n\n  // [FormKey] form key text input field\n  group.entries.push(entryFactory.textField({\n    id : 'form-key',\n    label : translate('Form Key'),\n    modelProperty: 'formKey',\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n\n      return {\n        formKey: bo.get('camunda:formKey')\n      };\n    },\n    set: function(element, values, node) {\n      var bo = getBusinessObject(element),\n          formKey = values.formKey || undefined;\n\n      return cmdHelper.updateBusinessObject(element, bo, { 'camunda:formKey': formKey });\n    }\n  }));\n\n  // [FormData] form field select box\n  var formFieldsEntry = extensionElements(element, bpmnFactory, {\n    id: 'form-fields',\n    label: translate('Form Fields'),\n    modelProperty: 'id',\n    prefix: 'FormField',\n    createExtensionElement: function(element, extensionElements, value) {\n      var bo = getBusinessObject(element), commands = [];\n\n      if (!extensionElements) {\n        extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\n        commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));\n      }\n\n      var formData = formHelper.getFormData(element);\n\n      if (!formData) {\n        formData = elementHelper.createElement('camunda:FormData', { fields: [] }, extensionElements, bpmnFactory);\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\n          element,\n          extensionElements,\n          'values',\n          'extensionElements',\n          [formData],\n          []\n        ));\n      }\n\n      var field = elementHelper.createElement('camunda:FormField', { id: value }, formData, bpmnFactory);\n      if (typeof formData.fields !== 'undefined') {\n        commands.push(cmdHelper.addElementsTolist(element, formData, 'fields', [ field ]));\n      } else {\n        commands.push(cmdHelper.updateBusinessObject(element, formData, {\n          fields: [ field ]\n        }));\n      }\n      return commands;\n    },\n    removeExtensionElement: function(element, extensionElements, value, idx) {\n      var formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0],\n          entry = formData.fields[idx],\n          commands = [];\n\n      if (formData.fields.length < 2) {\n        commands.push(removeEntry(getBusinessObject(element), element, formData));\n      } else {\n        commands.push(cmdHelper.removeElementsFromList(element, formData, 'fields', null, [entry]));\n\n        if (entry.id === formData.get('businessKey')) {\n          commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n        }\n      }\n\n      return commands;\n    },\n    getExtensionElements: function(element) {\n      return formHelper.getFormFields(element);\n    },\n    hideExtensionElements: function(element, node) {\n      return false;\n    }\n  });\n  group.entries.push(formFieldsEntry);\n\n  // [FormData] business key form field select box\n  var formBusinessKeyFormFieldEntry = entryFactory.selectBox({\n    id: 'form-business-key',\n    label: translate('Business Key'),\n    modelProperty: 'businessKey',\n    selectOptions: function(element, inputNode) {\n      var selectOptions = [{ name: '', value: '' }];\n      var formFields = formHelper.getFormFields(element);\n      each(formFields, function(field) {\n        if (field.type !== 'boolean') {\n          selectOptions.push({ name: field.id, value: field.id });\n        }\n      });\n      return selectOptions;\n    },\n    get: function(element, node) {\n      var result = { businessKey: '' };\n      var bo = getBusinessObject(element);\n      var formDataExtension = getExtensionElements(bo, 'camunda:FormData');\n      if (formDataExtension) {\n        var formData = formDataExtension[0];\n        var storedValue = formData.get('businessKey');\n        result = { businessKey: storedValue };\n      }\n      return result;\n    },\n    set: function(element, values, node) {\n      var formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0];\n      return cmdHelper.updateBusinessObject(element, formData, { 'businessKey': values.businessKey || undefined });\n    },\n    hidden: function(element, node) {\n      var isStartEvent = is(element,'bpmn:StartEvent');\n      return !(isStartEvent && formHelper.getFormFields(element).length > 0);\n    }\n  });\n  group.entries.push(formBusinessKeyFormFieldEntry);\n\n  // [FormData] Form Field label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-header',\n    labelText: translate('Form Field'),\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] form field id text input field\n  group.entries.push(entryFactory.validationAwareTextField({\n    id: 'form-field-id',\n    label: translate('ID'),\n    modelProperty: 'id',\n\n    getProperty: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node) || {};\n\n      return selectedFormField.id;\n    },\n\n    setProperty: function(element, properties, node) {\n      var formField = getSelectedFormField(element, node);\n\n      return cmdHelper.updateBusinessObject(element, formField, properties);\n    },\n\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    },\n\n    validate: function(element, values, node) {\n\n      var formField = getSelectedFormField(element, node);\n\n      if (formField) {\n\n        var idValue = values.id;\n\n        if (!idValue || idValue.trim() === '') {\n          return { id: 'Form field id must not be empty' };\n        }\n\n        var formFields = formHelper.getFormFields(element);\n\n        var existingFormField = find(formFields, function(f) {\n          return f !== formField && f.id === idValue;\n        });\n\n        if (existingFormField) {\n          return { id: 'Form field id already used in form data.' };\n        }\n      }\n    }\n  }));\n\n  // [FormData] form field type combo box\n  group.entries.push(entryFactory.comboBox({\n    id: 'form-field-type',\n    label: translate('Type'),\n    selectOptions: [\n      { name: 'string', value: 'string' },\n      { name: 'long', value: 'long' },\n      { name: 'boolean', value: 'boolean' },\n      { name: 'date', value: 'date' },\n      { name: 'enum', value: 'enum' }\n    ],\n    modelProperty: 'type',\n    emptyParameter: true,\n\n    get: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      if (selectedFormField) {\n        return { type: selectedFormField.type };\n      } else {\n        return {};\n      }\n    },\n    set: function(element, values, node) {\n      var selectedFormField = getSelectedFormField(element, node),\n          formData = getExtensionElements(getBusinessObject(element), 'camunda:FormData')[0],\n          commands = [];\n\n      if (selectedFormField.type === 'enum' && values.type !== 'enum') {\n        // delete camunda:value objects from formField.values when switching from type enum\n        commands.push(cmdHelper.updateBusinessObject(element, selectedFormField, { values: undefined }));\n      }\n      if (values.type === 'boolean' && selectedFormField.get('id') === formData.get('businessKey')) {\n        commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\n      }\n      commands.push(cmdHelper.updateBusinessObject(element, selectedFormField, values));\n\n      return commands;\n    },\n    hidden: function(element, node) {\n      return !getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] form field label text input field\n  group.entries.push(formFieldTextField({\n    id: 'form-field-label',\n    label: translate('Label'),\n    modelProperty: 'label'\n  }, getSelectedFormField));\n\n  // [FormData] form field defaultValue text input field\n  group.entries.push(formFieldTextField({\n    id: 'form-field-defaultValue',\n    label: translate('Default Value'),\n    modelProperty: 'defaultValue'\n  }, getSelectedFormField));\n\n\n  // [FormData] form field enum values label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-enum-values-header',\n    labelText: translate('Values'),\n    divider: true,\n    showLabel: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return selectedFormField && selectedFormField.type === 'enum';\n    }\n  }));\n\n  // [FormData] form field enum values table\n  group.entries.push(entryFactory.table({\n    id: 'form-field-enum-values',\n    labels: [ translate('Id'), translate('Name') ],\n    modelProperties: [ 'id', 'name' ],\n    show: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return selectedFormField && selectedFormField.type === 'enum';\n    },\n    getElements: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node);\n\n      return formHelper.getEnumValues(selectedFormField);\n    },\n    addElement: function(element, node) {\n      var selectedFormField = getSelectedFormField(element, node),\n          id = generateValueId();\n\n      var enumValue = elementHelper.createElement(\n        'camunda:Value',\n        { id: id, name: undefined },\n        getBusinessObject(element),\n        bpmnFactory\n      );\n\n      return cmdHelper.addElementsTolist(element, selectedFormField, 'values', [enumValue]);\n    },\n    removeElement: function(element, node, idx) {\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      return cmdHelper.removeElementsFromList(element, selectedFormField, 'values', null, [enumValue]);\n    },\n    updateElement: function(element, value, node, idx) {\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      value.name = value.name || undefined;\n      return cmdHelper.updateBusinessObject(element, enumValue, value);\n    },\n    validate: function(element, value, node, idx) {\n\n      var selectedFormField = getSelectedFormField(element, node),\n          enumValue = selectedFormField.values[idx];\n\n      if (enumValue) {\n        // check if id is valid\n        var validationError = utils.isIdValid(enumValue, value.id, translate);\n\n        if (validationError) {\n          return { id: validationError };\n        }\n      }\n    }\n  }));\n\n  // [FormData] Validation label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-validation-header',\n    labelText: translate('Validation'),\n    divider: true,\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] form field constraints table\n  group.entries.push(entryFactory.table({\n    id: 'constraints-list',\n    modelProperties: [ 'name', 'config' ],\n    labels: [ translate('Name'), translate('Config') ],\n    addLabel: translate('Add Constraint'),\n    getElements: function(element, node) {\n      var formField = getSelectedFormField(element, node);\n\n      return formHelper.getConstraints(formField);\n    },\n    addElement: function(element, node) {\n\n      var commands = [],\n          formField = getSelectedFormField(element, node),\n          validation = formField.validation;\n\n      if (!validation) {\n        // create validation business object and add it to form data, if it doesn't exist\n        validation = elementHelper.createElement('camunda:Validation', {}, getBusinessObject(element), bpmnFactory);\n\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { 'validation': validation }));\n      }\n\n      var newConstraint = elementHelper.createElement(\n        'camunda:Constraint',\n        { name: undefined, config: undefined },\n        validation,\n        bpmnFactory\n      );\n\n      commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\n\n      return commands;\n    },\n    updateElement: function(element, value, node, idx) {\n      var formField = getSelectedFormField(element, node),\n          constraint = formHelper.getConstraints(formField)[idx];\n\n      value.name = value.name || undefined;\n      value.config = value.config || undefined;\n\n      return cmdHelper.updateBusinessObject(element, constraint, value);\n    },\n    removeElement: function(element, node, idx) {\n      var commands = [],\n          formField = getSelectedFormField(element, node),\n          constraints = formHelper.getConstraints(formField),\n          currentConstraint = constraints[idx];\n\n      commands.push(cmdHelper.removeElementsFromList(\n        element,\n        formField.validation,\n        'constraints',\n        null,\n        [ currentConstraint ]\n      ));\n\n      if (constraints.length === 1) {\n        // remove camunda:validation if the last existing constraint has been removed\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { validation: undefined }));\n      }\n\n      return commands;\n    },\n    show: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] Properties label\n  group.entries.push(entryFactory.label({\n    id: 'form-field-properties-header',\n    labelText: translate('Properties'),\n    divider: true,\n    showLabel: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }));\n\n  // [FormData] camunda:properties table\n  group.entries.push(properties(element, bpmnFactory, {\n    id: 'form-field-properties',\n    modelProperties: [ 'id', 'value' ],\n    labels: [ translate('Id'), translate('Value') ],\n    getParent: function(element, node) {\n      return getSelectedFormField(element, node);\n    },\n    show: function(element, node) {\n      return !!getSelectedFormField(element, node);\n    }\n  }, translate));\n};\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var isStartableInTasklistEntry = entryFactory.checkbox({\r\n    id: 'isStartableInTasklist',\r\n    label: translate('Startable'),\r\n    modelProperty: 'isStartableInTasklist',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var isStartableInTasklist = bo.get('camunda:isStartableInTasklist');\r\n\r\n      return {\r\n        isStartableInTasklist: isStartableInTasklist ? isStartableInTasklist : ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'camunda:isStartableInTasklist': !!values.isStartableInTasklist\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return [\r\n    isStartableInTasklistEntry\r\n  ];\r\n};\r\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar entryFactory = require('../../../factory/EntryFactory');\n\nvar participantHelper = require('../../../helper/ParticipantHelper');\n\nmodule.exports = function(group, element, translate) {\n\n  var bo = getBusinessObject(element);\n\n  if (!bo) {\n    return;\n  }\n\n  if (is(element, 'bpmn:Process') || (is(element, 'bpmn:Participant') && bo.get('processRef'))) {\n\n    var executableEntry = entryFactory.checkbox({\n      id: 'process-is-executable',\n      label: translate('Executable'),\n      modelProperty: 'isExecutable'\n    });\n\n    // in participants we have to change the default behavior of set and get\n    if (is(element, 'bpmn:Participant')) {\n      executableEntry.get = function(element) {\n        return participantHelper.getProcessBusinessObject(element, 'isExecutable');\n      };\n\n      executableEntry.set = function(element, values) {\n        return participantHelper.modifyProcessBusinessObject(element, 'isExecutable', values);\n      };\n    }\n\n    group.entries.push(executableEntry);\n  }\n\n};\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar eventDefinitionReference = require('./EventDefinitionReference'),\n    elementReferenceProperty = require('./ElementReferenceProperty');\n\n\nmodule.exports = function(group, element, bpmnFactory, escalationEventDefinition, showEscalationCodeVariable, translate) {\n\n  group.entries = group.entries.concat(eventDefinitionReference(element, escalationEventDefinition, bpmnFactory, {\n    label: translate('Escalation'),\n    elementName: 'escalation',\n    elementType: 'bpmn:Escalation',\n    referenceProperty: 'escalationRef',\n    newElementIdPrefix: 'Escalation_'\n  }));\n\n\n  group.entries = group.entries.concat(elementReferenceProperty(element, escalationEventDefinition, bpmnFactory, {\n    id: 'escalation-element-name',\n    label: translate('Escalation Name'),\n    referenceProperty: 'escalationRef',\n    modelProperty: 'name',\n    shouldValidate: true\n  }));\n\n\n  group.entries = group.entries.concat(elementReferenceProperty(element, escalationEventDefinition, bpmnFactory, {\n    id: 'escalation-element-code',\n    label: translate('Escalation Code'),\n    referenceProperty: 'escalationRef',\n    modelProperty: 'escalationCode'\n  }));\n\n\n  if (showEscalationCodeVariable) {\n    group.entries.push(entryFactory.textField({\n      id : 'escalationCodeVariable',\n      label : translate('Escalation Code Variable'),\n      modelProperty : 'escalationCodeVariable',\n\n      get: function(element) {\n        var codeVariable = escalationEventDefinition.get('camunda:escalationCodeVariable');\n        return {\n          escalationCodeVariable: codeVariable\n        };\n      },\n\n      set: function(element, values) {\n        return cmdHelper.updateBusinessObject(element, escalationEventDefinition, {\n          'camunda:escalationCodeVariable': values.escalationCodeVariable || undefined\n        });\n      }\n    }));\n  }\n};\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseSetData = require('./_baseSetData'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = shortOut(baseSetData);\n\nmodule.exports = setData;\n","'use strict';\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nvar domQuery = require('min-dom').query,\n    domify = require('min-dom').domify,\n    domAttr = require('min-dom').attr;\n\nvar forEach = require('lodash/forEach'),\n    find = require('lodash/find');\n\nvar elementHelper = require('../../../../helper/ElementHelper');\nvar utils = require('../../../../Utils'),\n    escapeHTML = utils.escapeHTML;\n\nvar selector = 'select[name=selectedElement]';\n\n/**\n * Get select box containing all elements.\n *\n * @param {DOMElement} node\n *\n * @return {DOMElement} the select box\n */\nfunction getSelectBox(node) {\n  return domQuery(selector, node.parentElement);\n}\n\n/**\n * Find element by given id.\n *\n * @param {ModdleElement} eventDefinition\n *\n * @return {ModdleElement} an element\n */\nfunction findElementById(eventDefinition, type, id) {\n  var elements = utils.findRootElementsByType(eventDefinition, type);\n  return find(elements, function(element) {\n    return element.id === id;\n  });\n}\n\n/**\n * Create an entry to modify the reference to an element from an\n * event definition.\n *\n * @param  {djs.model.Base} element\n * @param  {ModdleElement} definition\n * @param  {BpmnFactory} bpmnFactory\n * @param  {Object} options\n * @param  {string} options.label the label of the entry\n * @param  {string} options.description the description of the entry\n * @param  {string} options.elementName the name of the element\n * @param  {string} options.elementType the type of the element\n * @param  {string} options.referenceProperty the name of referencing property\n * @param  {string} options.newElementIdPrefix the prefix of a new created element\n *\n * @return {Array<Object>} return an array containing the entries\n */\nmodule.exports = function(element, definition, bpmnFactory, options) {\n\n  var elementName = options.elementName || '',\n      elementType = options.elementType,\n      referenceProperty = options.referenceProperty;\n\n  var newElementIdPrefix = options.newElementIdPrefix || 'elem_';\n\n  var label = options.label || '',\n      description = options.description || '';\n\n  var entries = [];\n\n  entries.push({\n\n    id: 'event-definitions-' + elementName,\n    description: description,\n    html: '<div class=\"bpp-row bpp-select\">' +\n             '<label for=\"camunda-' + escapeHTML(elementName) + '\">' + escapeHTML(label) + '</label>' +\n             '<div class=\"bpp-field-wrapper\">' +\n               '<select id=\"camunda-' + escapeHTML(elementName) + '\" name=\"selectedElement\" data-value>' +\n               '</select>' +\n               '<button class=\"add\" id=\"addElement\" data-action=\"addElement\"><span>+</span></button>' +\n             '</div>' +\n          '</div>',\n\n    get: function(element, entryNode) {\n      utils.updateOptionsDropDown(selector, definition, elementType, entryNode);\n      var reference = definition.get(referenceProperty);\n      return {\n        selectedElement: (reference && reference.id) || ''\n      };\n    },\n\n    set: function(element, values) {\n      var selection = values.selectedElement;\n\n      var props = {};\n\n      if (!selection || typeof selection === 'undefined') {\n        // remove reference to element\n        props[referenceProperty] = undefined;\n        return cmdHelper.updateBusinessObject(element, definition, props);\n      }\n\n      var commands = [];\n\n      var selectedElement = findElementById(definition, elementType, selection);\n      if (!selectedElement) {\n        var root = utils.getRoot(definition);\n\n        // create a new element\n        selectedElement = elementHelper.createElement(elementType, { name: selection }, root, bpmnFactory);\n        commands.push(cmdHelper.addAndRemoveElementsFromList(element, root, 'rootElements', null, [ selectedElement ]));\n      }\n\n      // update reference to element\n      props[referenceProperty] = selectedElement;\n      commands.push(cmdHelper.updateBusinessObject(element, definition, props));\n\n      return commands;\n    },\n\n    addElement: function(element, inputNode) {\n      // note: this generated id will be used as name\n      // of the element and not as id\n      var id = utils.nextId(newElementIdPrefix);\n\n      var optionTemplate = domify('<option value=\"' + escapeHTML(id) + '\"> (id='+escapeHTML(id)+')' + '</option>');\n\n      // add new option\n      var selectBox = getSelectBox(inputNode);\n      selectBox.insertBefore(optionTemplate, selectBox.firstChild);\n\n      // select new element in the select box\n      forEach(selectBox, function(option) {\n        if (option.value === id) {\n          domAttr(option, 'selected', 'selected');\n        } else {\n          domAttr(option, 'selected', null);\n        }\n      });\n\n      return true;\n    }\n\n  });\n\n  return entries;\n\n};\n","'use strict';\n\nvar eventDefinitionReference = require('./EventDefinitionReference'),\n    elementReferenceProperty = require('./ElementReferenceProperty');\n\n\nmodule.exports = function(group, element, bpmnFactory, messageEventDefinition, translate) {\n\n  group.entries = group.entries.concat(eventDefinitionReference(element, messageEventDefinition, bpmnFactory, {\n    label: translate('Message'),\n    elementName: 'message',\n    elementType: 'bpmn:Message',\n    referenceProperty: 'messageRef',\n    newElementIdPrefix: 'Message_'\n  }));\n\n\n  group.entries = group.entries.concat(elementReferenceProperty(element, messageEventDefinition, bpmnFactory, {\n    id: 'message-element-name',\n    label: translate('Message Name'),\n    referenceProperty: 'messageRef',\n    modelProperty: 'name',\n    shouldValidate: true\n  }));\n\n};\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","'use strict';\n\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\n\nvar jobPriority = require('./implementation/JobPriority'),\n    jobRetryTimeCycle = require('./implementation/JobRetryTimeCycle');\n\nmodule.exports = function(group, element, bpmnFactory, translate) {\n  var businessObject = getBusinessObject(element);\n\n  if (is(element, 'camunda:JobPriorized') ||\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\n\n    group.entries = group.entries.concat(jobPriority(element, bpmnFactory, {\n      getBusinessObject: function(element) {\n        var bo = getBusinessObject(element);\n\n        if (!is(bo, 'bpmn:Participant')) {\n          return bo;\n        }\n\n        return bo.get('processRef');\n      }\n    }, translate));\n  }\n\n  if (is(element, 'camunda:AsyncCapable')) {\n    group.entries = group.entries.concat(jobRetryTimeCycle(element, bpmnFactory, {\n      getBusinessObject: getBusinessObject\n    }, translate));\n  }\n\n};\n","'use strict';\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar cmdHelper = require('../../../../helper/CmdHelper');\n\nmodule.exports = function(element, bpmnFactory, options, translate) {\n\n  var getBusinessObject = options.getBusinessObject;\n\n  var externalTaskPriorityEntry = entryFactory.textField({\n    id: 'externalTaskPriority',\n    label: translate('Task Priority'),\n    modelProperty: 'taskPriority',\n\n    get: function(element, node) {\n      var bo = getBusinessObject(element);\n      return {\n        taskPriority: bo.get('activiti:taskPriority')\n      };\n    },\n\n    set: function(element, values) {\n      var bo = getBusinessObject(element);\n      return cmdHelper.updateBusinessObject(element, bo, {\n        'activiti:taskPriority': values.taskPriority || undefined\n      });\n    }\n\n  });\n\n  return [ externalTaskPriorityEntry ];\n\n};\n","'use strict';\n\nvar extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\n    elementHelper = require('../../../../helper/ElementHelper'),\n    cmdHelper = require('../../../../helper/CmdHelper');\n\nvar utils = require('../../../../Utils');\n\nvar entryFactory = require('../../../../factory/EntryFactory');\n\nvar extensionElementsEntry = require('./ExtensionElements');\n\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\n    getBusinessObject = ModelUtil.getBusinessObject;\n\nvar assign = require('lodash/assign');\n\n\nvar DEFAULT_PROPS = {\n  'stringValue': undefined,\n  'string': undefined,\n  'expression': undefined\n};\n\nvar CAMUNDA_FIELD_EXTENSION_ELEMENT = 'camunda:Field';\n\nmodule.exports = function(element, bpmnFactory, translate, options) {\n\n  options = options || {};\n\n  var insideListener = !!options.insideListener,\n      idPrefix = options.idPrefix || '',\n      getSelectedListener = options.getSelectedListener,\n      businessObject = options.businessObject || getBusinessObject(element);\n\n  var entries = [];\n\n  var isSelected = function(element, node) {\n    return getSelectedField(element, node);\n  };\n\n  function getSelectedField(element, node) {\n    var selected = fieldEntry.getSelected(element, node.parentNode);\n\n    if (selected.idx === -1) {\n      return;\n    }\n\n    var fields = getCamundaFields(element, node);\n\n    return fields[selected.idx];\n  }\n\n  function getCamundaFields(element, node) {\n    if (!insideListener) {\n      return (\n        businessObject &&\n        extensionElementsHelper.getExtensionElements(businessObject, CAMUNDA_FIELD_EXTENSION_ELEMENT)\n      ) || [];\n    }\n    return getCamundaListenerFields(element, node);\n  }\n\n  function getCamundaListenerFields(element, node) {\n    var selectedListener = getSelectedListener(element, node);\n    return selectedListener && selectedListener.fields || [];\n  }\n\n  function getFieldType(bo) {\n    var fieldType = 'string';\n\n    var expressionValue = bo && bo.expression;\n    var stringValue = bo && (bo.string || bo.stringValue);\n\n    if (typeof stringValue !== 'undefined') {\n      fieldType = 'string';\n    } else if (typeof expressionValue !== 'undefined') {\n      fieldType = 'expression';\n    }\n\n    return fieldType;\n  }\n\n  var setOptionLabelValue = function() {\n    return function(element, node, option, property, value, idx) {\n      var camundaFields = getCamundaFields(element, node);\n      var field = camundaFields[idx];\n\n      value = (field.name) ? field.name : '<empty>';\n\n      var label = idx + ' : ' + value;\n\n      option.text = label;\n    };\n  };\n\n  var newElement = function() {\n    return function(element, extensionElements, value, node) {\n\n      var props = {\n        name: '',\n        string: ''\n      };\n\n      var newFieldElem;\n\n      if (!insideListener) {\n\n        newFieldElem = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, props, extensionElements, bpmnFactory);\n        return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newFieldElem ]);\n\n      } else {\n\n        var selectedListener = getSelectedListener(element, node);\n        newFieldElem = elementHelper.createElement(CAMUNDA_FIELD_EXTENSION_ELEMENT, props, selectedListener, bpmnFactory);\n        return cmdHelper.addElementsTolist(element, selectedListener, 'fields', [ newFieldElem ]);\n\n      }\n\n    };\n  };\n\n  var removeElement = function() {\n    return function(element, extensionElements, value, idx, node) {\n      var camundaFields= getCamundaFields(element, node);\n      var field = camundaFields[idx];\n      if (field) {\n        if (!insideListener) {\n          return extensionElementsHelper.removeEntry(businessObject, element, field);\n        }\n        var selectedListener = getSelectedListener(element, node);\n        return cmdHelper.removeElementsFromList(element, selectedListener, 'fields', null, [ field ]);\n      }\n    };\n  };\n\n\n  var fieldEntry = extensionElementsEntry(element, bpmnFactory, {\n    id : idPrefix + 'fields',\n    label : translate('Fields'),\n    modelProperty: 'fieldName',\n    idGeneration: 'false',\n\n    businessObject: businessObject,\n\n    createExtensionElement: newElement(),\n    removeExtensionElement: removeElement(),\n\n    getExtensionElements: function(element, node) {\n      return getCamundaFields(element, node);\n    },\n\n    setOptionLabelValue: setOptionLabelValue()\n\n  });\n  entries.push(fieldEntry);\n\n\n  entries.push(entryFactory.validationAwareTextField({\n    id: idPrefix + 'field-name',\n    label: translate('Name'),\n    modelProperty: 'fieldName',\n\n    getProperty: function(element, node) {\n      return (getSelectedField(element, node) || {}).name;\n    },\n\n    setProperty: function(element, values, node) {\n      var selectedField = getSelectedField(element, node);\n      return cmdHelper.updateBusinessObject(element, selectedField, { name : values.fieldName });\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n\n      var validation = {};\n      if (bo) {\n        var nameValue = values.fieldName;\n\n        if (nameValue) {\n          if (utils.containsSpace(nameValue)) {\n            validation.fieldName = translate('Name must not contain spaces');\n          }\n        } else {\n          validation.fieldName = translate('Parameter must have a name');\n        }\n      }\n\n      return validation;\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n  var fieldTypeOptions = [\n    {\n      name: translate('String'),\n      value: 'string'\n    },\n    {\n      name: translate('Expression'),\n      value: 'expression'\n    }\n  ];\n\n  entries.push(entryFactory.selectBox({\n    id: idPrefix + 'field-type',\n    label: translate('Type'),\n    selectOptions: fieldTypeOptions,\n    modelProperty: 'fieldType',\n\n    get: function(element, node) {\n      var bo = getSelectedField(element, node);\n\n      var fieldType = getFieldType(bo);\n\n      return {\n        fieldType: fieldType\n      };\n    },\n\n    set: function(element, values, node) {\n      var props = assign({}, DEFAULT_PROPS);\n\n      var fieldType = values.fieldType;\n\n      if (fieldType === 'string') {\n        props.string = '';\n      }\n      else if (fieldType === 'expression') {\n        props.expression = '';\n      }\n\n      return cmdHelper.updateBusinessObject(element, getSelectedField(element, node), props);\n    },\n\n    hidden: function(element, node) {\n      return !isSelected(element, node);\n    }\n\n  }));\n\n\n  entries.push(entryFactory.textBox({\n    id: idPrefix + 'field-value',\n    label: translate('Value'),\n    modelProperty: 'fieldValue',\n\n    get: function(element, node) {\n      var bo = getSelectedField(element, node);\n      var fieldType = getFieldType(bo);\n\n      var fieldValue;\n\n      if (fieldType === 'string') {\n        fieldValue = bo && (bo.string || bo.stringValue);\n      }\n      else if (fieldType === 'expression') {\n        fieldValue = bo && bo.expression;\n      }\n\n      return {\n        fieldValue: fieldValue\n      };\n    },\n\n    set: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n      var fieldType = getFieldType(bo);\n\n      var props = assign({}, DEFAULT_PROPS);\n\n      var fieldValue = values.fieldValue || undefined;\n\n      if (fieldType === 'string') {\n        props.string = fieldValue;\n      }\n      else if (fieldType === 'expression') {\n        props.expression = fieldValue;\n      }\n\n      return cmdHelper.updateBusinessObject(element, bo, props);\n\n    },\n\n    validate: function(element, values, node) {\n      var bo = getSelectedField(element, node);\n\n      var validation = {};\n      if (bo) {\n        if (!values.fieldValue) {\n          validation.fieldValue = translate('Must provide a value');\n        }\n      }\n\n      return validation;\n    },\n\n    show: function(element, node) {\n      return isSelected(element, node);\n    }\n\n  }));\n\n  return entries;\n\n};\n","'use strict';\n\nvar textField = require('./TextInputEntryFactory');\n\n/**\n * This function is a wrapper around TextInputEntryFactory.\n * It adds functionality to cache an invalid value entered in the\n * text input, instead of setting it on the business object.\n */\nvar validationAwareTextField = function(options, defaultParameters) {\n\n  var modelProperty = options.modelProperty;\n\n  defaultParameters.get = function(element, node) {\n    var value = this.__lastInvalidValue;\n\n    delete this.__lastInvalidValue;\n\n    var properties = {};\n\n    properties[modelProperty] = value !== undefined ? value : options.getProperty(element, node);\n\n    return properties;\n  };\n\n  defaultParameters.set = function(element, values, node) {\n    var validationErrors = validate.apply(this, [ element, values, node ]),\n        propertyValue = values[modelProperty];\n\n    // make sure we do not update the id\n    if (validationErrors && validationErrors[modelProperty]) {\n      this.__lastInvalidValue = propertyValue;\n\n      return options.setProperty(element, {}, node);\n    } else {\n      var properties = {};\n\n      properties[modelProperty] = propertyValue;\n\n      return options.setProperty(element, properties, node);\n    }\n  };\n\n  var validate = defaultParameters.validate = function(element, values, node) {\n    var value = values[modelProperty] || this.__lastInvalidValue;\n\n    var property = {};\n    property[modelProperty] = value;\n\n    return options.validate(element, property, node);\n  };\n\n  return textField(options, defaultParameters);\n};\n\nmodule.exports = validationAwareTextField;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","import mod from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./bpmn-js-properties-panel.css?vue&type=style&index=3&lang=css&\"; export default mod; export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./bpmn-js-properties-panel.css?vue&type=style&index=3&lang=css&\"","var arrayEach = require('./_arrayEach'),\n    arrayIncludes = require('./_arrayIncludes');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256,\n    WRAP_FLIP_FLAG = 512;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', WRAP_ARY_FLAG],\n  ['bind', WRAP_BIND_FLAG],\n  ['bindKey', WRAP_BIND_KEY_FLAG],\n  ['curry', WRAP_CURRY_FLAG],\n  ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n  ['flip', WRAP_FLIP_FLAG],\n  ['partial', WRAP_PARTIAL_FLAG],\n  ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n  ['rearg', WRAP_REARG_FLAG]\n];\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\nmodule.exports = updateWrapDetails;\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","import {\n  domify,\n  classes as domClasses,\n  matches as domMatches,\n  delegate as domDelegate,\n  query as domQuery,\n  queryAll as domQueryAll,\n  event as domEvent,\n  attr as domAttr\n} from 'min-dom';\n\nimport {\n  filter,\n  assign\n} from 'min-dash';\n\nimport createEmitter from 'mitt';\n\nvar DEFAULT_OPTIONS = {\n  scrollSymbolLeft: '‹',\n  scrollSymbolRight: '›'\n};\n\n\n/**\n * This component adds the functionality to scroll over a list of tabs.\n *\n * It adds scroll buttons on the left and right side of the tabs container\n * if not all tabs are visible. It also adds a mouse wheel listener on the\n * container.\n *\n * If either a button is clicked or the mouse wheel is used over the tabs,\n * a 'scroll' event is being fired. This event contains the node elements\n * of the new and old active tab, and the direction in which the tab has\n * changed relative to the old active tab.\n *\n * @example:\n * (1) provide a tabs-container:\n *\n * var $el = (\n *   <div>\n *     <!-- button added by scrollTabs -->\n *     <span class=\"scroll-tabs-button scroll-tabs-left\"></span>\n *     <ul class=\"my-tabs-container\">\n *       <li class=\"my-tab i-am-active\"></li>\n *       <li class=\"my-tab\"></li>\n *       <li class=\"my-tab ignore-me\"></li>\n *     </ul>\n *     <!-- button added by scrollTabs -->\n *     <span class=\"scroll-tabs-button scroll-tabs-right\"></span>\n *   </div>\n * );\n *\n *\n * (2) initialize scrollTabs:\n *\n *  var scroller = scrollTabs(tabBarNode, {\n *    selectors: {\n *      tabsContainer: '.my-tabs-container',\n *      tab: '.my-tab',\n *      ignore: '.ignore-me',\n *      active: '.i-am-active'\n *    }\n *  });\n *\n *\n * (3) listen to the scroll event:\n *\n * scroller.on('scroll', function(newActiveNode, oldActiveNode, direction) {\n *   // direction is any of (-1: left, 1: right)\n *   // activate the new active tab\n * });\n *\n *\n * (4) update the scroller if tabs change and or the tab container resizes:\n *\n * scroller.update();\n *\n *\n * @param  {DOMElement} el\n * @param  {Object} options\n * @param  {Object} options.selectors\n * @param  {String} options.selectors.tabsContainer the container all tabs are contained in\n * @param  {String} options.selectors.tab a single tab inside the tab container\n * @param  {String} options.selectors.ignore tabs that should be ignored during scroll left/right\n * @param  {String} options.selectors.active selector for the current active tab\n * @param  {String} [options.scrollSymbolLeft]\n * @param  {String} [options.scrollSymbolRight]\n */\nfunction ScrollTabs($el, options) {\n\n  // we are an event emitter\n  assign(this, createEmitter());\n\n  this.options = options = assign({}, DEFAULT_OPTIONS, options);\n  this.container = $el;\n\n  this._createScrollButtons($el, options);\n\n  this._bindEvents($el);\n}\n\n\n/**\n * Create a clickable scroll button\n *\n * @param {Object} options\n * @param {String} options.className\n * @param {String} options.label\n * @param {Number} options.direction\n *\n * @return {DOMElement} The created scroll button node\n */\nScrollTabs.prototype._createButton = function(parentNode, options) {\n\n  var className = options.className,\n      direction = options.direction;\n\n\n  var button = domQuery('.' + className, parentNode);\n\n  if (!button) {\n    button = domify('<span class=\"scroll-tabs-button ' + className + '\">' +\n                                options.label +\n                              '</span>');\n\n    parentNode.insertBefore(button, parentNode.childNodes[0]);\n  }\n\n  domAttr(button, 'data-direction', direction);\n\n  return button;\n};\n\n/**\n * Create both scroll buttons\n *\n * @param  {DOMElement} parentNode\n * @param  {Object} options\n * @param  {String} options.scrollSymbolLeft\n * @param  {String} options.scrollSymbolRight\n */\nScrollTabs.prototype._createScrollButtons = function(parentNode, options) {\n\n  // Create a button that scrolls to the tab left to the currently active tab\n  this._createButton(parentNode, {\n    className: 'scroll-tabs-left',\n    label: options.scrollSymbolLeft,\n    direction: -1\n  });\n\n  // Create a button that scrolls to the tab right to the currently active tab\n  this._createButton(parentNode, {\n    className: 'scroll-tabs-right',\n    label: options.scrollSymbolRight,\n    direction: 1\n  });\n};\n\n/**\n * Get the current active tab\n *\n * @return {DOMElement}\n */\nScrollTabs.prototype.getActiveTabNode = function() {\n  return domQuery(this.options.selectors.active, this.container);\n};\n\n\n/**\n * Get the container all tabs are contained in\n *\n * @return {DOMElement}\n */\nScrollTabs.prototype.getTabsContainerNode = function() {\n  return domQuery(this.options.selectors.tabsContainer, this.container);\n};\n\n\n/**\n * Get all tabs (visible and invisible ones)\n *\n * @return {Array<DOMElement>}\n */\nScrollTabs.prototype.getAllTabNodes = function() {\n  return domQueryAll(this.options.selectors.tab, this.container);\n};\n\n\n/**\n * Gets all tabs that don't have the ignore class set\n *\n * @return {Array<DOMElement>}\n */\nScrollTabs.prototype.getVisibleTabs = function() {\n  var allTabs = this.getAllTabNodes();\n\n  var ignore = this.options.selectors.ignore;\n\n  return filter(allTabs, function(tabNode) {\n    return !domMatches(tabNode, ignore);\n  });\n};\n\n\n/**\n * Get a tab relative to a reference tab.\n *\n * @param  {DOMElement} referenceTabNode\n * @param  {Number} n gets the nth tab next or previous to the reference tab\n *\n * @return {DOMElement}\n *\n * @example:\n * Visible tabs: [ A | B | C | D | E ]\n * Assume tab 'C' is the reference tab:\n * If direction === -1, it returns tab 'B',\n * if direction ===  2, it returns tab 'E'\n */\nScrollTabs.prototype.getAdjacentTab = function(referenceTabNode, n) {\n  var visibleTabs = this.getVisibleTabs();\n\n  var index = visibleTabs.indexOf(referenceTabNode);\n\n  return visibleTabs[index + n];\n};\n\nScrollTabs.prototype._bindEvents = function(node) {\n  this._bindWheelEvent(node);\n  this._bindTabClickEvents(node);\n  this._bindScrollButtonEvents(node);\n};\n\n/**\n *  Bind a click listener to a DOM node.\n *  Make sure a tab link is entirely visible after onClick.\n *\n * @param {DOMElement} node\n */\nScrollTabs.prototype._bindTabClickEvents = function(node) {\n  var selector = this.options.selectors.tab;\n\n  var self = this;\n\n  domDelegate.bind(node, selector, 'click', function onClick(event) {\n    self.scrollToTabNode(event.delegateTarget);\n  });\n};\n\n\n/**\n * Bind the wheel event listener to a DOM node\n *\n * @param {DOMElement} node\n */\nScrollTabs.prototype._bindWheelEvent = function(node) {\n  var self = this;\n\n  domEvent.bind(node, 'wheel', function(e) {\n\n    // scroll direction (-1: left, 1: right)\n    var direction = Math.sign(e.deltaY);\n\n    var oldActiveTab = self.getActiveTabNode();\n\n    var newActiveTab = self.getAdjacentTab(oldActiveTab, direction);\n\n    if (newActiveTab) {\n      self.scrollToTabNode(newActiveTab);\n      self.emit('scroll', newActiveTab, oldActiveTab, direction);\n    }\n\n    e.preventDefault();\n  });\n};\n\n/**\n * Bind scroll button events to a DOM node\n *\n * @param  {DOMElement} node\n */\nScrollTabs.prototype._bindScrollButtonEvents = function(node) {\n\n  var self = this;\n\n  domDelegate.bind(node, '.scroll-tabs-button', 'click', function(event) {\n\n    var target = event.delegateTarget;\n\n    // data-direction is either -1 or 1\n    var direction = parseInt(domAttr(target, 'data-direction'), 10);\n\n    var oldActiveTabNode = self.getActiveTabNode();\n\n    var newActiveTabNode = self.getAdjacentTab(oldActiveTabNode, direction);\n\n    if (newActiveTabNode) {\n      self.scrollToTabNode(newActiveTabNode);\n      self.emit('scroll', newActiveTabNode, oldActiveTabNode, direction);\n    }\n\n    event.preventDefault();\n  });\n};\n\n\n/**\n* Scroll to a tab if it is not entirely visible\n*\n* @param  {DOMElement} tabNode tab node to scroll to\n*/\nScrollTabs.prototype.scrollToTabNode = function(tabNode) {\n  if (!tabNode) {\n    return;\n  }\n\n  var tabsContainerNode = tabNode.parentNode;\n\n  var tabWidth = tabNode.offsetWidth,\n      tabOffsetLeft = tabNode.offsetLeft,\n      tabOffsetRight = tabOffsetLeft + tabWidth,\n      containerWidth = tabsContainerNode.offsetWidth,\n      containerScrollLeft = tabsContainerNode.scrollLeft;\n\n  if (containerScrollLeft > tabOffsetLeft) {\n    // scroll to the left, if the tab is overflowing on the left side\n    tabsContainerNode.scrollLeft = 0;\n  } else if (tabOffsetRight > containerWidth) {\n    // scroll to the right, if the tab is overflowing on the right side\n    tabsContainerNode.scrollLeft = tabOffsetRight - containerWidth;\n  }\n};\n\n\n/**\n * React on tab changes from outside (resize/show/hide/add/remove),\n * update scroll button visibility.\n */\nScrollTabs.prototype.update = function() {\n\n  var tabsContainerNode = this.getTabsContainerNode();\n\n  // check if tabs fit in container\n  var overflow = tabsContainerNode.scrollWidth > tabsContainerNode.offsetWidth;\n\n  // TODO(nikku): distinguish overflow left / overflow right?\n  var overflowClass = 'scroll-tabs-overflow';\n\n  domClasses(this.container).toggle(overflowClass, overflow);\n\n  if (overflow) {\n    // make sure the current active tab is always visible\n    this.scrollToTabNode(this.getActiveTabNode());\n  }\n};\n\n\n// exports ////////////////\n\n/**\n * Create a scrollTabs instance on the given element.\n *\n * @param {DOMElement} $el\n * @param {Object} options\n *\n * @return {ScrollTabs}\n */\nexport default function create($el, options) {\n\n  var scrollTabs = get($el);\n\n  if (!scrollTabs) {\n    scrollTabs = new ScrollTabs($el, options);\n\n    $el.__scrollTabs = scrollTabs;\n  }\n\n  return scrollTabs;\n}\n\n\n/**\n * Return the scrollTabs instance that has been previously\n * initialized on the element.\n *\n * @param {DOMElement} $el\n * @return {ScrollTabs}\n */\nfunction get($el) {\n  return $el.__scrollTabs;\n}\n\ncreate.get = get;","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n"],"sourceRoot":""}