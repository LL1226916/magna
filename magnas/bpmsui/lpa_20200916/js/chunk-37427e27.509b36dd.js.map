{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./src/components/Home.vue?86d0","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?2501","webpack:///./src/components/Home.vue","webpack:///./src/common/service.js"],"names":["charAt","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","set","getInternalState","getterFor","String","iterated","this","type","string","index","point","state","length","value","undefined","done","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","_s","taskCount","all","delay","_m","staticRenderFns","data","utils","moment","config","created","userId","user","id","params","assignee","active","nameLike","dueBefore","service","mounted","methods","component","axios","interceptors","request","use","NProgress","start","response","error","Promise","reject","getUsers","ids","requests","map","requestBpmn","getItem","result","url","get","then","item","createdBy","indexOf","push","updatedBy","find","toLowerCase","createdName","firstName","lastName","trim","updatedName","resolve","getItems","filter","JSON","stringify","sort","settings","dataType","method","items","_embedded","forEach","saveItem","name","_id","message","headers","deleteItem","path","bpmnUrl","sessionStorage","upload","formData","uploadUrl","getProcessTemplate"],"mappings":"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","file":"js/chunk-37427e27.509b36dd.js","sourcesContent":["'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-grow-1 p-0\"},[_c('div',{staticClass:\"d-flex flex-column flex-grow-1 bg-white\"},[_c('div',{staticClass:\"flex-grow-0\"}),_c('div',{staticClass:\"flex-wrap align-items-center flex-grow-1 position-relative bg-gray-100\"},[_c('div',{staticClass:\"position-absolute pos-top pos-bottom w-100 custom-scroll\"},[_c('div',{staticClass:\"d-flex h-100 flex-column\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-8 pr-0\"},[_c('div',{staticClass:\"card m-1\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title fw-300\"},[_vm._v(\"我的LPA任务\")]),_c('a',{staticClass:\"card-text\",attrs:{\"href\":\"#/tasks\"}},[_c('span',{staticClass:\"mr-4 fw-300\"},[_c('i',{staticClass:\"far fa-fw fa-tasks mr-1\"}),_vm._v(\"总任务 \"),_c('span',{staticClass:\"ml-2 fw-900\"},[_vm._v(_vm._s(_vm.taskCount.all))])]),_c('span',{staticClass:\"fw-300 text-danger\"},[_c('i',{staticClass:\"far fa-fw fa-alarm-clock mr-1\"}),_vm._v(\"已超时 \"),_c('span',{staticClass:\"ml-2 fw-900\"},[_vm._v(_vm._s(_vm.taskCount.delay))])])])])])]),_vm._m(0)])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-4 pl-0\"},[_c('div',{staticClass:\"card m-1\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title fw-300\"},[_vm._v(\"改善提案\")]),_c('a',{staticClass:\"card-text\",attrs:{\"href\":\"javascript:void(0);\"}},[_c('span',{staticClass:\"mr-4 text-info fw-900\"},[_c('i',{staticClass:\"fal fa-fw fa-plus-square mr-2\"}),_vm._v(\"创建 \")])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-flex flex-grow-1 p-0\">\n    <!-- left slider -->\n\n    <!-- end left slider -->\n    <!-- inbox container -->\n    <div class=\"d-flex flex-column flex-grow-1 bg-white\">\n      <!-- inbox header -->\n      <div class=\"flex-grow-0\">\n        <!-- inbox button shortcut -->\n\n        <!-- end inbox button shortcut -->\n      </div>\n      <!-- end inbox header -->\n      <!-- inbox message -->\n      <div class=\"flex-wrap align-items-center flex-grow-1 position-relative bg-gray-100\">\n        <div class=\"position-absolute pos-top pos-bottom w-100 custom-scroll\">\n          <div class=\"d-flex h-100 flex-column\">\n            <!-- inbox title -->\n\n            <!-- end inbox title -->\n            <!-- message -->\n\n            <div class=\"row\">\n              <div class=\"col-8 pr-0\">\n                <div class=\"card m-1\">\n                  <div class=\"card-body\">\n                    <h5 class=\"card-title fw-300\">我的LPA任务</h5>\n                    <a href=\"#/tasks\" class=\"card-text\">\n                      <span class=\"mr-4 fw-300\">\n                        <i class=\"far fa-fw fa-tasks mr-1\"></i>总任务\n                        <span class=\"ml-2 fw-900\">{{taskCount.all}}</span>\n                      </span>\n                      <span class=\"fw-300 text-danger\">\n                        <i class=\"far fa-fw fa-alarm-clock mr-1\"></i>已超时\n                        <span class=\"ml-2 fw-900\">{{taskCount.delay}}</span>\n                      </span>\n                    </a>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-4 pl-0\">\n                <div class=\"card m-1\">\n                  <div class=\"card-body\">\n                    <h5 class=\"card-title fw-300\">改善提案</h5>\n                    <a href=\"javascript:void(0);\" class=\"card-text\">\n                      <span class=\"mr-4 text-info fw-900\">\n                        <i class=\"fal fa-fw fa-plus-square mr-2\"></i>创建\n                      </span>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- end message -->\n            <!-- message me-->\n\n            <!-- end message me-->\n            <!-- message -->\n\n            <!-- end message -->\n          </div>\n        </div>\n      </div>\n      <!-- end inbox message -->\n    </div>\n    <!-- end inbox container -->\n    <!-- compose message -->\n\n    <!-- end compose message -->\n  </div>\n</template>\n\n<script>\nimport config from \"@/common/config\";\nimport utils from \"@/common/utils.js\";\nimport service from \"@/common/service\";\nimport moment from \"moment\";\n\nconst model = {\n  // el: \"#app\",\n  data() {\n    return utils.createModel({\n      moment: moment,\n      config: config,\n      taskCount: {\n        all: \"\",\n        delay: \"\"\n      }\n    });\n  },\n  created() {\n    var userId = this.user.id;\n    var params = {\n      all: {\n        assignee: userId,\n        active: true,\n        nameLike: \"%lpa%\"\n      },\n      delay: {\n        assignee: userId,\n        active: true,\n        dueBefore: moment().format(),\n        nameLike: \"%lpa%\"\n      }\n    };\n\n    service.requestBpmn(\"runtime/tasks\", \"\", params.all).then(response => {\n      this.taskCount.all = response.data.total;\n    });\n    service.requestBpmn(\"runtime/tasks\", \"\", params.delay).then(response => {\n      this.taskCount.delay = response.data.total;\n    });\n  },\n  mounted() {},\n  methods: {}\n};\nexport default model;\n</script>\n\n<style scoped>\n</style>\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=dd6ad1f6&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd6ad1f6\",\n  null\n  \n)\n\nexport default component.exports","import config from \"./config\";\nimport axios from 'axios';\nimport NProgress from 'nprogress' // progress bar\n\naxios.interceptors.request.use(config => {\n    NProgress.start();\n    return config;\n});\naxios.interceptors.response.use(config => {\n    NProgress.done();\n    return config;\n}, error => {\n    NProgress.done();\n    return Promise.reject(error.response);\n});\n\nexport default {\n    getUsers(ids) {\n        var requests = ids.map(id => this.requestBpmn(\n            \"identity/users/\" + id\n        ));\n        return Promise.all(requests);\n    },\n    getItem(type, id) {\n        var result;\n        var url = config[type + \"Url\"];\n        return axios.get(url + id).then(response => {\n            result = response;\n            var item = result.data;\n            var ids = [];\n            if (item.createdBy && ids.indexOf(item.createdBy) < 0) {\n                ids.push(item.createdBy);\n            }\n            if (item.updatedBy && ids.indexOf(item.updatedBy) < 0) {\n                ids.push(item.updatedBy);\n            }\n            return this.getUsers(ids);\n        }).then(response => {\n            var item = result.data;\n            var data = response.map(item => item.data);\n            if (item.createdBy) {\n                var user = data.find(user => user.id.toLowerCase() === item.createdBy.toLowerCase());\n                item.createdName = (user.firstName + \" \" + user.lastName).trim();\n            }\n            if (item.updatedBy) {\n                user = data.find(user => user.id.toLowerCase() === item.updatedBy.toLowerCase());\n                item.updatedName = (user.firstName + \" \" + user.lastName).trim();\n            }\n\n            return Promise.resolve(result);\n        });\n    },\n    getItems(type, data) {\n        var url = config[type + \"Url\"];\n        return new Promise((resolve, reject) => {\n            data = data || {};\n            data.filter = data.filter || {};\n            data.filter.type = type;\n            data.filter = JSON.stringify(data.filter);\n\n            if (data.sort) {\n                data.sort = JSON.stringify(data.sort);\n            }\n\n            var settings = {\n                dataType: \"json\",\n                url: url,\n                method: \"get\",\n                params: data\n            };\n            var items = [];\n            return axios(settings).then(response => {\n                items = response.data._embedded;\n                var ids = [];\n                items.forEach(item => {\n                    if (item.createdBy && ids.indexOf(item.createdBy) < 0) {\n                        ids.push(item.createdBy);\n                    }\n                    if (item.updatedBy && ids.indexOf(item.updatedBy) < 0) {\n                        ids.push(item.updatedBy);\n                    }\n                });\n                return this.getUsers(ids);\n                //   resolve(items);\n            }).then(response => {\n                items.forEach(item => {\n                    var data = response.map(item => item.data);\n                    if (item.createdBy) {\n                        var user = data.find(user => user.id.toLowerCase() === item.createdBy.toLowerCase());\n                        item.createdName = (user.firstName + \" \" + user.lastName).trim();\n                    }\n                    if (item.updatedBy) {\n                        user = data.find(user => user.id.toLowerCase() === item.updatedBy.toLowerCase());\n                        item.updatedName = (user.firstName + \" \" + user.lastName).trim();\n                    }\n\n                });\n                resolve(items);\n            });\n        });\n    },\n\n    saveItem(type, item) {\n      return  this.getItems(type, {\n            filter: {\n                name: item.name,\n                _id: {\n                    \"$ne\": item._id\n                }\n            }\n        }).then(response => {\n            if (response && response.length) {\n                return Promise.reject({\n                    message: \"名称\\\"\" + item.name + \"\\\"已存在。\"\n                });\n            } else {\n                return axios({\n                    dataType: \"json\",\n                    url: config[type + \"Url\"],\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    method: \"post\",\n                    data: item\n                });\n            }\n\n        });\n    },\n    deleteItem(type, id) {\n        var url = config[type + \"Url\"];\n        url += id;\n        var settings = {\n            dataType: \"text\",\n            url: url,\n            method: \"delete\",\n            data: {}\n        };\n\n        return axios(settings);\n    },\n    requestBpmn(path, type, data) {\n        var type = type || \"GET\";\n        var url = config.bpmnUrl + (path || \"\");\n        var settings = {\n            dataType: \"json\",\n            url: url,\n            headers: {\n                \"Authorization\": sessionStorage.getItem(\"token\"),\n                \"Content-Type\": \"application/json\"\n            },\n            method: type\n\n        };\n        if (type === \"GET\") {\n            settings.params = data;\n        } else {\n            settings.data = data;\n        }\n\n        return axios(settings);\n    },\n    upload(formData) {\n        return axios({\n            method: \"post\",\n            url: config.uploadUrl + \"upload\",\n            data: formData,\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n    },\n    getProcessTemplate(type) {\n        return axios({\n            method: \"get\",\n            url: \"template/\" + type + \".bpmn\",\n            headers: {\n                'Content-Type': 'text'\n            }\n        });\n    }\n}\n"],"sourceRoot":""}