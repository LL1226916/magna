{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./src/components/task/Tasks.vue?30f6","webpack:///src/components/task/Tasks.vue","webpack:///./src/components/task/Tasks.vue?b2a2","webpack:///./src/components/task/Tasks.vue","webpack:///./src/common/service.js"],"names":["charAt","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","set","getInternalState","getterFor","String","iterated","this","type","string","index","point","state","length","value","undefined","done","render","_vm","_h","$createElement","_c","_self","staticClass","_l","task","key","id","attrs","class","isDue","isDisabled","_v","_s","name","instance","businessKey","staticStyle","style","dueDate","moment","format","createTime","directives","rawName","expression","saveDate","_m","on","$event","selectTask","staticRenderFns","data","utils","config","tasks","created","userId","user","service","mounted","methods","$router","push","component","axios","interceptors","request","use","NProgress","start","response","error","Promise","reject","getUsers","ids","requests","map","requestBpmn","all","getItem","result","url","get","then","item","createdBy","indexOf","updatedBy","find","toLowerCase","createdName","firstName","lastName","trim","updatedName","resolve","getItems","filter","JSON","stringify","sort","settings","dataType","method","params","items","_embedded","forEach","saveItem","_id","message","headers","deleteItem","path","bpmnUrl","sessionStorage","upload","formData","uploadUrl","getProcessTemplate"],"mappings":"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","file":"js/chunk-5fef8cd5.204bd755.js","sourcesContent":["'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-grow-1 p-0\"},[_c('div',{staticClass:\"d-flex flex-column flex-grow-1 bg-white\"},[_c('div',{staticClass:\"flex-grow-0\"}),_c('div',{staticClass:\"flex-wrap align-items-center flex-grow-1 position-relative bg-gray-50\"},[_c('div',{staticClass:\"position-absolute pos-top pos-bottom w-100 custom-scroll\"},[_c('div',{staticClass:\"d-flex h-100 flex-column\"},_vm._l((_vm.tasks),function(task){return _c('div',{key:task.id,staticClass:\"d-flex flex-column border-faded border-top-0 border-left-0 border-right-0 py-3 px-3 px-sm-4 px-lg-0 mr-0 mr-lg-5 flex-shrink-0\",attrs:{\"id\":'task'+task.id}},[_c('div',{staticClass:\"d-flex align-items-center flex-row\"},[_c('div',{staticClass:\"ml-0 mr-3 mx-lg-4\"},[_c('i',{staticClass:\"far fa-2x fa-fw\",class:{\n                         'fa-alarm-exclamation':task.isDue && !task.isDisabled,\n                         'text-danger':task.isDue&&!task.isDisabled,\n                         'fa-ban':task.isDisabled,\n                         'text-default':task.isDisabled,\n                         'fa-calendar-check':!task.isDue && !task.isDisabled,\n                         'text-success':!task.isDue && !task.isDisabled\n                      }})]),_c('div',{staticClass:\"fw-500 flex-1 d-flex flex-column cursor-pointer\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#task'+ task.id+' > .js-collapse'}},[_c('div',{staticClass:\"fs-sm\"},[_c('span',{staticClass:\"fw-900 color-black\"},[_vm._v(_vm._s(task.name))])]),_c('div',{staticClass:\"fs-xs fw-300 text-dark mt-1\"},[_vm._v(_vm._s(task.instance && task.instance.businessKey))])]),_c('div',{staticClass:\"color-fusion-200 fs-sm\",staticStyle:{\"text-align\":\"right\"}},[_c('span',{staticClass:\"text-primary\",style:({'visibility':task.dueDate?'visible':'hidden'})},[_c('i',{staticClass:\"fal fa-fw fa-bell mr-1\"}),_vm._v(\" \"+_vm._s(_vm.moment(task.dueDate).format(\"YYYY-MM-DD\"))+\" \"),_c('strong',[_vm._v(_vm._s(_vm.moment(task.dueDate).format(\"HH:mm\")))])])])]),_c('div',{staticClass:\"collapse js-collapse\"},[_c('div',{staticClass:\"pl-lg-5 ml-lg-5 pt-3 pb-4 mt-0\"},[_c('div',{staticClass:\"row color-black panel-tag bg-light color-black ml-0 mt-0 mb-0 fs-xs\"},[_c('div',{staticClass:\"col-6 mb-2\"},[_c('span',{staticClass:\"fw-400 text-black-50\"},[_vm._v(\"指派日期\")]),_c('span',{staticClass:\"fw-900 d-block\",style:({'visibility':'visible'})},[_vm._v(_vm._s(_vm.moment(task.createTime).format(\"YYYY-MM-DD\")))])]),_c('div',{staticClass:\"col-6 mb-2\"},[_c('span',{staticClass:\"fw-400 text-black-50\"},[_vm._v(\"到期日期\")]),_c('span',{staticClass:\"fw-900 d-block\",style:({'visibility':task.dueDate?'visible':'hidden'})},[_vm._v(_vm._s(_vm.moment(task.dueDate).format(\"YYYY-MM-DD\")))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(task.saveDate),expression:\"task.saveDate\"}],staticClass:\"col-6 mb-2\"},[_c('span',{staticClass:\"fw-400 text-black-50\"},[_vm._v(\"上次保存日期\")]),_c('span',{staticClass:\"fw-900 d-block\"},[_vm._v(_vm._s(_vm.moment(task.saveDate).format(\"YYYY-MM-DD HH:mm\")))])]),_vm._m(0,true),_c('div',{staticClass:\"col-6 mt-2\"},[_c('a',{staticClass:\"fw-300 btn btn-sm\",class:{ 'btn-danger':task.isDue && !task.isDisabled,\n                            'btn-default disabled':task.isDisabled,\n                            'btn-success':!task.isDue && !task.isDisabled\n                            },attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.selectTask(task)}}},[_c('i',{staticClass:\"fad fa-fw fa-share-all mr-2\"}),_vm._v(\"执行任务 \")])])])])])])}),0)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 mb-2\"},[_c('div',{staticClass:\"dropdown-divider\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <!-- Page heading removed for composed layout -->\n  <div class=\"d-flex flex-grow-1 p-0\">\n    <!-- left slider -->\n\n    <!-- end left slider -->\n    <!-- inbox container -->\n    <div class=\"d-flex flex-column flex-grow-1 bg-white\">\n      <!-- inbox header -->\n      <div class=\"flex-grow-0\">\n        <!-- inbox button shortcut -->\n\n        <!-- end inbox button shortcut -->\n      </div>\n      <!-- end inbox header -->\n      <!-- inbox message -->\n      <div class=\"flex-wrap align-items-center flex-grow-1 position-relative bg-gray-50\">\n        <div class=\"position-absolute pos-top pos-bottom w-100 custom-scroll\">\n          <div class=\"d-flex h-100 flex-column\">\n            <!-- inbox title -->\n\n            <!-- end inbox title -->\n            <!-- message -->\n            <div\n              :id=\"'task'+task.id\"\n              v-for=\"task in tasks\"\n              :key=\"task.id\"\n              class=\"d-flex flex-column border-faded border-top-0 border-left-0 border-right-0 py-3 px-3 px-sm-4 px-lg-0 mr-0 mr-lg-5 flex-shrink-0\"\n            >\n              <div class=\"d-flex align-items-center flex-row\">\n                <div class=\"ml-0 mr-3 mx-lg-4\">\n                  <i\n                    class=\"far fa-2x fa-fw\"\n                    :class=\"{\n                           'fa-alarm-exclamation':task.isDue && !task.isDisabled,\n                           'text-danger':task.isDue&&!task.isDisabled,\n                           'fa-ban':task.isDisabled,\n                           'text-default':task.isDisabled,\n                           'fa-calendar-check':!task.isDue && !task.isDisabled,\n                           'text-success':!task.isDue && !task.isDisabled\n                        }\"\n                  ></i>\n                </div>\n                <div\n                  class=\"fw-500 flex-1 d-flex flex-column cursor-pointer\"\n                  data-toggle=\"collapse\"\n                  :data-target=\"'#task'+ task.id+' > .js-collapse'\"\n                >\n                  <div class=\"fs-sm\">\n                    <span class=\"fw-900 color-black\">{{task.name}}</span>\n                  </div>\n                 <div class=\"fs-xs fw-300 text-dark mt-1\">{{task.instance && task.instance.businessKey}}</div> \n                </div>\n                <div class=\"color-fusion-200 fs-sm\" style=\"text-align: right\">\n                  <span\n                    class=\"text-primary\"\n                    :style=\"{'visibility':task.dueDate?'visible':'hidden'}\"\n                  >\n                    <i class=\"fal fa-fw fa-bell mr-1\"></i>\n                    {{moment(task.dueDate).format(\"YYYY-MM-DD\")}}&nbsp;\n                    <strong>{{moment(task.dueDate).format(\"HH:mm\")}}</strong>\n                  </span>\n                </div>\n              </div>\n              <div class=\"collapse js-collapse\">\n                <div class=\"pl-lg-5 ml-lg-5 pt-3 pb-4 mt-0\">\n                  <div class=\"row color-black panel-tag bg-light color-black ml-0 mt-0 mb-0 fs-xs\">\n                    <div class=\"col-6 mb-2\">\n                      <span class=\"fw-400 text-black-50\">指派日期</span>\n                      <span\n                        class=\"fw-900 d-block\"\n                        :style=\"{'visibility':'visible'}\"\n                      >{{moment(task.createTime).format(\"YYYY-MM-DD\")}}</span>\n                    </div>\n                    <div class=\"col-6 mb-2\">\n                      <span class=\"fw-400 text-black-50\">到期日期</span>\n                      <span\n                        class=\"fw-900 d-block\"\n                        :style=\"{'visibility':task.dueDate?'visible':'hidden'}\"\n                      >{{moment(task.dueDate).format(\"YYYY-MM-DD\")}}</span>\n                    </div>\n                    <div class=\"col-6 mb-2\" v-show=\"task.saveDate\">\n                      <span class=\"fw-400 text-black-50\">上次保存日期</span>\n                      <span\n                        class=\"fw-900 d-block\"\n                      >{{moment(task.saveDate).format(\"YYYY-MM-DD HH:mm\")}}</span>\n                    </div>\n                    <div class=\"col-12 mb-2\">\n                      <div class=\"dropdown-divider\"></div>\n                    </div>\n                    <div class=\"col-6 mt-2\">\n                      <a\n                        href=\"javascript:void(0);\"\n                        class=\"fw-300 btn btn-sm\"\n                        v-on:click=\"selectTask(task)\"\n                        :class=\"{ 'btn-danger':task.isDue && !task.isDisabled,\n                              'btn-default disabled':task.isDisabled,\n                              'btn-success':!task.isDue && !task.isDisabled\n                              }\"\n                      >\n                        <i class=\"fad fa-fw fa-share-all mr-2\"></i>执行任务\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- end inbox message -->\n    </div>\n    <!-- end inbox container -->\n    <!-- compose message -->\n\n    <!-- end compose message -->\n  </div>\n</template>\n\n<script>\nimport config from \"@/common/config\";\nimport utils from \"@/common/utils.js\";\nimport service from \"@/common/service\";\nimport moment from \"moment\";\nexport default {\n  data() {\n    return utils.createModel({\n      moment: moment,\n      config: config,\n      tasks: []\n    });\n  },\n  created: function() {\n    var userId = this.user.id;\n    var tasks = [];\n    service\n      .requestBpmn(\"runtime/tasks\", \"\", {\n        assignee: userId,\n        active: true,\n        nameLike: \"%lpa%\",\n        size: 500\n      })\n      .then(response => {\n        var now = moment();\n        tasks = response.data.data;\n        tasks.forEach((task, index) => {\n          var due = task.dueDate && moment(task.dueDate);\n          task.isDue = due && due.isBefore(now);\n          task.isDisabled =due&& due.diff(now, \"minutes\") > config.taskAdvance;\n          // task.isDue=index%3===0;\n          //   task.isDisabled=index%3===1;\n        });\n\n        var instanceRequests = tasks.map(item => service.requestBpmn(\n            \"history/historic-process-instances/\" + item.processInstanceId\n          ));\n        return Promise.all(instanceRequests);\n      })\n      .then(responses => {\n        console.log(responses);\n\n        responses.forEach(response => {\n          var id = response.data.id;\n          var task = tasks.find(task => task.processInstanceId === id);\n          task.instance = response.data;\n        });\n        this.tasks=tasks;\n        if (myapp_config.thisDevice === \"desktop\") {\n          $(\".custom-scroll:not(.disable-slimscroll) >:first-child\").slimscroll(\n            {\n              height: $(this).data(\"scrollHeight\") || \"100%\",\n              size: $(this).data(\"scrollSize\") || \"4px\",\n              position: $(this).data(\"scrollPosition\") || \"right\",\n              color: $(this).data(\"scrollColor\") || \"rgba(0,0,0,0.6)\",\n              alwaysVisible: $(this).data(\"scrollAlwaysVisible\") || false,\n              distance: $(this).data(\"scrollDistance\") || \"4px\",\n              railVisible: $(this).data(\"scrollRailVisible\") || false,\n              railColor: $(this).data(\"scrollRailColor\") || \"#fafafa\",\n              allowPageScroll: false,\n              disableFadeOut: false\n            }\n          );\n        }\n      });\n  },\n  mounted() {},\n  methods: {\n    selectTask(task) {\n      if (task.isDisabled) {\n        return;\n      }\n      this.$router.push({ name: \"task\", query: { id: task.id } });\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tasks.vue?vue&type=template&id=24105ace&scoped=true&\"\nimport script from \"./Tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./Tasks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24105ace\",\n  null\n  \n)\n\nexport default component.exports","import config from \"./config\";\nimport axios from 'axios';\nimport NProgress from 'nprogress' // progress bar\n\naxios.interceptors.request.use(config => {\n    NProgress.start();\n    return config;\n});\naxios.interceptors.response.use(config => {\n    NProgress.done();\n    return config;\n}, error => {\n    NProgress.done();\n    return Promise.reject(error.response);\n});\n\nexport default {\n    getUsers(ids) {\n        var requests = ids.map(id => this.requestBpmn(\n            \"identity/users/\" + id\n        ));\n        return Promise.all(requests);\n    },\n    getItem(type, id) {\n        var result;\n        var url = config[type + \"Url\"];\n        return axios.get(url + id).then(response => {\n            result = response;\n            var item = result.data;\n            var ids = [];\n            if (item.createdBy && ids.indexOf(item.createdBy) < 0) {\n                ids.push(item.createdBy);\n            }\n            if (item.updatedBy && ids.indexOf(item.updatedBy) < 0) {\n                ids.push(item.updatedBy);\n            }\n            return this.getUsers(ids);\n        }).then(response => {\n            var item = result.data;\n            var data = response.map(item => item.data);\n            if (item.createdBy) {\n                var user = data.find(user => user.id.toLowerCase() === item.createdBy.toLowerCase());\n                item.createdName = (user.firstName + \" \" + user.lastName).trim();\n            }\n            if (item.updatedBy) {\n                user = data.find(user => user.id.toLowerCase() === item.updatedBy.toLowerCase());\n                item.updatedName = (user.firstName + \" \" + user.lastName).trim();\n            }\n\n            return Promise.resolve(result);\n        });\n    },\n    getItems(type, data) {\n        var url = config[type + \"Url\"];\n        return new Promise((resolve, reject) => {\n            data = data || {};\n            data.filter = data.filter || {};\n            data.filter.type = type;\n            data.filter = JSON.stringify(data.filter);\n\n            if (data.sort) {\n                data.sort = JSON.stringify(data.sort);\n            }\n\n            var settings = {\n                dataType: \"json\",\n                url: url,\n                method: \"get\",\n                params: data\n            };\n            var items = [];\n            return axios(settings).then(response => {\n                items = response.data._embedded;\n                var ids = [];\n                items.forEach(item => {\n                    if (item.createdBy && ids.indexOf(item.createdBy) < 0) {\n                        ids.push(item.createdBy);\n                    }\n                    if (item.updatedBy && ids.indexOf(item.updatedBy) < 0) {\n                        ids.push(item.updatedBy);\n                    }\n                });\n                return this.getUsers(ids);\n                //   resolve(items);\n            }).then(response => {\n                items.forEach(item => {\n                    var data = response.map(item => item.data);\n                    if (item.createdBy) {\n                        var user = data.find(user => user.id.toLowerCase() === item.createdBy.toLowerCase());\n                        item.createdName = (user.firstName + \" \" + user.lastName).trim();\n                    }\n                    if (item.updatedBy) {\n                        user = data.find(user => user.id.toLowerCase() === item.updatedBy.toLowerCase());\n                        item.updatedName = (user.firstName + \" \" + user.lastName).trim();\n                    }\n\n                });\n                resolve(items);\n            });\n        });\n    },\n\n    saveItem(type, item) {\n      return  this.getItems(type, {\n            filter: {\n                name: item.name,\n                _id: {\n                    \"$ne\": item._id\n                }\n            }\n        }).then(response => {\n            if (response && response.length) {\n                return Promise.reject({\n                    message: \"名称\\\"\" + item.name + \"\\\"已存在。\"\n                });\n            } else {\n                return axios({\n                    dataType: \"json\",\n                    url: config[type + \"Url\"],\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    method: \"post\",\n                    data: item\n                });\n            }\n\n        });\n    },\n    deleteItem(type, id) {\n        var url = config[type + \"Url\"];\n        url += id;\n        var settings = {\n            dataType: \"text\",\n            url: url,\n            method: \"delete\",\n            data: {}\n        };\n\n        return axios(settings);\n    },\n    requestBpmn(path, type, data) {\n        var type = type || \"GET\";\n        var url = config.bpmnUrl + (path || \"\");\n        var settings = {\n            dataType: \"json\",\n            url: url,\n            headers: {\n                \"Authorization\": sessionStorage.getItem(\"token\"),\n                \"Content-Type\": \"application/json\"\n            },\n            method: type\n\n        };\n        if (type === \"GET\") {\n            settings.params = data;\n        } else {\n            settings.data = data;\n        }\n\n        return axios(settings);\n    },\n    upload(formData) {\n        return axios({\n            method: \"post\",\n            url: config.uploadUrl + \"upload\",\n            data: formData,\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n    },\n    getProcessTemplate(type) {\n        return axios({\n            method: \"get\",\n            url: \"template/\" + type + \".bpmn\",\n            headers: {\n                'Content-Type': 'text'\n            }\n        });\n    }\n}\n"],"sourceRoot":""}